webpackJsonp([1],Array(428).concat([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(475),o=i(s),u=r(438),d=r(722),c=r(437);u.ccxtVersion="1.14.118";var l={_1broker:r(1071),_1btcxe:r(732),acx:r(620),allcoin:r(1075),anxpro:r(1076),bibox:r(1077),binance:r(1078),bit2c:r(1081),bitbank:r(1082),bitbay:r(1083),bitfinex:r(621),bitfinex2:r(1084),bitflyer:r(1085),bithumb:r(1086),bitkk:r(1087),bitlish:r(1088),bitmarket:r(1089),bitmex:r(1090),bitso:r(1091),bitstamp:r(1092),bitstamp1:r(1093),bittrex:r(733),bitz:r(1094),bl3p:r(1095),bleutrade:r(1096),braziliex:r(1097),btcbox:r(734),btcchina:r(1098),btcexchange:r(1099),btcmarkets:r(1100),btctradeim:r(1101),btctradeua:r(1102),btcturk:r(735),btcx:r(1103),bxinth:r(1104),ccex:r(1105),cex:r(1106),chbtc:r(1107),chilebit:r(1108),cobinhood:r(1109),coinbase:r(1110),coincheck:r(1111),coinegg:r(623),coinex:r(1112),coinexchange:r(1113),coinfloor:r(1114),coingi:r(1115),coinmarketcap:r(1116),coinmate:r(1117),coinnest:r(1118),coinone:r(1119),coinsecure:r(1120),coinspot:r(1121),cointiger:r(1122),coolcoin:r(1123),cryptopia:r(1124),dsx:r(1125),ethfinex:r(1126),exmo:r(1127),exx:r(1128),flowbtc:r(1129),foxbit:r(506),fybse:r(736),fybsg:r(1130),gatecoin:r(1131),gateio:r(1132),gdax:r(1133),gemini:r(1134),getbtc:r(1135),hadax:r(1136),hitbtc:r(737),hitbtc2:r(1137),huobi:r(1138),huobicny:r(1139),huobipro:r(532),ice3x:r(1140),independentreserve:r(1141),indodax:r(1142),itbit:r(1143),jubi:r(1144),kraken:r(1145),kucoin:r(1146),kuna:r(1147),lakebtc:r(1148),lbank:r(1149),liqui:r(507),livecoin:r(1150),luno:r(1151),lykke:r(1152),mercado:r(1153),mixcoins:r(1154),negociecoins:r(1155),nova:r(1156),okcoincny:r(1157),okcoinusd:r(531),okex:r(1158),paymium:r(1159),poloniex:r(1160),qryptos:r(738),quadrigacx:r(1161),quoinex:r(1162),southxchange:r(1163),surbitcoin:r(1164),therock:r(1165),tidebit:r(1166),tidex:r(1167),urdubit:r(1168),vaultoro:r(1169),vbtc:r(1170),virwox:r(1171),wex:r(1172),xbtce:r(1173),yobit:r(1174),yunbi:r(1175),zaif:r(1176),zb:r(622)};e.exports=(0,o.default)({version:"1.14.118",Exchange:u,exchanges:(0,a.default)(l)},l,d,c)},function(e,t,r){e.exports={default:r(1008),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var i=r(721),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}()},function(e,t,r){"use strict";t.__esModule=!0;var i=r(529),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,n.default)(t))&&"function"!==typeof t?e:t}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(1059),a=i(n),s=r(1063),o=i(s),u=r(529),d=i(u);t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,d.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(429),a=i(n),s=r(1072),o=i(s);t.default=function e(t,r,i){null===t&&(t=Function.prototype);var n=(0,o.default)(t,r);if(void 0===n){var s=(0,a.default)(t);return null===s?void 0:e(s,r,i)}if("value"in n)return n.value;var u=n.get;if(void 0!==u)return u.call(i)}},function(e,t,r){"use strict";t.__esModule=!0;var i=r(528),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){return function(){var t=e.apply(this,arguments);return new n.default(function(e,r){function i(a,s){try{var o=t[a](s),u=o.value}catch(e){return void r(e)}if(!o.done)return n.default.resolve(u).then(function(e){i("next",e)},function(e){i("throw",e)});e(u)}return i("next")})}}},function(e,t,r){e.exports={default:r(967),__esModule:!0}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!0,a=!1,o=void 0;try{for(var d,l=(0,u.default)((0,s.default)(t));!(i=(d=l.next()).done);i=!0){var f,v=d.value;!function(t){f=(0,x.default)(t,2);var i=f[0],a=f[1],s=(0,g.default)(r,(0,c.default)({},i,function(e){function t(e){(0,p.default)(this,t);var r=(0,m.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return r.constructor=s,r.__proto__=s.prototype,r.message=e,r}return(0,k.default)(t,e),t}(e)))[i];n(s,a,r)}(v)}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return r}var a=r(720),s=i(a),o=r(504),u=i(o),d=r(1069),c=i(d),l=r(429),h=i(l),f=r(430),p=i(f),v=r(432),m=i(v),y=r(433),k=i(y),b=r(475),g=i(b),w=r(439),x=i(w);e.exports=n(Error,{BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{}},NotSupported:{}},NetworkError:{DDoSProtection:{},ExchangeNotAvailable:{},InvalidNonce:{},RequestTimeout:{}}}})},function(e,t,r){"use strict";(function(t){function i(e){return e&&e.__esModule?e:{default:e}}var n=r(701),a=i(n),s=r(528),o=i(s),u=r(715),d=i(u),c=r(529),l=i(c),h=r(19),f=i(h),p=r(435),v=i(p),m=r(720),k=i(m),b=r(436),g=i(b),w=r(439),x=i(w),T=r(1005),C=i(T),_=r(504),O=i(_),B=r(429),S=i(B),M=r(475),I=i(M),E=r(430),F=i(E),P=r(431),A=i(P),G=r(722),D=r(1068),R=G.isNode,L=(G.keys,G.values,G.deepExtend),q=G.extend,N=G.flatten,U=G.unique,H=G.indexBy,V=G.sortBy,j=G.groupBy,K=G.aggregate,X=(G.uuid,G.unCamelCase),W=(G.precisionFromString,G.throttle),Y=G.capitalize,z=G.now,J=(G.sleep,G.timeout),Q=G.TimedOut,Z=G.buildOHLCVC,$=r(437),ee=$.ExchangeError,te=$.InvalidAddress,re=$.NotSupported,ie=$.AuthenticationError,ne=$.DDoSProtection,ae=$.RequestTimeout,se=$.ExchangeNotAvailable,oe=G.precisionConstants.DECIMAL_PLACES,ue=R?r(1070)().fetch:fetch,de=void 0;e.exports=function(){function e(){var r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,F.default)(this,e),(0,I.default)(this,G,{encode:function(e){return e},decode:function(e){return e}}),R&&(this.nodeVersion=t.version.match(/\d+\.\d+.\d+/)[0]),this.options={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.iso8601=function(e){return"undefined"===typeof e?e:new Date(e).toISOString()},this.parse8601=function(e){return Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"))},this.parseDate=function(e){return"undefined"===typeof e?e:e.indexOf("GMT")>=0?Date.parse(e):r.parse8601(e)},this.microseconds=function(){return 1e3*z()},this.seconds=function(){return Math.floor(z()/1e3)},this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.fetchImplementation=ue,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.journal="debug.json",this.userAgent=void 0,this.twofa=!1,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders={},this.trades={},this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0,this.arrayConcat=function(e,t){return e.concat(t)};!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(null!==t){var i=!0,n=!1,a=void 0;try{for(var s,o=(0,O.default)((0,C.default)(t));!(i=(s=o.next()).done);i=!0){var u=s.value;r[X(u)]=r[u]}}catch(e){n=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw a}}e((0,S.default)(t))}}();var n=L(this.describe(),i),a=!0,s=!1,o=void 0;try{for(var u,d=(0,O.default)((0,k.default)(n));!(a=(u=d.next()).done);a=!0){var c=u.value,l=(0,x.default)(c,2),h=l[0],f=l[1];this[h]=L(this[h],f)}}catch(e){s=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw o}}for(var p in this.has)this["has"+Y(p)]=!!this.has[p];this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets),this.debug&&de&&de(function(){return r.journal},this,(0,g.default)(this.has))}return(0,A.default)(e,[{key:"getMarket",value:function(e){this.marketClasses||(this.marketClasses={});var t=this.marketClasses[e];return t||(t=new D(this,e),this.marketClasses[e]=t,t)}},{key:"describe",value:function(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!1,rateLimit:2e3,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelOrders:!1,createDepositAddress:!1,createOrder:!0,createMarketOrder:!0,createLimitOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,fetchTradingFees:!1,fetchTradingLimits:!1,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},parseJsonResponse:!0,skipJsonOnStatusCodes:[],exceptions:void 0,dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH"},precisionMode:oe}}}]),(0,A.default)(e,[{key:"defaults",value:function(){return{}}},{key:"nonce",value:function(){return this.seconds()}},{key:"milliseconds",value:function(){return z()}},{key:"encodeURIComponent",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return encodeURIComponent.apply(void 0,arguments)})},{key:"checkRequiredCredentials",value:function(){var e=this;(0,g.default)(this.requiredCredentials).forEach(function(t){if(e.requiredCredentials[t]&&!e[t])throw new ie(e.id+" requires `"+t+"`")})}},{key:"checkAddress",value:function(e){if("undefined"===typeof e)throw new te(this.id+" address is undefined");if(1===U(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new te(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+e.toString()+'"');return e}},{key:"initRestRateLimiter",value:function(){var e=this.fetchImplementation;if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({refillRate:1/this.rateLimit,delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=W(this.tokenBucket),this.executeRestRequest=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,s=e(t,{method:r,headers:n,body:a,agent:this.agent||null,timeout:this.timeout}).catch(function(e){if(R)throw new se([i.id,r,t,e.type,e.message].join(" "));throw e}).then(function(e){return i.handleRestResponse(e,t,r,n,a)});return J(this.timeout,s).catch(function(e){if(e instanceof Q)throw new ae(i.id+" "+r+" "+t+" request timed out ("+i.timeout+" ms)");throw e})}}},{key:"defineRestApi",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!0,a=!1,s=void 0;try{for(var o,u=(0,O.default)((0,g.default)(e));!(n=(o=u.next()).done);n=!0){var d=o.value;!function(n){var a=!0,s=!1,o=void 0;try{for(var u,d=(0,O.default)((0,g.default)(e[n]));!(a=(u=d.next()).done);a=!0)for(var c=u.value,l=e[n][c],h=0;h<l.length;h++)!function(e){var a=l[e].trim(),s=a.split(/[^a-zA-Z0-9]/),o=c.toUpperCase(),u=c.toLowerCase(),d=r.capitalize(u),h=s.map(r.capitalize).join(""),p=s.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return e.length>0}).join("_"),m=n+d+r.capitalize(h),y=n+"_"+u+"_"+p;"suffixes"in i&&("camelcase"in i.suffixes&&(m+=i.suffixes.camelcase),"underscore"in i.suffixes&&(y+=i.suffixes.underscore)),"underscore_suffix"in i&&(y+=i.underscoreSuffix),"camelcase_suffix"in i&&(m+=i.camelcaseSuffix);var k=function(){var e=(0,v.default)(f.default.mark(function e(i){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r[t](a,n,o,i||{}));case 1:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}();r[m]=k,r[y]=k}(h)}catch(e){s=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw o}}}(d)}}catch(e){a=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw s}}}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return R&&this.userAgent&&("string"===typeof this.userAgent?r=q({"User-Agent":this.userAgent},r):"object"===(0,l.default)(this.userAgent)&&"User-Agent"in this.userAgent&&(r=q(this.userAgent,r))),"function"===typeof this.proxy?(e=this.proxy(e),R&&(r=q({Origin:this.origin},r))):"string"===typeof this.proxy&&(this.proxy.length&&R&&(r=q({Origin:this.origin},r)),e=this.proxy+e),r=q(this.headers,r),this.verbose&&console.log("fetch:\n",this.id,t,e,"\nRequest:\n",r,"\n",i,"\n"),this.executeRestRequest(e,t,r,i)}},{key:"fetch2",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.enableRateLimit){e.next=3;break}return e.next=3,this.throttle();case 3:return r=this.sign(t,i,n,a,s,o),e.abrupt("return",this.fetch(r.url,r.method,r.headers,r.body));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return this.fetch2(e,t,r,i,n,a)}},{key:"parseJson",value:function(e,t,r,i){try{return t.length>0?JSON.parse(t):{}}catch(c){this.verbose&&console.log("parseJson:\n",this.id,i,r,e.status,"error",c,"response body:\n'"+t+"'\n");var n=void 0,a=t.match(/<title>([^<]+)/i);a&&(n=a[1].trim());var s=t.match(/offline|busy|retry|wait|unavailable|maintain|maintenance|maintenancing/i),o=t.match(/cloudflare|incapsula|overload|ddos/i);if(c instanceof SyntaxError){var u=se,d="not accessible from this location at the moment";throw s&&(d="offline, on maintenance or unreachable from this location at the moment"),o&&(u=ne),new u([this.id,i,r,e.status,n,d].join(" "))}throw c}}},{key:"handleErrors",value:function(e,t,r,i,n,a,s){}},{key:"defaultErrorHandler",value:function(e,t,r,i){var n=e.status,a=e.statusText;if(!(n>=200&&n<=299)){var s=void 0,o=t,u=t.match(/<title>([^<]+)/i);if(u&&(o=u[1].trim()),[418,429].includes(n))s=ne;else if([404,409,500,501,502,520,521,522,525].includes(n))s=se;else if([400,403,405,503,530].includes(n)){var d=t.match(/cloudflare|incapsula/i);d?s=ne:(s=se,o+=" (possible reasons: "+["invalid API keys","bad or old nonce","exchange is down or offline","on maintenance","DDoS protection","rate-limiting"].join(", ")+")")}else s=[408,504].includes(n)?ae:[401,511].includes(n)?ie:ee;throw new s([this.id,i,r,n,a,o].join(" "))}}},{key:"handleRestResponse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=this;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return e.text().then(function(n){var a=i.parseJsonResponse&&!i.skipJsonOnStatusCodes.includes(e.status),s=a?i.parseJson(e,n,t,r):void 0,o={};e.headers.forEach(function(e,t){t=t.split("-").map(function(e){return Y(e)}).join("-"),o[t]=e}),i.last_response_headers=o,i.last_http_response=n,i.last_json_response=s,i.verbose&&console.log("handleRestResponse:\n",i.id,r,t,e.status,e.statusText,"\nResponse:\n",o,"\n",n,"\n");var u=[e.status,e.statusText,t,r,o,n,s];return i.handleErrors.apply(i,u),i.defaultErrorHandler(e,n,t,r),a?s:n})}},{key:"setMarkets",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=(0,d.default)(e).map(function(e){return L({limits:t.limits,precision:t.precision},t.fees.trading,e)});if(this.markets=L(this.markets,H(i,"symbol")),this.marketsById=H(e,"id"),this.markets_by_id=this.marketsById,this.symbols=(0,g.default)(this.markets).sort(),this.ids=(0,g.default)(this.markets_by_id).sort(),r)this.currencies=L(r,this.currencies);else{var n=i.filter(function(e){return"base"in e}).map(function(e){return{id:e.baseId||e.base,numericId:"undefined"!==typeof e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8}}),a=i.filter(function(e){return"quote"in e}).map(function(e){return{id:e.quoteId||e.quote,numericId:"undefined"!==typeof e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8}}),s=n.concat(a),o=j(s,"code"),u=(0,g.default)(o).map(function(e){return o[e].reduce(function(e,t){return e.precision>t.precision?e:t},o[e][0])}),c=V(N(u),"code");this.currencies=L(H(c,"code"),this.currencies)}return this.currencies_by_id=H(this.currencies,"id"),this.markets}},{key:"loadMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!this.markets){e.next=4;break}if(this.markets_by_id){e.next=3;break}return e.abrupt("return",this.setMarkets(this.markets));case 3:return e.abrupt("return",this.markets);case 4:return e.next=6,this.fetchMarkets();case 6:if(t=e.sent,r=void 0,!this.has.fetchCurrencies){e.next=12;break}return e.next=11,this.fetchCurrencies();case 11:r=e.sent;case 12:return e.abrupt("return",this.setMarkets(t,r));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBidsAsks",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new re(this.id+" fetchBidsAsks not supported yet")}},{key:"fetchOHLCVC",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has.fetchTrades){e.next=2;break}throw new re(this.id+" fetchOHLCV() not supported yet");case 2:return e.next=4,this.loadMarkets();case 4:return e.next=6,this.fetchTrades(t,a,s,o);case 6:return r=e.sent,i=Z(r,n,a,s),e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has.fetchTrades){e.next=2;break}throw new re(this.id+" fetchOHLCV() not supported yet");case 2:return e.next=4,this.loadMarkets();case 4:return e.next=6,this.fetchTrades(t,a,s,o);case 6:return r=e.sent,i=Z(r,n,a,s),e.abrupt("return",i.map(function(e){return e.slice(0,-1)}));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"convertTradingViewToOHLCV",value:function(e){for(var t=[],r=0;r<e.t.length;r++)t.push([1e3*e.t[r],e.o[r],e.h[r],e.l[r],e.c[r],e.v[r]]);return t}},{key:"convertOHLCVToTradingView",value:function(e){for(var t={t:[],o:[],h:[],l:[],c:[],v:[]},r=0;r<e.length;r++)t.t.push(parseInt(e[r][0]/1e3)),t.o.push(e[r][1]),t.h.push(e[r][2]),t.l.push(e[r][3]),t.c.push(e[r][4]),t.v.push(e[r][5]);return t}},{key:"fetchTickers",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new re(this.id+" fetchTickers not supported yet")}},{key:"purgeCachedOrders",value:function(e){var t=(0,d.default)(this.orders).filter(function(t){return"open"===t.status||t.timestamp>=e});return this.orders=H(t,"id"),this.orders}},{key:"fetchOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new re(this.id+" fetchOrder not supported yet")}},{key:"fetchOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new re(this.id+" fetchOrders not supported yet")}},{key:"fetchOpenOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new re(this.id+" fetchOpenOrders not supported yet")}},{key:"fetchClosedOrders",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new re(this.id+" fetchClosedOrders not supported yet")}},{key:"fetchMyTrades",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];throw new re(this.id+" fetchMyTrades not supported yet")}},{key:"fetchCurrencies",value:function(){throw new re(this.id+" fetchCurrencies not supported yet")}},{key:"fetchMarkets",value:function(){var e=this;return new o.default(function(t,r){return t((0,d.default)(e.markets))})}},{key:"fetchOrderStatus",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrder(t,i);case 2:return r=e.sent,e.abrupt("return",r.status);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"account",value:function(){return{free:0,used:0,total:0}}},{key:"commonCurrencyCode",value:function(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}},{key:"currencyId",value:function(e){for(var t={},r=(0,g.default)(this.commonCurrencies),i=0;i<r.length;i++){var n=r[i];t[this.commonCurrencies[n]]=n}return this.safeString(t,e,e)}},{key:"currency",value:function(e){if("undefined"===typeof this.currencies)throw new ee(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new ee(this.id+" does not have currency code "+e)}},{key:"findMarket",value:function(e){if("undefined"===typeof this.markets)throw new ee(this.id+" markets not loaded");if("string"===typeof e){if(e in this.markets_by_id)return this.markets_by_id[e];if(e in this.markets)return this.markets[e]}return e}},{key:"findSymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"undefined"===typeof t&&(t=this.findMarket(e)),"object"===("undefined"===typeof t?"undefined":(0,l.default)(t))?t.symbol:e}},{key:"market",value:function(e){if("undefined"===typeof this.markets)throw new ee(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new ee(this.id+" does not have market symbol "+e)}},{key:"marketId",value:function(e){var t=this.market(e);return"undefined"!==typeof t?t.id:e}},{key:"marketIds",value:function(e){var t=this;return e.map(function(e){return t.marketId(e)})}},{key:"symbol",value:function(e){return this.market(e).symbol||e}},{key:"extractParams",value:function(e){for(var t=/{([\w-]+)}/g,r=[],i=t.exec(e);i;)r.push(i[1]),i=t.exec(e);return r}},{key:"implodeParams",value:function(e,t){for(var r in t)e=e.replace("{"+r+"}",t[r]);return e}},{key:"url",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.implodeParams(e,t),i=this.omit(t,this.extractParams(e));return(0,g.default)(i).length&&(r+="?"+this.urlencode(i)),r}},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return[parseFloat(e[t]),parseFloat(e[r])]}},{key:"parseBidsAsks",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,d.default)(e||[]).map(function(e){return t.parseBidAsk(e,r,i)})}},{key:"fetchL2OrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrderBook(t,i,n);case 2:return r=e.sent,e.abrupt("return",q(r,{bids:V(K(r.bids),0,!0),asks:V(K(r.asks),0)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderBook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bids",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asks",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{bids:V(r in e?this.parseBidsAsks(e[r],n,a):[],0,!0),asks:V(i in e?this.parseBidsAsks(e[i],n,a):[],0),timestamp:t,datetime:"undefined"!==typeof t?this.iso8601(t):void 0,nonce:void 0}}},{key:"getCurrencyUsedOnOpenOrders",value:function(e){var t=this;return(0,d.default)(this.orders).filter(function(e){return"open"===e.status}).reduce(function(r,i){var n=i.symbol,a=t.markets[n],s=i.remaining;return e===a.base&&"sell"===i.side?r+s:e===a.quote&&"buy"===i.side?r+i.price*s:r},0)}},{key:"parseBalance",value:function(e){var t=this;return(0,g.default)(this.omit(e,"info")).forEach(function(r){if("undefined"===typeof e[r].used)if(t.dontGetUsedBalanceFromStaleCache&&"open_orders"in e.info){var i=e.info.open_orders,n=(0,d.default)(t.orders).filter(function(e){return"open"===e.status}).length;n===i&&(e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=e[r].used+e[r].free)}else e[r].used=t.getCurrencyUsedOnOpenOrders(r),e[r].total=e[r].used+e[r].free;["free","used","total"].forEach(function(t){e[t]=e[t]||{},e[t][r]=e[r][t]})}),e}},{key:"fetchPartialBalance",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBalance(i);case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchFreeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("free",e)}},{key:"fetchUsedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("used",e)}},{key:"fetchTotalBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetchPartialBalance("total",e)}},{key:"loadTradingLimits",value:function(){function e(){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(){var t,r,i,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has.fetchTradingLimits){e.next=9;break}if(!o&&"limitsLoaded"in this.options){e.next=9;break}return e.next=4,this.fetchTradingLimits(s);case 4:for(t=e.sent,r=t.limits,i=(0,g.default)(r),n=0;n<i.length;n++)a=i[n],this.markets[a]=this.deepExtend(this.markets[a],{limits:r[a]});this.options.limitsLoaded=this.milliseconds();case 9:return e.abrupt("return",this.markets);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"filterBySinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return"undefined"!==typeof t&&(e=e.filter(function(e){return e.timestamp>=t})),"undefined"!==typeof r&&(e=e.slice(0,r)),e}},{key:"filterBySymbolSinceLimit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n="undefined"!==typeof t,a="undefined"!==typeof r;return(n||a)&&(e=(0,d.default)(e).filter(function(e){return(!n||e.symbol===t)&&(!a||e.timestamp>=r)})),"undefined"!==typeof i&&(e=(0,d.default)(e).slice(0,i)),e}},{key:"filterByArray",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e=(0,d.default)(e),"undefined"===typeof r)return i?H(e,t):e;for(var n=[],a=0;a<e.length;a++)r.includes(e[a][t])&&n.push(e[a]);return i?H(n,t):n}},{key:"parseTrades",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=(0,d.default)(e||[]).map(function(e){return r.parseTrade(e,t)});a=V(a,"timestamp");var s="undefined"!==typeof t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,s,i,n)}},{key:"parseOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=(0,d.default)(e).map(function(e){return r.parseOrder(e,t)});a=V(a,"timestamp");var s="undefined"!==typeof t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,s,i,n)}},{key:"filterBySymbol",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"undefined"!==typeof t?e.filter(function(e){return e.symbol===t}):e}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Array.isArray(e)?e.slice(0,6):e}},{key:"parseOHLCVs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;e=(0,d.default)(e);for(var a=[],s=0;s<e.length&&!(n&&a.length>=n);s++){var o=this.parseOHLCV(e[s],t,r,i,n);i&&o[0]<i||a.push(o)}return a}},{key:"editLimitBuyOrder",value:function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return this.editLimitOrder.apply(this,[e,t,"buy"].concat(i))}},{key:"editLimitSellOrder",value:function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return this.editLimitOrder.apply(this,[e,t,"sell"].concat(i))}},{key:"editLimitOrder",value:function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];return this.editOrder.apply(this,[e,t,"limit"].concat(i))}},{key:"editOrder",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,v.default)(f.default.mark(function e(t,r){for(var i=arguments.length,n=Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enableRateLimit){e.next=2;break}throw new ee(this.id+" editOrder() requires enableRateLimit = true");case 2:return e.next=4,this.cancelOrder(t,r);case 4:return e.abrupt("return",this.createOrder.apply(this,[r].concat((0,a.default)(n))));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createLimitOrder",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.createOrder.apply(this,[e,"limit"].concat(r))}},{key:"createMarketOrder",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.createOrder.apply(this,[e,"market"].concat(r))}},{key:"createLimitBuyOrder",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.createOrder.apply(this,[e,"limit","buy"].concat(r))}},{key:"createLimitSellOrder",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return this.createOrder.apply(this,[e,"limit","sell"].concat(r))}},{key:"createMarketBuyOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","buy",t,void 0,r)}},{key:"createMarketSellOrder",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.createOrder(e,"market","sell",t,void 0,r)}},{key:"costToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"priceToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"amountToPrecision",value:function(e,t){return this.truncate(t,this.markets[e].precision.amount)}},{key:"amountToString",value:function(e,t){return this.truncate_to_string(t,this.markets[e].precision.amount)}},{key:"amountToLots",value:function(e,t){var r=this.markets[e].lot;return this.amountToPrecision(e,Math.floor(t/r)*r)}},{key:"feeToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.markets[e].precision.price)}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=s[a],u=parseFloat(this.costToPrecision(e,i*n));return{type:a,currency:s.quote,rate:o,cost:parseFloat(this.feeToPrecision(e,o*u))}}},{key:"mdy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),i=(r.getUTCFullYear().toString(),r.getUTCMonth()+1),n=r.getUTCDate();return i=i<10?"0"+i:i.toString(),n=n<10?"0"+n:n.toString(),i+t+n+t+y}},{key:"ymd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";t=t||"";var r=new Date(e),i=r.getUTCFullYear().toString(),n=r.getUTCMonth()+1,a=r.getUTCDate();return n=n<10?"0"+n:n.toString(),a=a<10?"0"+a:a.toString(),i+t+n+t+a}},{key:"ymdhms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=new Date(e),i=r.getUTCFullYear(),n=r.getUTCMonth()+1,a=r.getUTCDate(),s=r.getUTCHours(),o=r.getUTCMinutes(),u=r.getUTCSeconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,s=s<10?"0"+s:s,o=o<10?"0"+o:o,u=u<10?"0"+u:u,i+"-"+n+"-"+a+t+s+":"+o+":"+u}}]),e}()}).call(t,r(176))},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(1e3),a=i(n),s=r(504),o=i(s);t.default=function(){function e(e,t){var r=[],i=!0,n=!1,a=void 0;try{for(var s,u=(0,o.default)(e);!(i=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if((0,a.default)(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t){var r=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=r)},,,,function(e,t,r){var i=r(446),n=r(440),a=r(461),s=r(464),o=function(e,t,r){var u,d,c,l=e&o.F,h=e&o.G,f=e&o.S,p=e&o.P,v=e&o.B,m=e&o.W,y=h?n:n[t]||(n[t]={}),k=y.prototype,b=h?i:f?i[t]:(i[t]||{}).prototype;h&&(r=t);for(u in r)(d=!l&&b&&void 0!==b[u])&&u in y||(c=d?b[u]:r[u],y[u]=h&&"function"!=typeof b[u]?r[u]:v&&d?a(c,i):m&&b[u]==c?function(e){var t=function(t,r,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):p&&"function"==typeof c?a(Function.call,c):c,p&&((y.virtual||(y.virtual={}))[u]=c,e&o.R&&k&&!k[u]&&s(k,u,c)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},,function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var i=r(602)("wks"),n=r(523),a=r(446).Symbol,s="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=s&&a[e]||(s?a:n)("Symbol."+e))}).store=i},,,,function(e,t,r){var i=r(452),n=r(700),a=r(605),s=Object.defineProperty;t.f=r(454)?Object.defineProperty:function(e,t,r){if(i(e),t=a(t,!0),i(r),n)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var i=r(453);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,r){e.exports=!r(469)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,,,,,,function(e,t,r){var i=r(498);e.exports=function(e,t,r){if(i(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,i){return e.call(t,r,i)};case 3:return function(r,i,n){return e.call(t,r,i,n)}}return function(){return e.apply(t,arguments)}}},,function(e,t,r){var i=r(599),n=r(598);e.exports=function(e){return i(n(e))}},function(e,t,r){var i=r(451),n=r(499);e.exports=r(454)?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},,,,function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,,,function(e,t,r){var i=r(598);e.exports=function(e){return Object(i(e))}},function(e,t,r){var i=r(699),n=r(603);e.exports=Object.keys||function(e){return i(e,n)}},function(e,t,r){e.exports={default:r(971),__esModule:!0}},function(e,t,r){"use strict";var i=r(975)(!0);r(607)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=i(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},,,,,,,,,,,,,,,,,,,,function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var i=r(451).f,n=r(468),a=r(447)("toStringTag");e.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,r){r(981);for(var i=r(446),n=r(464),a=r(477),s=r(447)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var d=o[u],c=i[d],l=c&&c.prototype;l&&!l[s]&&n(l,s,d),a[d]=a.Array}},function(e,t,r){var i=r(461),n=r(706),a=r(707),s=r(452),o=r(522),u=r(608),d={},c={},t=e.exports=function(e,t,r,l,h){var f,p,v,m,y=h?function(){return e}:u(e),k=i(r,l,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(f=o(e.length);f>b;b++)if((m=t?k(s(p=e[b])[0],p[1]):k(e[b]))===d||m===c)return m}else for(v=y.call(e);!(p=v.next()).done;)if((m=n(v,k,p.value,t))===d||m===c)return m};t.BREAK=d,t.RETURN=c},function(e,t,r){e.exports={default:r(1003),__esModule:!0}},function(e,t,r){e.exports={default:r(1079),__esModule:!0}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"foxbit",name:"FoxBit",countries:"BR",has:{CORS:!1,createMarketOrder:!1},rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/27991413-11b40d42-647f-11e7-91ee-78ced874dd09.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://foxbit.exchange",doc:"https://blinktrade.com/docs"},comment:"Blinktrade API",api:{public:{get:["{currency}/ticker","{currency}/orderbook","{currency}/trades"]},private:{post:["D","F","U2","U4","U6","U18","U24","U26","U30","U34","U70"]}},markets:{"BTC/VEF":{id:"BTCVEF",symbol:"BTC/VEF",base:"BTC",quote:"VEF",brokerId:1,broker:"SurBitcoin"},"BTC/VND":{id:"BTCVND",symbol:"BTC/VND",base:"BTC",quote:"VND",brokerId:3,broker:"VBTC"},"BTC/BRL":{id:"BTCBRL",symbol:"BTC/BRL",base:"BTC",quote:"BRL",brokerId:4,broker:"FoxBit"},"BTC/PKR":{id:"BTCPKR",symbol:"BTC/PKR",base:"BTC",quote:"PKR",brokerId:8,broker:"UrduBit"},"BTC/CLP":{id:"BTCCLP",symbol:"BTC/CLP",base:"BTC",quote:"CLP",brokerId:9,broker:"ChileBit"}},options:{brokerId:"4"}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostU2({BalanceReqID:this.nonce()});case 2:if(t=e.sent,r=this.safeValue(t.Responses,this.options.brokerId),i={info:t},"undefined"!==typeof r)for(n=(0,o.default)(this.currencies_by_id),s=0;s<n.length;s++)u=n[s],d=this.currencies_by_id[u],c=d.code,u in r&&(l=this.account(),l.used=1e-8*parseFloat(r[u+"_locked"]),l.total=1e-8*parseFloat(r[u]),l.free=l.total-l.used,i[c]=l);return e.abrupt("return",this.parseBalance(i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetCurrencyOrderbook(this.extend({currency:r.quote,crypto_currency:r.base},n));case 3:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetCurrencyTicker(this.extend({currency:r.quote,crypto_currency:r.base},d));case 3:return i=e.sent,n=this.milliseconds(),s=r.quote.toLowerCase(),o="vol_"+s,u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"buy"),bidVolume:void 0,ask:this.safeFloat(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"vol"),quoteVolume:parseFloat(i[o]),info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:this.safeString(e,"tid"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetCurrencyTrades(this.extend({currency:r.quote,crypto_currency:r.base},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return s=this.market(t),o="buy"===i?"1":"2",u={ClOrdID:this.nonce(),Symbol:s.id,Side:o,OrdType:"2",Price:h,OrderQty:n,BrokerID:s.brokerId},e.next=7,this.privatePostD(this.extend(u,f));case 7:return d=e.sent,c=this.indexBy(d.Responses,"MsgType"),l=c[8],e.abrupt("return",{info:d,id:l.OrderID});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostF(this.extend({ClOrdID:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,o.default)(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=this.extend({MsgType:e},u);a=this.json(c),n={APIKey:this.apiKey,Nonce:d,Signature:this.hmac(this.encode(d),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("Status"in(r=e.sent))){e.next=6;break}if(200===r.Status){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(439),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.InsufficientFunds,M=_.OrderNotFound,I=_.DDoSProtection,E=_.InvalidOrder,F=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"liqui",name:"Liqui",countries:"UA",rateLimit:3e3,version:"3",userAgent:this.userAgents.chrome,has:{CORS:!1,createMarketOrder:!1,fetchOrderBooks:!0,fetchOrder:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27982022-75aea828-63a0-11e7-9511-ca584a8edd74.jpg",api:{public:"https://api.liqui.io/api",private:"https://api.liqui.io/tapi"},www:"https://liqui.io",doc:"https://liqui.io/api",fees:"https://liqui.io/fee"},api:{public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{maker:.001,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{DSH:"DASH"},exceptions:{803:E,804:E,805:E,806:E,807:E,831:S,832:S,833:M}})}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",u=s[a],d=parseFloat(this.costToPrecision(e,i*u));return"sell"===r?d*=n:o="base",{type:a,currency:s[o],rate:u,cost:d}}},{key:"getBaseQuoteFromMarketId",value:function(e){var t=e.toUpperCase(),r=t.split("_"),i=(0,l.default)(r,2),n=i[0],a=i[1];return n=this.commonCurrencyCode(n),a=this.commonCurrencyCode(a),[n,a]}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,h,f,p,v,m,y,k,b,g,w,x;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInfo();case 2:for(t=e.sent,r=t.pairs,i=(0,o.default)(r),n=[],s=0;s<i.length;s++)u=i[s],d=r[u],c=this.getBaseQuoteFromMarketId(u),h=(0,l.default)(c,2),f=h[0],p=h[1],v=f+"/"+p,m={amount:this.safeInteger(d,"decimal_places"),price:this.safeInteger(d,"decimal_places")},y={min:this.safeFloat(d,"min_amount"),max:this.safeFloat(d,"max_amount")},k={min:this.safeFloat(d,"min_price"),max:this.safeFloat(d,"max_price")},b={min:this.safeFloat(d,"min_total")},g={amount:y,price:k,cost:b},w=this.safeInteger(d,"hidden"),x=0===w,n.push({id:u,symbol:v,base:f,quote:p,active:x,taker:d.fee/100,precision:m,limits:g,info:d});return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetInfo();case 4:for(t=e.sent,r=t.return,i={info:r},n=r.funds,s=(0,o.default)(n),u=0;u<s.length;u++)d=s[u],c=d.toUpperCase(),c=this.commonCurrencyCode(c),l=void 0,h=void 0,0===r.open_orders&&(l=n[d],h=0),f={free:n[d],used:h,total:l},i[c]=f;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={pair:r.id},"undefined"!==typeof u&&(i.limit=u),e.next=7,this.publicGetDepthPair(this.extend(i,d));case 7:if(n=e.sent,s=r.id in n){e.next=11;break}throw new O(this.id+" "+r.symbol+" order book is empty or not available");case 11:return o=n[r.id],e.abrupt("return",this.parseOrderBook(o));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBooks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=void 0,l){e.next=10;break}if(t=this.ids.join("-"),!(t.length>2048)){e.next=8;break}throw r=this.ids.length,new O(this.id+" has "+r.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:e.next=12;break;case 10:t=this.marketIds(l),t=t.join("-");case 12:return e.next=14,this.publicGetDepthPair(this.extend({pair:t},h));case 14:for(i=e.sent,n={},t=(0,o.default)(i),s=0;s<t.length;s++)u=t[s],d=u,u in this.markets_by_id&&(c=this.markets_by_id[u],d=c.symbol),n[d]=this.parseOrderBook(i[u]);return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=void 0,f){e.next=10;break}if(t=this.ids.join("-"),!(t.length>2048)){e.next=8;break}throw r=this.ids.length,new O(this.id+" has "+r.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers");case 8:e.next=12;break;case 10:t=this.marketIds(f),t=t.join("-");case 12:return e.next=14,this.publicGetTickerPair(this.extend({pair:t},p));case 14:for(i=e.sent,n={},s=(0,o.default)(i),u=0;u<s.length;u++)d=s[u],c=i[d],l=d,h=void 0,d in this.markets_by_id&&(h=this.markets_by_id[d],l=h.symbol),n[l]=this.parseTicker(c,h);return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTickers([t],i);case 2:return r=e.sent,e.abrupt("return",r[t]);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.timestamp),i=e.type;"ask"===i&&(i="sell"),"bid"===i&&(i="buy");var n=this.safeFloat(e,"price");"rate"in e&&(n=this.safeFloat(e,"rate"));var a=this.safeString(e,"tid");"trade_id"in e&&(a=this.safeString(e,"trade_id"));var s=this.safeString(e,this.getOrderIdKey());if("pair"in e){var o=e.pair;t=this.markets_by_id[o]}var u=void 0;t&&(u=t.symbol);var d=e.amount,c=this.safeValue(e,"is_your_order"),l="taker";"undefined"!==typeof c&&c&&(l="maker");var h=this.calculateFee(u,"limit",i,d,n,l);return{id:a,order:s,timestamp:r,datetime:this.iso8601(r),symbol:u,type:"limit",side:i,price:n,amount:d,fee:h,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={pair:r.id},"undefined"!==typeof o&&(i.limit=o),e.next=7,this.publicGetTradesPair(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n[r.id],r,s,o));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l,h,f,p,v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new O(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return s=this.market(t),o={pair:s.id,type:i,amount:this.amountToPrecision(t,n),rate:this.priceToPrecision(t,v)},v=parseFloat(v),n=parseFloat(n),e.next=10,this.privatePostTrade(this.extend(o,m));case 10:return u=e.sent,d=void 0,c="open",l=0,h=n,"return"in u&&(d=this.safeString(u.return,this.getOrderIdKey()),"0"===d&&(d=this.safeString(u.return,"init_order_id"),c="closed"),l=this.safeFloat(u.return,"received",0),h=this.safeFloat(u.return,"remains",n)),f=this.milliseconds(),p={id:d,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,status:c,symbol:t,type:r,side:i,price:v,cost:v*l,amount:n,remaining:h,filled:l,fee:void 0},this.orders[d]=p,e.abrupt("return",this.extend({info:u},p));case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"getOrderIdKey",value:function(){return"order_id"}},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,i={},n=this.getOrderIdKey(),i[n]=t,e.next=8,this.privatePostCancelOrder(this.extend(i,s));case 8:return r=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.id.toString(),i=this.safeString(e,"status");"undefined"!==i&&(i=this.parseOrderStatus(i));var n=1e3*parseInt(e.timestamp_created),a=void 0;t||(t=this.markets_by_id[e.pair]),t&&(a=t.symbol);var s=void 0,o=void 0,u=this.safeFloat(e,"rate"),d=void 0,c=void 0;"start_amount"in e?(o=this.safeFloat(e,"start_amount"),s=this.safeFloat(e,"amount")):(s=this.safeFloat(e,"amount"),r in this.orders&&(o=this.orders[r].amount)),"undefined"!==typeof o&&"undefined"!==typeof s&&(d=o-s,c=u*d);return{info:e,id:r,symbol:a,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,type:"limit",side:e.type,price:u,cost:c,amount:o,remaining:s,filled:d,status:i,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=(0,o.default)(e),a=[],s=0;s<n.length;s++){var u=n[s],d=e[u],c=this.extend(d,{id:u});a.push(this.parseOrder(c,t))}return this.filterBySinceLimit(a,r,i)}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderInfo(this.extend({order_id:parseInt(t)},s));case 4:return r=e.sent,t=t.toString(),i=this.parseOrder(this.extend({id:t},r.return[t])),n=t in this.orders?this.orders[t]:{},this.orders[t]=this.extend(n,i),e.abrupt("return",this.orders[t]);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var i=e[r].id;this.orders[i]=e[r]}for(var n=this.indexBy(e,"id"),a=(0,o.default)(this.orders),s=0;s<a.length;s++){var u=a[s],d=this.orders[u];if(!(u in n)){if("undefined"!==typeof t&&t!==d.symbol)continue;"open"===d.status&&(d=this.extend(d,{status:"closed",cost:void 0,filled:d.amount,remaining:0}),"undefined"===typeof d.cost&&"undefined"!==typeof d.filled&&(d.cost=d.filled*d.price),this.orders[u]=d)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("fetchOrdersRequiresSymbol"in this.options)){e.next=4;break}if(!this.options.fetchOrdersRequiresSymbol){e.next=4;break}if("undefined"!==typeof d){e.next=4;break}throw new O(this.id+" fetchOrders requires a symbol argument");case 4:return e.next=6,this.loadMarkets();case 6:return t={},r=void 0,"undefined"!==typeof d&&(i=this.market(d),t.pair=i.id),e.next=11,this.privatePostActiveOrders(this.extend(t,h));case 11:return n=e.sent,s=[],"return"in n&&(s=this.parseOrders(n.return,r)),o=this.updateCachedOrders(s,d),u=this.filterBySymbol(o,d),e.abrupt("return",this.filterBySinceLimit(u,c,l));case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,s);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","open"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,s);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},"undefined"!==typeof s&&(t=this.market(s),r.pair=t.id),"undefined"!==typeof u&&(r.count=parseInt(u)),"undefined"!==typeof o&&(r.since=parseInt(o/1e3)),e.next=9,this.privatePostTradeHistory(this.extend(r,d));case 9:return i=e.sent,n=[],"return"in i&&(n=i.return),e.abrupt("return",this.parseTrades(n,t,o,u));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostWithdrawCoin(this.extend({coinName:t,amount:parseFloat(r),address:i},s));case 5:return n=e.sent,e.abrupt("return",{info:n,id:n.return.tId});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"signBodyWithSecret",value:function(e){return this.hmac(this.encode(e),this.encode(this.secret),"sha512")}},{key:"getVersionString",value:function(){return"/"+this.version}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t],u=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var d=this.nonce();a=this.urlencode(this.extend({nonce:d,method:e},u));var c=this.signBodyWithSecret(a);n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:c}}else"public"===t?(s+=this.getVersionString()+"/"+this.implodeParams(e,i),(0,o.default)(u).length&&(s+="?"+this.urlencode(u))):(s+="/"+this.implodeParams(e,i),"GET"===r?(0,o.default)(u).length&&(s+="?"+this.urlencode(u)):(0,o.default)(u).length&&(a=this.json(u),n={"Content-Type":"application/json"}));return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("success"in s){var o=this.safeValue(s,"success",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var u=this.safeString(s,"code"),d=this.safeString(s,"error"),c=this.id+" "+this.json(s),l=this.exceptions;if(u in l)throw new l[u](c);throw"invalid api key"===d?new F(c):"invalid sign"===d?new F(c):"api key dont have trade permission"===d?new F(c):d.indexOf("invalid parameter")>=0?new E(c):"invalid order"===d?new E(c):"Requests too often"===d?new I(c):"not available"===d?new B(c):"data unavailable"===d?new B(c):"external service unavailable"===d?new B(c):new O(this.id+' unknown "error" value: '+this.json(s))}}}}}]),t}(C)},,,,,,,,,,,,,,,function(e,t,r){var i=r(600),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},function(e,t){var r=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},function(e,t,r){var i=r(444),n=r(440),a=r(469);e.exports=function(e,t){var r=(n.Object||{})[e]||Object[e],s={};s[e]=t(r),i(i.S+i.F*a(function(){r(1)}),"Object",s)}},function(e,t){e.exports=!0},function(e,t,r){var i=r(452),n=r(977),a=r(603),s=r(601)("IE_PROTO"),o=function(){},u=function(){var e,t=r(604)("iframe"),i=a.length;for(t.style.display="none",r(704).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u.prototype[a[i]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(o.prototype=i(e),r=new o,o.prototype=null,r[s]=e):r=u(),void 0===t?r:n(r,t)}},function(e,t,r){var i=r(497),n=r(447)("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=s(t=Object(e),n))?r:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){e.exports={default:r(980),__esModule:!0}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=r(990),a=i(n),s=r(992),o=i(s),u="function"===typeof o.default&&"symbol"===typeof a.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"===typeof o.default&&"symbol"===u(a.default)?function(e){return"undefined"===typeof e?"undefined":u(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":u(e)}},function(e,t,r){!function(i,n){e.exports=t=n(r(11))}(0,function(e){return function(t){var r=e,i=r.lib,n=i.Base,a=i.WordArray,s=r.x64={};s.Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],i=0;i<t;i++){var n=e[i];r.push(n.high),r.push(n.low)}return a.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),e})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.InsufficientFunds,S=_.InvalidOrder,M=_.OrderNotFound,I=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"okcoinusd",name:"OKCoin USD",countries:["CN","US"],version:"v1",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,futures:!1},extension:".do",timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},api:{web:{get:["spot/markets/currencies","spot/markets/products"]},public:{get:["depth","exchange_rate","future_depth","future_estimated_price","future_hold_amount","future_index","future_kline","future_price_limit","future_ticker","future_trades","kline","otcs","ticker","tickers","trades"]},private:{post:["account_records","batch_trade","borrow_money","borrow_order_info","borrows_info","cancel_borrow","cancel_order","cancel_otc_order","cancel_withdraw","funds_transfer","future_batch_trade","future_cancel","future_devolve","future_explosive","future_order_info","future_orders_info","future_position","future_position_4fix","future_trade","future_trades_history","future_userinfo","future_userinfo_4fix","lend_depth","order_fee","order_history","order_info","orders_info","otc_order_history","otc_order_info","repayment","submit_otc_order","trade","trade_history","trade_otc_order","wallet_info","withdraw","withdraw_info","unrepayments_info","userinfo"]}},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766791-89ffb502-5ee5-11e7-8a5b-c5950b68ac65.jpg",api:{web:"https://www.okcoin.com/v2",public:"https://www.okcoin.com/api",private:"https://www.okcoin.com/api"},www:"https://www.okcoin.com",doc:["https://www.okcoin.com/rest_getStarted.html","https://www.npmjs.com/package/okcoin.com"]},fees:{trading:{taker:.002,maker:.002}},exceptions:{1009:M,1051:M,1019:M,20015:M,1013:S,1027:S,1002:B,1050:S,10000:O,10005:I,10008:O},options:{warnOnFetchOHLCVLimitArgument:!0}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k,b,g,w,x,T,C,_,O,B;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webGetSpotMarketsProducts();case 2:for(t=e.sent,r=t.data,i=[],n={"BCH/USD":!0,"BTC/USD":!0,"ETC/USD":!0,"ETH/USD":!0,"LTC/USD":!0,"XRP/USD":!0,"EOS/USD":!0,"BTG/USD":!0},a=0;a<r.length;a++)s=r[a].symbol,u=s.split("_"),c=(0,d.default)(u,2),l=c[0],h=c[1],f=l.toUpperCase(),p=h.toUpperCase(),v=this.commonCurrencyCode(f),m=this.commonCurrencyCode(p),y=v+"/"+m,k={amount:r[a].maxSizeDigit,price:r[a].maxPriceDigit},b=Math.pow(10,-k.amount),g=r[a].minTradeSize,w=Math.pow(10,-k.price),x=0!==r[a].online,T=r[a].baseCurrency,C=r[a].quoteCurrency,_=this.extend(this.fees.trading,{id:s,symbol:y,base:v,quote:m,baseId:l,quoteId:h,baseNumericId:T,quoteNumericId:C,info:r[a],type:"spot",spot:!0,future:!1,lot:b,active:x,precision:k,limits:{amount:{min:g,max:void 0},price:{min:w,max:void 0},cost:{min:g*w,max:void 0}}}),i.push(_),O="USDT"===_.quote?"USD":_.quote,B=_.base+"/"+O,this.has.futures&&B in n&&i.push(this.extend(_,{quote:"USD",symbol:_.base+"/USD",id:_.id.replace("usdt","usd"),quoteId:_.quoteId.replace("usdt","usd"),type:"future",spot:!1,future:!0}));return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i="publicGet",n={symbol:r.id},"undefined"!==typeof s&&(n.size=s),r.future&&(i+="Future",n.contract_type="this_week"),i+="Depth",e.next=10,this[i](this.extend(n,u));case 10:return a=e.sent,e.abrupt("return",this.parseOrderBook(a));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,i=void 0;if(!t&&"symbol"in e){var n=e.symbol;n in this.markets_by_id&&(t=this.markets_by_id[n])}t&&(i=t.symbol);var a=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i="publicGet",n={symbol:r.id},r.future&&(i+="Future",n.contract_type="this_week"),i+="Ticker",e.next=9,this[i](this.extend(n,d));case 9:if(a=e.sent,"undefined"!==typeof(s=this.safeValue(a,"ticker"))){e.next=13;break}throw new O(this.id+" fetchTicker returned an empty response: "+this.json(a));case 13:return u=this.safeInteger(a,"date"),"undefined"!==typeof u&&(u*=1e3,s=this.extend(s,{timestamp:u})),e.abrupt("return",this.parseTicker(s,r));case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;return t&&(r=t.symbol),{info:e,timestamp:e.date_ms,datetime:this.iso8601(e.date_ms),symbol:r,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i="publicGet",n={symbol:r.id},r.future&&(i+="Future",n.contract_type="this_week"),i+="Trades",e.next=9,this[i](this.extend(n,d));case 9:return a=e.sent,e.abrupt("return",this.parseTrades(a,r,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],e.length),r=t>6?6:5;return[e[0],e[1],e[2],e[3],e[4],e[r]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(r=this.market(t),i="publicGet",n={symbol:r.id,type:this.timeframes[s]},r.future&&(i+="Future",n.contract_type="this_week"),i+="Kline","undefined"===typeof d){e.next=11;break}if(!this.options.warnOnFetchOHLCVLimitArgument){e.next=10;break}throw new O(this.id+' fetchOHLCV counts "limit" candles from current time backwards, therefore the "limit" argument for '+this.id+" is disabled. Set "+this.id+'.options["warnOnFetchOHLCVLimitArgument"] = false to suppress this warning message.');case 10:n.size=parseInt(d);case 11:return n.since="undefined"!==typeof u?u:this.milliseconds()-864e5,e.next=14,this[i](this.extend(n,c));case 14:return a=e.sent,e.abrupt("return",this.parseOHLCVs(a,r,s,u,d));case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostUserinfo();case 4:for(t=e.sent,r=t.info.funds,i={info:t},n=(0,a.default)(this.currencies_by_id),s=0;s<n.length;s++)u=n[s],d=this.currencies_by_id[u].code,c=this.account(),c.free=this.safeFloat(r.free,u,0),c.used=this.safeFloat(r.freezed,u,0),c.total=this.sum(c.free,c.used),i[d]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(a=this.market(t),s="privatePost",u={symbol:a.id,type:i},!a.future){e.next=10;break}s+="Future",u=this.extend(u,{contract_type:"this_week",match_price:0,lever_rate:10,price:l,amount:n}),e.next=23;break;case 10:if("limit"!==r){e.next=15;break}u.price=l,u.amount=n,e.next=23;break;case 15:if(u.type+="_market","buy"!==i){e.next=22;break}if(u.price=this.safeFloat(h,"cost"),u.price){e.next=20;break}throw new O(this.id+" market buy orders require an additional cost parameter, cost = price * amount");case 20:e.next=23;break;case 22:u.amount=n;case 23:return h=this.omit(h,"cost"),s+="Trade",e.next=27,this[s](this.extend(u,h));case 27:return d=e.sent,c=this.milliseconds(),e.abrupt("return",{info:d,id:d.order_id.toString(),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:l,amount:n,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 30:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new O(this.id+" cancelOrder() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(s),i={symbol:r.id,order_id:t},n="privatePost",r.future?(n+="FutureCancel",i.contract_type="this_week"):n+="CancelOrder",e.next=10,this[n](this.extend(i,u));case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return-1===e?"canceled":0===e?"open":1===e?"open":2===e?"closed":3===e?"open":4===e?"canceled":e}},{key:"parseOrderSide",value:function(e){return 1===e?"buy":2===e?"sell":3===e?"sell":4===e?"buy":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0;"type"in e&&("buy"===e.type||"sell"===e.type?(r=e.type,i="limit"):"buy_market"===e.type?(r="buy",i="market"):"sell_market"===e.type?(r="sell",i="market"):(r=this.parseOrderSide(e.type),("contract_name"in e||"lever_rate"in e)&&(i="margin")));var n=this.parseOrderStatus(e.status),a=void 0;t||"symbol"in e&&e.symbol in this.markets_by_id&&(t=this.markets_by_id[e.symbol]),t&&(a=t.symbol);var s=void 0,o=this.getCreateDateField();o in e&&(s=e[o]);var u=this.safeFloat(e,"amount"),d=this.safeFloat(e,"deal_amount"),c=u-d;"market"===i&&(c=0);var l=this.safeFloat(e,"avg_price");l=this.safeFloat(e,"price_avg",l);var h=l*d;return{info:e,id:e.order_id.toString(),timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:a,type:i,side:r,price:e.price,average:l,cost:h,amount:u,filled:d,remaining:c,status:n,fee:void 0}}},{key:"getCreateDateField",value:function(){return"create_date"}},{key:"getOrdersField",value:function(){return"orders"}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}throw new O(this.id+" fetchOrder requires a symbol parameter");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(d),i="privatePost",n={order_id:t,symbol:r.id},r.future&&(i+="Future",n.contract_type="this_week"),i+="OrderInfo",e.next=11,this[i](this.extend(n,c));case 11:if(a=e.sent,s=this.getOrdersField(),!((u=a[s].length)>0)){e.next=16;break}return e.abrupt("return",this.parseOrder(a[s][0]));case 16:throw new M(this.id+" order "+t+" not found");case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}throw new O(this.id+" fetchOrders requires a symbol parameter");case 2:return e.next=4,this.loadMarkets();case 4:if(t=this.market(c),r="privatePost",i={symbol:t.id},n="order_id"in f,!t.future){e.next=15;break}if(r+="FutureOrdersInfo",i.contract_type="this_week",n){e.next=13;break}throw new O(this.id+" fetchOrders() requires order_id param for futures market "+c+" (a string of one or more order ids, comma-separated)");case 13:e.next=28;break;case 15:if(a=void 0,!("type"in f)){e.next=20;break}a=f.type,e.next=26;break;case 20:if(!("status"in f)){e.next=24;break}a=f.status,e.next=26;break;case 24:throw s=n?"type":"status",new O(this.id+" fetchOrders() requires "+s+" param for spot market "+c+" (0 - for unfilled orders, 1 - for filled/canceled orders)");case 26:n?(r+="OrdersInfo",i=this.extend(i,{type:a,order_id:f.order_id})):(r+="OrderHistory",i=this.extend(i,{status:a,current_page:1,page_length:200})),f=this.omit(f,["type","status"]);case 28:return e.next=30,this[r](this.extend(i,f));case 30:return u=e.sent,d=this.getOrdersField(),e.abrupt("return",this.parseOrders(u[d],t,l,h));case 33:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,this.fetchOrders(r,i,n,this.extend({status:t},a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,e.next=3,this.fetchOrders(i,n,a,this.extend({status:t},s));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d,c,l=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if(n=this.currency(t),a=n.id+"_usd",s={symbol:a,withdraw_address:i,withdraw_amount:r,target:"address"},!("chargefee"in(u=l))){e.next=12;break}s.chargefee=u.chargefee,u=this.omit(u,"chargefee"),e.next=13;break;case 12:throw new O(this.id+" withdraw() requires a `chargefee` parameter");case 13:if(this.password?s.trade_pwd=this.password:"password"in u?(s.trade_pwd=u.password,u=this.omit(u,"password")):"trade_pwd"in u&&(s.trade_pwd=u.trade_pwd,u=this.omit(u,"trade_pwd")),d="trade_pwd"in s){e.next=17;break}throw new O(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");case 17:return e.next=19,this.privatePostWithdraw(this.extend(s,u));case 19:return c=e.sent,e.abrupt("return",{info:c,id:this.safeString(c,"withdraw_id")});case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/";if("web"!==t&&(o+=this.version+"/"),o+=e,"web"!==t&&(o+=this.extension),"private"===t){this.checkRequiredCredentials();var u=this.keysort(this.extend({api_key:this.apiKey},i)),d=this.rawencode(u)+"&secret_key="+this.secret;u.sign=this.hash(this.encode(d)).toUpperCase(),s=this.urlencode(u),n={"Content-Type":"application/x-www-form-urlencoded"}}else(0,a.default)(i).length&&(o+="?"+this.urlencode(i));return o=this.urls.api[t]+o,{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(a.length<2)&&"{"===a[0]){var s=JSON.parse(a);if("error_code"in s){var o=this.safeString(s,"error_code"),u=this.id+" "+this.json(s);if(o in this.exceptions){throw new(0,this.exceptions[o])(u)}throw new O(u)}if("result"in s&&!s.result)throw new O(this.id+" "+this.json(s))}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.ExchangeNotAvailable,O=T.InvalidOrder,B=T.OrderNotFound,S=T.InsufficientFunds;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"huobipro",name:"Huobi Pro",countries:"CN",rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobipro.com",has:{CORS:!1,fetchDepositAddress:!0,fetchOHCLV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!1,fetchTradingLimits:!0,withdraw:!0,fetchCurrencies:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"https://api.huobipro.com",www:"https://www.huobipro.com",referral:"https://www.huobi.br.com/en-us/topic/invited/?invite_code=rwrd3",doc:"https://github.com/huobiapi/API_Docs/wiki/REST_api_reference",fees:"https://www.huobipro.com/about/fee/"},api:{market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance"],post:["order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{"account-frozen-balance-insufficient-error":S,"order-limitorder-amount-min-error":O,"order-orderstate-error":B,"order-queryorder-invalid":B,"order-update-error":_},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"}})}},{key:"fetchTradingLimits",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:t={},r={},"undefined"===typeof d&&(d=this.symbols),i=0;case 6:if(!(i<d.length)){e.next=18;break}return n=d[i],a=this.market(n),e.next=11,this.publicGetCommonExchange(this.extend({symbol:a.id}));case 11:s=e.sent,u=this.parseTradingLimits(s),t[n]=s,r[n]=u;case 15:i++,e.next=6;break;case 18:return e.abrupt("return",{limits:r,info:t});case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTradingLimits",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],e.data);if("undefined"!==typeof t)return{amount:{min:t["limit-order-must-greater-than"],max:t["limit-order-must-less-than"]}}}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v,m,y,k;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.options.fetchMarketsMethod,e.next=3,this[t]();case 3:if(r=e.sent,i=r.data,!((n=i.length)<1)){e.next=8;break}throw new C(this.id+" publicGetCommonSymbols returned empty response: "+this.json(i));case 8:for(a=[],s=0;s<i.length;s++)u=i[s],d=u["base-currency"],c=u["quote-currency"],l=d.toUpperCase(),h=c.toUpperCase(),f=d+c,l=this.commonCurrencyCode(l),h=this.commonCurrencyCode(h),p=l+"/"+h,v={amount:u["amount-precision"],price:u["price-precision"]},m=Math.pow(10,-v.amount),y="OMG"===l?0:.002,k="OMG"===l?0:.002,a.push({id:f,symbol:p,base:l,quote:h,lot:m,active:!0,precision:v,taker:k,maker:y,limits:{amount:{min:m,max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:0,max:void 0}},info:u});return e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var i=this.milliseconds();"ts"in e&&(i=e.ts);var n=void 0,a=void 0,s=void 0,o=void 0;"bid"in e&&Array.isArray(e.bid)&&(n=this.safeFloat(e.bid,0),s=this.safeFloat(e.bid,1)),"ask"in e&&Array.isArray(e.ask)&&(a=this.safeFloat(e.ask,0),o=this.safeFloat(e.ask,1));var u=this.safeFloat(e,"open"),d=this.safeFloat(e,"close"),c=void 0,l=void 0,h=void 0;"undefined"!==typeof u&&"undefined"!==typeof d&&(c=d-u,h=this.sum(u,d)/2,"undefined"!==typeof d&&d>0&&(l=c/u*100));var f=this.safeFloat(e,"amount"),p=this.safeFloat(e,"vol"),v=void 0;return"undefined"!==typeof f&&"undefined"!==typeof p&&f>0&&(v=p/f),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:e.high,low:e.low,bid:n,bidVolume:s,ask:a,askVolume:o,vwap:v,open:u,close:d,last:d,previousClose:void 0,change:c,percentage:l,average:h,baseVolume:f,quoteVolume:p,info:e}}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.marketGetDepth(this.extend({symbol:r.id,type:"step0"},s));case 5:if(!("tick"in(i=e.sent))){e.next=13;break}if(i.tick){e.next=9;break}throw new C(this.id+" fetchOrderBook() returned empty response: "+this.json(i));case 9:return n=i.tick,a=n.ts,n.nonce=n.version,e.abrupt("return",this.parseOrderBook(n,a));case 13:throw new C(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(i));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.marketGetDetailMerged(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.tick,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=e.ts;return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.direction,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof f&&(i.size=f),e.next=7,this.marketGetHistoryTrade(this.extend(i,p));case 7:for(n=e.sent,a=n.data,s=[],u=0;u<a.length;u++)for(d=a[u].data,c=0;c<d.length;c++)l=this.parseTrade(d[c],r),s.push(l);return s=this.sortBy(s,"timestamp"),e.abrupt("return",this.filterBySymbolSinceLimit(s,t,h,f));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.id,e.open,e.high,e.low,e.close,e.amount]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,period:this.timeframes[a]},"undefined"!==typeof u&&(i.size=u),e.next=7,this.marketGetHistoryKline(this.extend(i,d));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n.data,r,a,s,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadAccounts",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.fetchAccounts();case 3:this.accounts=e.sent,e.next=14;break;case 6:if(!this.accounts){e.next=10;break}return e.abrupt("return",this.accounts);case 10:return e.next=12,this.fetchAccounts();case 12:this.accounts=e.sent,this.accountsById=this.indexBy(this.accounts,"id");case 14:return e.abrupt("return",this.accounts);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchAccounts",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccountAccounts();case 4:return t=e.sent,e.abrupt("return",t.data);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSettingsCurrencys(this.extend({language:this.options.language},l));case 2:for(t=e.sent,r=t.data,i={},n=0;n<r.length;n++)a=r[n],s=this.safeValue(a,"name"),u=this.safeInteger(a,"withdraw-precision"),d=this.commonCurrencyCode(s.toUpperCase()),c=a.visible&&a["deposit-enabled"]&&a["withdraw-enabled"],i[d]={id:s,code:d,type:"crypto",name:a["display-name"],active:c,status:c?"ok":"disabled",fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(a,"deposit-min-amount"),max:Math.pow(10,u)},withdraw:{min:this.safeFloat(a,"withdraw-min-amount"),max:Math.pow(10,u)}},info:a};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.loadAccounts();case 4:return t=this.options.fetchBalanceMethod,e.next=7,this[t](this.extend({id:this.accounts[0].id},l));case 7:for(r=e.sent,i=r.data.list,n={info:r},a=0;a<i.length;a++)s=i[a],u=s.currency.toUpperCase(),d=this.commonCurrencyCode(u),c=void 0,c=d in n?n[d]:this.account(),"trade"===s.type&&(c.free=parseFloat(s.balance)),"frozen"===s.type&&(c.used=parseFloat(s.balance)),c.total=this.sum(c.free,c.used),n[d]=c;return e.abrupt("return",this.parseBalance(n));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrdersByStates",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new C(this.id+" fetchOrders() requires a symbol parameter");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(n),e.next=7,this.privateGetOrderOrders(this.extend({symbol:r.id,states:t},u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.data,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",t,r,i,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",t,r,i,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrdersByStates("filled,partial-canceled,canceled",t,r,i,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrderOrdersId(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r.data));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return"partial-filled"===e?"open":"partial-canceled"===e?"canceled":"filled"===e?"closed":"canceled"===e?"canceled":"submitted"===e?"open":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0,n=void 0;if("type"in e){var a=e.type.split("-");r=a[0],i=a[1],n=this.parseOrderStatus(e.state)}var s=void 0;if(!t&&"symbol"in e&&e.symbol in this.markets_by_id){var o=e.symbol;t=this.markets_by_id[o]}t&&(s=t.symbol);var u=e["created-at"],d=this.safeFloat(e,"amount"),c=parseFloat(e["field-amount"]),l=d-c,h=this.safeFloat(e,"price"),f=parseFloat(e["field-cash-amount"]),p=0;return c&&(p=parseFloat(f/c)),{info:e,id:e.id.toString(),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:s,type:i,side:r,price:h,average:p,cost:f,amount:d,filled:c,remaining:l,status:n,fee:void 0}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.loadAccounts();case 4:if(a=this.market(t),s={"account-id":this.accounts[0].id,amount:this.amountToPrecision(t,n),symbol:a.id,type:i+"-"+r},!this.options.createMarketBuyOrderRequiresPrice){e.next=13;break}if("market"!==r||"buy"!==i){e.next=13;break}if("undefined"!==typeof l){e.next=12;break}throw new O(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");case 12:s.amount=this.priceToPrecision(t,parseFloat(n)*parseFloat(l));case 13:return"limit"===r&&(s.price=this.priceToPrecision(t,l)),u=this.options.createOrderMethod,e.next=17,this[u](this.extend(s,h));case 17:return d=e.sent,c=this.milliseconds(),e.abrupt("return",{info:d,id:d.data,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:l,amount:n,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrderOrdersIdSubmitcancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetDwDepositVirtualAddresses(this.extend({currency:r.id.toLowerCase()},a));case 5:return i=e.sent,n=this.safeString(i,"data"),this.checkAddress(n),e.abrupt("return",{currency:t,status:"ok",address:n,info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"feeToPrecision",value:function(e,t){return parseFloat(this.decimalToPrecision(t,0,this.currencies[e].precision))}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=s[a],u=i*o,d="quote";return"sell"===r?u*=n:d="base",{type:a,currency:s[d],rate:o,cost:parseFloat(this.feeToPrecision(s[d],u))}}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return this.checkAddress(i),n=this.currency(t),a={address:i,amount:r,currency:n.id.toLowerCase()},"undefined"!==typeof d&&(a["addr-tag"]=d),e.next=8,this.privatePostDwWithdrawApiCreate(this.extend(a,c));case 8:return s=e.sent,u=void 0,"data"in s&&(u=s.data),e.abrupt("return",{info:s,id:u});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/";o+="market"===t?t:this.version,o+="/"+this.implodeParams(e,i);var u=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var d=this.ymdhms(this.milliseconds(),"T"),c=this.keysort(this.extend({SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:d},u)),l=this.urlencode(c),h=[r,this.hostname,o,l].join("\n"),f=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64");l+="&"+this.urlencode({Signature:f}),o+="?"+l,"POST"===r?(s=this.json(u),n={"Content-Type":"application/json"}):n={"Content-Type":"application/x-www-form-urlencoded"}}else(0,a.default)(i).length&&(o+="?"+this.urlencode(i));return o=this.urls.api+o,{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("status"in s){if("error"===this.safeString(s,"status")){var o=this.safeString(s,"err-code"),u=this.id+" "+this.json(s),d=this.exceptions;if(o in d)throw new d[o](u);throw new C(u)}}}}}]),t}(x)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var i=r(497);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var r=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},function(e,t,r){var i=r(602)("keys"),n=r(523);e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,t,r){var i=r(446),n=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return n[e]||(n[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var i=r(453),n=r(446).document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},function(e,t,r){var i=r(453);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var i=r(525),n=r(444),a=r(703),s=r(464),o=r(468),u=r(477),d=r(976),c=r(501),l=r(705),h=r(447)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,v,m,y,k){d(r,t,v);var b,g,w,x=function(e){if(!f&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",C="values"==m,_=!1,O=e.prototype,B=O[h]||O["@@iterator"]||m&&O[m],S=B||x(m),M=m?C?x("entries"):S:void 0,I="Array"==t?O.entries||B:B;if(I&&(w=l(I.call(new e)))!==Object.prototype&&w.next&&(c(w,T,!0),i||o(w,h)||s(w,h,p)),C&&B&&"values"!==B.name&&(_=!0,S=function(){return B.call(this)}),i&&!k||!f&&!_&&O[h]||s(O,h,S),u[t]=S,u[T]=p,m)if(b={values:C?S:x("values"),keys:y?S:x("keys"),entries:M},k)for(g in b)g in O||a(O,g,b[g]);else n(n.P+n.F*(f||_),t,b);return b}},function(e,t,r){var i=r(527),n=r(447)("iterator"),a=r(477);e.exports=r(440).getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||a[i(e)]}},function(e,t){},function(e,t){e.exports=function(e,t,r,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";function i(e){var t,r;this.promise=new e(function(e,i){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=i}),this.resolve=n(t),this.reject=n(r)}var n=r(498);e.exports.f=function(e){return new i(e)}},function(e,t,r){var i=r(464);e.exports=function(e,t,r){for(var n in t)r&&e[n]?e[n]=t[n]:i(e,n,t[n]);return e}},function(e,t,r){t.f=r(447)},function(e,t,r){var i=r(523)("meta"),n=r(453),a=r(468),s=r(451).f,o=0,u=Object.isExtensible||function(){return!0},d=!r(469)(function(){return u(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++o,w:{}}})},l=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[i].i},h=function(e,t){if(!a(e,i)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[i].w},f=function(e){return d&&p.NEED&&u(e)&&!a(e,i)&&c(e),e},p=e.exports={KEY:i,NEED:!1,fastKey:l,getWeak:h,onFreeze:f}},function(e,t,r){var i=r(446),n=r(440),a=r(525),s=r(613),o=r(451).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=a?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t,r){var i=r(500),n=r(499),a=r(463),s=r(605),o=r(468),u=r(700),d=Object.getOwnPropertyDescriptor;t.f=r(454)?d:function(e,t){if(e=a(e),t=s(t,!0),u)try{return d(e,t)}catch(e){}if(o(e,t))return n(!i.f.call(e,t),e[t])}},function(e,t,r){"use strict";var i=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)};e.exports={uuid:i,unCamelCase:function(e){return e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,function(e){return e[0]+"_"+e[1]}).replace(/[A-Z0-9][A-Z0-9][a-z]/g,function(e){return e[0]+"_"+e[1]+e[2]}).toLowerCase()},capitalize:function(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(529),a=i(n),s=r(1029),o=i(s),u=o.default,d=Array.isArray,c=function(e){return"string"===typeof e},l=function(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":(0,a.default)(e))},h=function(e){return l(e)&&!d(e)},f=function(e){return p(e)&&e.toString||u(e)},p=function(e){return void 0!==e&&null!==e},v=function(e,t){return l(e)?e[t]:void 0},m=function(e){return u(e)||c(e)?parseFloat(e):NaN},y=function(e){return u(e)||c(e)?parseInt(e,10):NaN};e.exports={isNumber:u,isArray:d,isObject:l,isString:c,isStringCoercible:f,isDictionary:h,hasProps:p,prop:v,asFloat:m,asInteger:y,safeFloat:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m(v(e,t));return u(i)?i:r},safeInteger:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y(v(e,t));return u(i)?i:r},safeValue:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v(e,t);return p(i)?i:r},safeString:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v(e,t);return f(i)?String(i):r}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(l(e))return e;if(Math.abs(e)<1){var t=e.toString(),r=parseInt(t.split("e-")[1]),i="-"===t[0];r&&(e*=Math.pow(10,r-1),e=(i?"-":"")+"0."+new Array(r).join("0")+e.toString().substring(i?3:2))}else{var n=parseInt(e.toString().split("+")[1]);n>20&&(n-=20,e/=Math.pow(10,n),e+=new Array(n+1).join("0"))}return e.toString()}function a(e){var t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}var s=r(701),o=i(s),u=r(439),d=i(u),c=r(618),l=c.isString,h=(c.isNumber,Math.max),f={ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1},p=[],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=n(e),t>0){var r=p[t]||(p[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),i=e.toString().match(r)||[null,e];return(0,d.default)(i,2)[1].toString()}return parseInt(e).toString()},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(v(e,t))},y=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(r<0)throw new Error("negative precision is not yet supported");for(var s=n(e),u="-"===s[0],d=u?1:0,c=s.length,l=0;l<c&&"."!==s[l];l++);var f=l<s.length,p=new Uint8Array(c-d+(f?0:1));p[0]=48;for(var v=p.length,m=-1,y=-1,k=1,b=d;b<c;b++,k++){var g=s.charCodeAt(b);if(46===g)v=k--;else{if(g<48||g>57)throw new Error(s+": invalid number (contains an illegal character '"+s[k-1]+"')");p[k]=g,48!==g&&m<0&&(m=k)}}m<0&&(m=1);var w=0===i?v:m,x=w+r;y=-1;for(var T=p.length-1,C=0;T>=0;T--){var _=p[T];if(0!==T){if(_+=C,T>=w+r){_=0===t&&_>=53&&!(53===_&&C)?58:48}_>57?(_=48,C=1):C=0}else C&&(_=49);p[T]=_,48!==_&&(m=T,y=y<0?T+1:y)}1===i&&(w=m,x=w+r);var O=m>=v?v-1:m,B=y<v?v:y,S=u?1:0,M=S+(v-O),I=h(B-v,0),E=B-O,F=0===a?E:x-O,P=h(F-E,0),A=M+1+I,G=A+P,D=I+P===0,R=new Uint8Array(M+(D?0:1)+I+P);for(u&&(R[0]=45),k=S,b=O;k<M;k++,b++)R[k]=p[b];for(D||(R[M]=46),k=M+1,b=v;k<A;k++,b++)R[k]=p[b];for(k=A;k<G;k++)R[k]=48;return String.fromCharCode.apply(String,(0,o.default)(R))};e.exports={numberToString:n,precisionFromString:a,decimalToPrecision:y,truncate_to_string:v,truncate:m,precisionConstants:f,ROUND:0,TRUNCATE:1,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,NO_PADDING:0,PAD_WITH_ZERO:1}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.InsufficientFunds,B=_.OrderNotFound;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"acx",name:"ACX",countries:"AU",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0,fetchOrder:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/30247614-1fe61c74-9621-11e7-9e8c-f1a627afa279.jpg",extension:".json",api:"https://acx.io/api",www:"https://acx.io",doc:"https://acx.io/documents/api_v2"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:O,2003:B}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.id,s=n.name,u=s.split("/"),c=(0,d.default)(u,2),l=c[0],h=c[1],l=this.commonCurrencyCode(l),h=this.commonCurrencyCode(h),r.push({id:a,symbol:s,base:l,quote:h,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetMembersMe();case 4:for(t=e.sent,r=t.accounts,i={info:r},n=0;n<r.length;n++)a=r[n],s=a.currency,u=s.toUpperCase(),d={free:parseFloat(a.balance),used:parseFloat(a.locked),total:0},d.total=this.sum(d.free,d.used),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={market:r.id},"undefined"!==typeof s&&(i.limit=s),e.next=7,this.publicGetDepth(this.extend(i,u));case 7:return n=e.sent,a=1e3*n.timestamp,e.abrupt("return",this.parseOrderBook(n,a));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(f);case 4:for(t=e.sent,r=(0,a.default)(t),i={},n=0;n<r.length;n++)s=r[n],u=void 0,d=s,s in this.markets_by_id?(u=this.markets_by_id[s],d=u.symbol):(c=s.slice(0,3),l=s.slice(3,6),c=c.toUpperCase(),l=l.toUpperCase(),c=this.commonCurrencyCode(c),l=this.commonCurrencyCode(l),d=c+"/"+l),h=t[s],i[d]=this.parseTicker(h,u);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickersMarket(this.extend({market:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({market:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),u||(u=500),i={market:r.id,period:this.timeframes[a],limit:u},"undefined"!==typeof s&&(i.timestamp=s),e.next=8,this.publicGetK(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else{var i=e.market;r=this.markets_by_id[i].symbol}var n=this.parse8601(e.created_at),a=e.state,s=void 0;return"done"===a?s="closed":"wait"===a?s="open":"cancel"===a&&(s="canceled"),{id:e.id.toString(),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:s,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrder(this.extend({id:parseInt(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={market:this.marketId(t),side:i,volume:n.toString(),ord_type:r},"limit"===r&&(a.price=d.toString()),e.next=6,this.privatePostOrders(this.extend(a,c));case 6:return s=e.sent,u=this.markets_by_id[s.market],e.abrupt("return",this.parseOrder(s,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderDelete({id:t});case 4:if(r=e.sent,i=this.parseOrder(r),"closed"!==(n=i.status)&&"canceled"!==n){e.next=9;break}throw new B(this.id+" "+this.json(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),sum:r,address:i},a));case 5:return n=e.sent,e.abrupt("return",{info:n,id:void 0});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){if("orders"in e){for(var t=e.orders,r=this.urlencode(this.keysort(this.omit(e,"orders"))),i=0;i<t.length;i++)for(var n=t[i],s=(0,a.default)(n),o=0;o<s.length;o++){var u=s[o],d=n[u];r+="&orders%5B%5D%5B"+u+"%5D="+d.toString()}return r}return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/api/"+this.version+"/"+this.implodeParams(e,i);"extension"in this.urls&&(o+=this.urls.extension);var u=this.omit(i,this.extractParams(e)),d=this.urls.api+o;if("public"===t)(0,a.default)(u).length&&(d+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c=this.nonce().toString(),l=this.encodeParams(this.extend({access_key:this.apiKey,tonce:c},i)),h=r+"|"+o+"|"+l,f=this.hmac(this.encode(h),this.encode(this.secret)),p=l+"&signature="+f;"GET"===r?d+="?"+p:(s=p,n={"Content-Type":"application/x-www-form-urlencoded"})}return{url:d,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(400===e){var s=JSON.parse(a),o=this.safeValue(s,"error"),u=this.safeString(o,"code"),d=this.id+" "+this.json(s),c=this.exceptions;if(u in c)throw new c[u](d)}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.NotSupported,_=T.DDoSProtection,O=T.AuthenticationError,B=T.ExchangeError,S=T.ExchangeNotAvailable,M=T.InsufficientFunds,I=T.InvalidOrder,E=T.OrderNotFound,F=T.InvalidNonce,P=r(619),A=P.ROUND,G=P.TRUNCATE,D=P.SIGNIFICANT_DIGITS;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitfinex",name:"Bitfinex",countries:"VG",version:"v1",rateLimit:1500,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","today","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504}}},commonCurrencies:{BCC:"CST_BCC",BCU:"CST_BCU",DAT:"DATA",DSH:"DASH",IOS:"IOST",IOT:"IOTA",MNA:"MANA",QSH:"QASH",QTM:"QTUM",SNG:"SNGLS",SPK:"SPANK",STJ:"STORJ",YYW:"YOYOW",USD:"USDT"},exceptions:{exact:{temporarily_unavailable:S,"Order could not be cancelled.":E,"No such order found.":E,"Order price must be positive.":I,"Could not find a key matching the given X-BFX-APIKEY.":O,"This API key does not have permission for this action":O,'Key price should be a decimal number, e.g. "123.456"':I,'Key amount should be a decimal number, e.g. "123.456"':I,ERR_RATE_LIMIT:_,"Nonce is too small.":F},broad:{"Invalid order: not enough exchange balance for ":M,"Invalid order: minimum size for ":I,"Invalid order":I,"The available balance is only":M}},precisionMode:D})}},{key:"fetchFundingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostAccountFees(l);case 4:for(t=e.sent,r=t.withdraw,i={},n=(0,o.default)(r),s=0;s<n.length;s++)u=n[s],d=u,u in this.currencies_by_id&&(c=this.currencies_by_id[u],d=c.code),i[d]=this.safeFloat(r,u);return e.abrupt("return",{info:t,withdraw:i,deposit:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTradingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostSummary(r);case 4:return t=e.sent,e.abrupt("return",{info:t,maker:this.safeFloat(t,"maker_fee"),taker:this.safeFloat(t,"taker_fee")});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l,h,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbolsDetails();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],s=n.pair.toUpperCase(),o=s.slice(0,3),u=s.slice(3,6),d=this.commonCurrencyCode(o),c=this.commonCurrencyCode(u),l=d+"/"+c,h={price:n.price_precision,amount:n.price_precision},f={amount:{min:this.safeFloat(n,"minimum_order_size"),max:this.safeFloat(n,"maximum_order_size")},price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)}},f.cost={min:f.amount.min*f.price.min,max:void 0},r.push({id:s,symbol:l,base:d,quote:c,baseId:o,quoteId:u,active:!0,precision:h,limits:f,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"costToPrecision",value:function(e,t){return this.decimalToPrecision(t,A,this.markets[e].precision.price,this.precisionMode)}},{key:"priceToPrecision",value:function(e,t){return this.decimalToPrecision(t,A,this.markets[e].precision.price,this.precisionMode)}},{key:"amountToPrecision",value:function(e,t){return this.decimalToPrecision(t,G,this.markets[e].precision.amount,this.precisionMode)}},{key:"feeToPrecision",value:function(e,t){return this.decimalToPrecision(t,A,this.currencies[e].precision,this.precisionMode)}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=s[a],u=i*o,d="quote";return"sell"===r?u*=n:d="base",{type:a,currency:s[d],rate:o,cost:parseFloat(this.feeToPrecision(s[d],u))}}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.safeString(c,"type","exchange"),e.next=5,this.privatePostBalances();case 5:for(r=e.sent,i={info:r},n=0;n<r.length;n++)s=r[n],s.type===t&&(o=s.currency,u=o.toUpperCase(),u=this.commonCurrencyCode(u),d=this.account(),d.free=parseFloat(s.available),d.total=parseFloat(s.amount),d.used=d.total-d.free,i[u]=d);return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={symbol:this.marketId(t)},"undefined"!==typeof n&&(r.limit_bids=n,r.limit_asks=n),e.next=6,this.publicGetBookSymbol(this.extend(r,s));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(u);case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],s=this.parseTicker(n),o=s.symbol,r[o]=s;return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPubtickerSymbol(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeFloat(e,"timestamp"),i=void 0;if("undefined"!==typeof t)i=t.symbol;else if("pair"in e){var n=e.pair;if(n in this.markets_by_id&&(t=this.markets_by_id[n]),"undefined"!==typeof t)i=t.symbol;else{var a=n.slice(0,3),s=n.slice(3,6),o=this.commonCurrencyCode(a),u=this.commonCurrencyCode(s);i=o+"/"+u}}var d=this.safeFloat(e,"last_price");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"mid"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(parseFloat(e.timestamp)),i=e.type.toLowerCase(),n=this.safeString(e,"order_id"),a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=a*s,u=void 0;if("fee_amount"in e){var d=-this.safeFloat(e,"fee_amount"),c=this.safeString(e,"fee_currency");c in this.currencies_by_id&&(c=this.currencies_by_id[c].code),u={cost:d,currency:c}}return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,order:n,side:i,price:a,amount:s,cost:o,fee:u}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,limit_trades:o},"undefined"!==typeof s&&(i.timestamp=parseInt(s/1e3)),e.next=7,this.publicGetTradesSymbol(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n,r,s,o));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={symbol:t.id},"undefined"!==typeof o&&(r.limit_trades=o),"undefined"!==typeof s&&(r.timestamp=parseInt(s/1e3)),e.next=8,this.privatePostMytrades(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseTrades(i,t,s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=r,"limit"!==r&&"market"!==r||(s="exchange "+r),n=this.amountToPrecision(t,n),o={symbol:this.marketId(t),amount:n,side:i,type:s,ocoorder:!1,buy_price_oco:0,sell_price_oco:0},o.price="market"===r?this.nonce().toString():this.priceToPrecision(t,d),e.next=9,this.privatePostOrderNew(this.extend(o,c));case 9:return u=e.sent,e.abrupt("return",this.parseOrder(u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderCancel({order_id:parseInt(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,i=e.is_live,n=e.is_cancelled,a=void 0;a=i?"open":n?"canceled":"closed";var s=void 0;if(!t){var o=e.symbol.toUpperCase();o in this.markets_by_id&&(t=this.markets_by_id[o])}t&&(s=t.symbol);var u=e.type;u.indexOf("exchange ")>=0&&(u=e.type.split(" ")[1]);var d=parseInt(1e3*parseFloat(e.timestamp));return{info:e,id:e.id.toString(),timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:s,type:u,side:r,price:this.safeFloat(e,"price"),average:this.safeFloat(e,"avg_execution_price"),amount:this.safeFloat(e,"original_amount"),remaining:this.safeFloat(e,"remaining_amount"),filled:this.safeFloat(e,"executed_amount"),status:a,fee:void 0}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("undefined"===typeof i){e.next=5;break}if(i in this.markets){e.next=5;break}throw new B(this.id+" has no symbol "+i);case 5:return e.next=7,this.privatePostOrders(o);case 7:return t=e.sent,r=this.parseOrders(t,void 0,n,s),i&&(r=this.filterBy(r,"symbol",i)),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},"undefined"!==typeof o&&(t.limit=o),e.next=6,this.privatePostOrdersHist(this.extend(t,u));case 6:return r=e.sent,i=this.parseOrders(r,void 0,s,o),"undefined"!==typeof n&&(i=this.filterBy(i,"symbol",n)),i=this.filterBy(i,"status","closed"),e.abrupt("return",i);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderStatus(this.extend({order_id:parseInt(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[1],e[3],e[4],e[2],e[5]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return"undefined"===typeof d&&(d=100),r=this.market(t),i="t"+r.id,n={symbol:i,timeframe:this.timeframes[o],sort:1,limit:d},"undefined"!==typeof u&&(n.start=u),e.next=9,this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(n,c));case 9:return s=e.sent,e.abrupt("return",this.parseOHLCVs(s,r,o,u,d));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"getCurrencyName",value:function(e){var t={AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bcash",BCI:"bci",BFT:"bft",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",DAI:"dai",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LRC:"lrc",LTC:"litecoin",MANA:"mna",MIT:"mit",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STJ:"stj",TNB:"tnb",TRX:"trx",USD:"wire",USDT:"tetheruso",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx"};if(e in t)return t[e];throw new C(this.id+" "+e+" not supported for withdrawal")}},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDepositAddress(t,this.extend({renew:1},n));case 2:return r=e.sent,i=this.safeString(r,"address"),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,status:"ok",info:r.info});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getCurrencyName(t),i={method:r,wallet_name:"exchange",renew:0},e.next=4,this.privatePostDepositNew(this.extend(i,u));case 4:return n=e.sent,s=n.address,o=void 0,"address_pool"in n&&(o=s,s=n.address_pool),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,tag:o,status:"ok",info:n});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o,u,d,c,l,h,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),n=this.getCurrencyName(t),s={withdraw_type:n,walletselected:"exchange",amount:r.toString(),address:i},f&&(s.payment_id=f),e.next=6,this.privatePostWithdraw(this.extend(s,p));case 6:if(o=e.sent,u=o[0],d=u.withdrawal_id,c=u.message,l=this.findBroadlyMatchedKey(this.exceptions.broad,c),0!==d){e.next=16;break}if("undefined"===typeof l){e.next=15;break}throw new(h=this.exceptions.broad[l])(this.id+" "+c);case 15:throw new B(this.id+" withdraw returned an id of zero: "+this.json(u));case 16:return e.abrupt("return",{info:u,id:d});case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s="/"+this.implodeParams(e,i);s="v2"===t?"/"+t+s:"/"+this.version+s;var u=this.omit(i,this.extractParams(e)),d=this.urls.api+s;if(("public"===t||e.indexOf("/hist")>=0)&&(0,o.default)(u).length){var c="?"+this.urlencode(u);d+=c,s+=c}if("private"===t){this.checkRequiredCredentials();var l=this.nonce();u=this.extend({nonce:l.toString(),request:s},u),u=this.json(u),u=this.encode(u);var h=this.stringToBase64(u),f=this.encode(this.secret),p=this.hmac(h,f,"sha384");n={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(h),"X-BFX-SIGNATURE":p}}return{url:d,method:r,body:a,headers:n}}},{key:"findBroadlyMatchedKey",value:function(e,t){for(var r=(0,o.default)(e),i=0;i<r.length;i++){var n=r[i];if(t.indexOf(n)>=0)return n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(a.length<2)&&e>=400&&"{"===a[0]){var s=JSON.parse(a),o=this.id+" "+this.json(s),u=void 0;if("message"in s)u=s.message;else{if(!("error"in s))throw new B(o);u=s.error}var d=this.exceptions.exact;if(u in d)throw new d[u](o);var c=this.exceptions.broad,l=this.findBroadlyMatchedKey(c,u);if("undefined"!==typeof l)throw new c[l](o);throw new B(o)}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.AuthenticationError,S=_.InsufficientFunds,M=_.OrderNotFound,I=_.ExchangeNotAvailable,E=_.DDoSProtection,F=_.InvalidOrder;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"zb",name:"ZB",countries:"CN",rateLimit:1e3,version:"v1",has:{CORS:!1,createMarketOrder:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{1001:O,1002:O,1003:B,1004:B,1005:B,1006:B,1009:I,2001:S,2002:S,2003:S,2005:S,2006:S,2007:S,2009:S,3001:M,3002:F,3003:F,3004:B,3005:O,3006:B,3007:B,3008:M,4001:I,4002:E},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"http://api.zb.com/data",private:"https://trade.zb.com/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate"},api:{public:{get:["markets","ticker","depth","trades","kline"]},private:{get:["order","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getAccountInfo","getUserAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","repay","getRepayments"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ENT:"ENTCash"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=(0,d.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=t[s],c=s.split("_"),l=(0,o.default)(c,2),h=l[0],f=l[1],p=this.commonCurrencyCode(h.toUpperCase()),v=this.commonCurrencyCode(f.toUpperCase()),m=p+"/"+v,y={amount:u.amountScale,price:u.priceScale},k=Math.pow(10,-y.amount),i.push({id:s,symbol:m,baseId:h,quoteId:f,base:p,quote:v,lot:k,active:!0,precision:y,limits:{amount:{min:k,max:void 0},price:{min:Math.pow(10,-y.price),max:void 0},cost:{min:0,max:void 0}},info:u});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetGetAccountInfo(d);case 4:for(t=e.sent,r=t.result.coins,i={info:t},n=0;n<r.length;n++)s=r[n],o=this.account(),u=s.key,u=u in this.currencies_by_id?this.currencies_by_id[u].code:this.commonCurrencyCode(s.enName),o.free=parseFloat(s.available),o.used=parseFloat(s.freez),o.total=this.sum(o.free,o.used),i[u]=o;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMarketFieldName",value:function(){return"market"}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.getMarketFieldName(),n={},n[i]=r.id,e.next=8,this.publicGetDepth(this.extend(n,o));case 8:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.getMarketFieldName(),n={},n[i]=r.id,e.next=8,this.publicGetTicker(this.extend(n,c));case 8:return s=e.sent,o=s.ticker,u=this.milliseconds(),d=this.safeFloat(o,"last"),e.abrupt("return",{symbol:t,timestamp:u,datetime:this.iso8601(u),high:this.safeFloat(o,"high"),low:this.safeFloat(o,"low"),bid:this.safeFloat(o,"buy"),bidVolume:void 0,ask:this.safeFloat(o,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(o,"vol"),quoteVolume:void 0,info:o});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),"undefined"===typeof u&&(u=1e3),i={market:r.id,type:this.timeframes[s],limit:u},"undefined"!==typeof o&&(i.since=o),e.next=8,this.publicGetKline(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n.data,r,s,o,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,i="bid"===e.trade_type?"buy":"sell";return{info:e,id:e.tid.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.getMarketFieldName(),n={},n[i]=r.id,e.next=8,this.publicGetTrades(this.extend(n,d));case 8:return s=e.sent,e.abrupt("return",this.parseTrades(s,r,o,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new F(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return s={price:this.priceToPrecision(t,u),amount:this.amountToString(t,n),tradeType:"buy"===i?"1":"0",currency:this.marketId(t)},e.next=7,this.privateGetOrder(this.extend(s,d));case 7:return o=e.sent,e.abrupt("return",{info:o,id:o.id});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={id:t.toString(),currency:this.marketId(i)},r=this.extend(r,n),e.next=6,this.privateGetCancelOrder(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new O(this.id+" fetchOrder() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r={id:t.toString(),currency:this.marketId(n)},r=this.extend(r,s),e.next=8,this.privateGetGetOrder(r);case 8:return i=e.sent,e.abrupt("return",this.parseOrder(i,void 0));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new O(this.id+"fetchOrders requires a symbol parameter");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(s),r={currency:t.id,pageIndex:1,pageSize:u},i="privateGetGetOrdersIgnoreTradeType","tradeType"in d&&(i="privateGetGetOrdersNew"),n=void 0,e.prev=9,e.next=12,this[i](this.extend(r,d));case 12:n=e.sent,e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!(e.t0 instanceof M)){e.next=19;break}return e.abrupt("return",[]);case 19:throw e.t0;case 20:return e.abrupt("return",this.parseOrders(n,t,o,u));case 21:case"end":return e.stop()}},e,this,[[9,15]])}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new O(this.id+"fetchOpenOrders requires a symbol parameter");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(s),r={currency:t.id,pageIndex:1,pageSize:u},i="privateGetGetUnfinishedOrdersIgnoreTradeType","tradeType"in d&&(i="privateGetGetOrdersNew"),n=void 0,e.prev=9,e.next=12,this[i](this.extend(r,d));case 12:n=e.sent,e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!(e.t0 instanceof M)){e.next=19;break}return e.abrupt("return",[]);case 19:throw e.t0;case 20:return e.abrupt("return",this.parseOrders(n,t,o,u));case 21:case"end":return e.stop()}},e,this,[[9,15]])}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1===e.type?"buy":"sell",i=void 0,n=this.getCreateDateField();n in e&&(i=e[n]);var a=void 0;"currency"in e&&(t=this.marketsById[e.currency]),t&&(a=t.symbol);var s=e.price,o=e.trade_amount,u=e.total_amount,d=u-o,c=e.trade_money,l=this.safeString(e,"status");return"undefined"!==typeof l&&(l=this.parseOrderStatus(l)),{info:e,id:e.id,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,symbol:a,type:"limit",side:r,price:s,average:void 0,cost:c,amount:u,filled:o,remaining:d,status:l,fee:void 0}}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"canceled",2:"closed",3:"open"};return e in t?t[e]:e}},{key:"getCreateDateField",value:function(){return"trade_date"}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t];if("public"===t)s+="/"+this.version+"/"+e,(0,d.default)(i).length&&(s+="?"+this.urlencode(i));else{var o=this.keysort(this.extend({method:e,accesskey:this.apiKey},i)),u=this.nonce();o=this.keysort(o);var c=this.rawencode(o),l=this.hash(this.encode(this.secret),"sha1");s+="/"+e+"?"+c+"&"+("sign="+this.hmac(this.encode(c),this.encode(l),"md5")+"&reqTime="+u.toString())}return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&"{"===a[0]){var s=JSON.parse(a);if("code"in s){var o=this.safeString(s,"code"),u=this.id+" "+this.json(s);if(o in this.exceptions){throw new(0,this.exceptions[o])(u)}if("1000"!==o)throw new O(u)}}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(19),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.AuthenticationError,M=_.InvalidNonce,I=_.InsufficientFunds,E=_.InvalidOrder,F=_.OrderNotFound,P=_.DDoSProtection;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:"emulated",fetchMyTrades:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://www.coinegg.com/coin",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html"},api:{web:{get:["{quote}/allcoin","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/{quote}","depth/{quote}","orders/{quote}"]},private:{post:["balance","trade_add/{quote}","trade_cancel/{quote}","trade_view/{quote}","trade_list/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:S,104:S,105:S,106:M,200:I,201:E,202:E,203:F,402:P},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc"]}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.options.quoteIds,r=[],i=0;case 3:if(!(i<t.length)){e.next=18;break}return n=t[i],e.next=7,this.webGetQuoteAllcoin({quote:n});case 7:if("undefined"!==typeof(a=e.sent)){e.next=10;break}throw new B(this.id+' fetchMarkets() for "'+n+'" returned: "'+this.json(a)+'"');case 10:if(s=(0,d.default)(a),!((u=s.length)<1)){e.next=14;break}throw new B(this.id+' fetchMarkets() for "'+n+'" returned: "'+this.json(a)+'"');case 14:for(c=0;c<s.length;c++)l=s[c],h=a[l],f=l.toUpperCase(),p=n.toUpperCase(),f=this.commonCurrencyCode(f),p=this.commonCurrencyCode(p),v=l+n,m=f+"/"+p,y={amount:8,price:8},k=Math.pow(10,-y.amount),r.push({id:v,symbol:m,base:f,quote:p,baseId:l,quoteId:n,active:!0,lot:k,precision:y,limits:{amount:{min:k,max:Math.pow(10,y.amount)},price:{min:Math.pow(10,-y.price),max:Math.pow(10,y.price)},cost:{min:void 0,max:void 0}},info:h});case 15:i++,e.next=3;break;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=this.milliseconds(),n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"quoteVol"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerQuote(this.extend({coin:r.baseId,quote:r.quoteId},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p;arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:t=this.options.quoteIds,r={},i=0;case 5:if(!(i<t.length)){e.next=17;break}return n=t[i],e.next=9,this.webGetQuoteAllcoin({quote:n});case 9:if(a=e.sent,s=(0,d.default)(a),s.length){e.next=13;break}throw new O("fetchTickers failed");case 13:for(u=0;u<s.length;u++)c=s[u],l=a[c],(h=c+n)in this.markets_by_id&&(f=this.marketsById[h],p=f.symbol,r[p]=this.parseTicker({high:l[4],low:l[5],buy:l[2],sell:l[3],last:l[1],change:l[8],vol:l[6],quoteVol:l[7]},f));case 14:i++,e.next=5;break;case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetDepthQuote(this.extend({coin:r.baseId,quote:r.quoteId},n));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=this.costToPrecision(a,i*n);return{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:i,amount:n,cost:s,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetOrdersQuote(this.extend({coin:r.baseId,quote:r.quoteId},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance(k);case 4:for(t=e.sent,r={},i=this.omit(t.data,"uid"),n=(0,d.default)(i),s=0;s<n.length;s++)u=n[s],c=u.split("_"),l=(0,a.default)(c,2),h=l[0],f=l[1],p=h,h in this.currencies_by_id&&(p=this.currencies_by_id[h].code),p in r||(r[p]={free:void 0,used:void 0,total:void 0}),f="lock"===f?"used":"free",r[p][f]=parseFloat(i[u]);for(v=(0,d.default)(r),m=0;m<v.length;m++)y=v[m],r[y].total=this.sum(r[y].free,r[y].used);return e.abrupt("return",this.parseBalance(this.extend({info:t},r)));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=this.parse8601(e.datetime),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount_original"),s=this.safeFloat(e,"amount_outstanding"),o=a-s,u=this.safeString(e,"status");u="cancelled"===u?"canceled":s?"open":"closed";var d=this.safeValue(e,"info",e);return{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",side:e.type,price:n,cost:void 0,amount:a,filled:o,remaining:s,trades:void 0,fee:void 0,info:d}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),e.next=5,this.privatePostTradeAddQuote(this.extend({coin:a.baseId,quote:a.quoteId,type:i,amount:n,price:c},l));case 5:return s=e.sent,u=s.id.toString(),d=this.parseOrder({id:u,datetime:this.ymdhms(this.milliseconds()),amount_original:n,amount_outstanding:n,price:c,type:i,info:s},a),this.orders[u]=d,e.abrupt("return",d);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostTradeCancelQuote(this.extend({id:t,coin:r.baseId,quote:r.quoteId},a));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostTradeViewQuote(this.extend({id:t,coin:r.baseId,quote:r.quoteId},a));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={coin:t.baseId,quote:t.quoteId},"undefined"!==typeof a&&(r.since=a/1e3),e.next=7,this.privatePostTradeListQuote(this.extend(r,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.data,t,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,this.extend({type:"open"},a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s="rest";"web"===t&&(s=t);var o=this.urls.api[s]+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t||"web"===t)"web"===t&&(u.t=this.nonce()),(0,d.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),u=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},u));var c=this.hash(this.encode(this.secret));u+="&signature="+this.hmac(this.encode(u),this.encode(c)),"GET"===r?o+="?"+u:(n={"Content-type":"application/x-www-form-urlencoded"},a=u)}return{url:o,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&0!==a.length&&"{"===a[0]){var s=JSON.parse(a),o=this.safeValue(s,"result");if("undefined"!==typeof o&&!0!==o){var u=this.safeString(s,"code"),d=this.errorMessages,c=this.safeString(d,u,"Unknown Error");throw u in this.exceptions?new this.exceptions[u](this.id+" "+c):new O(this.id+" "+c)}}}}]),t}(C)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var i=r(468),n=r(463),a=r(969)(!1),s=r(601)("IE_PROTO");e.exports=function(e,t){var r,o=n(e),u=0,d=[];for(r in o)r!=s&&i(o,r)&&d.push(r);for(;t.length>u;)i(o,r=t[u++])&&(~a(d,r)||d.push(r));return d}},function(e,t,r){e.exports=!r(454)&&!r(469)(function(){return 7!=Object.defineProperty(r(604)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";t.__esModule=!0;var i=r(702),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}},function(e,t,r){e.exports={default:r(974),__esModule:!0}},function(e,t,r){e.exports=r(464)},function(e,t,r){var i=r(446).document;e.exports=i&&i.documentElement},function(e,t,r){var i=r(468),n=r(473),a=r(601)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){var i=r(452);e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},function(e,t,r){var i=r(477),n=r(447)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},function(e,t,r){var i=r(447)("iterator"),n=!1;try{var a=[7][i]();a.return=function(){n=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:r=!0}},a[i]=function(){return s},e(a)}catch(e){}return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var i=r(452),n=r(498),a=r(447)("species");e.exports=function(e,t){var r,s=i(e).constructor;return void 0===s||void 0==(r=i(s)[a])?t:n(r)}},function(e,t,r){var i,n,a,s=r(461),o=r(984),u=r(704),d=r(604),c=r(446),l=c.process,h=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,m=0,y={},k=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){k.call(e.data)};h&&f||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++m]=function(){o("function"==typeof e?e:Function(e),t)},i(m),m},f=function(e){delete y[e]},"process"==r(497)(l)?i=function(e){l.nextTick(s(k,e,1))}:v&&v.now?i=function(e){v.now(s(k,e,1))}:p?(n=new p,a=n.port2,n.port1.onmessage=b,i=s(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),k.call(e)}}:function(e){setTimeout(s(k,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var i=r(452),n=r(453),a=r(611);e.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var i=r(446),n=r(440),a=r(451),s=r(454),o=r(447)("species");e.exports=function(e){var t="function"==typeof n[e]?n[e]:i[e];s&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){e.exports={default:r(988),__esModule:!0}},function(e,t,r){var i=r(474),n=r(463),a=r(500).f;e.exports=function(e){return function(t){for(var r,s=n(t),o=i(s),u=o.length,d=0,c=[];u>d;)a.call(s,r=o[d++])&&c.push(e?[r,s[r]]:s[r]);return c}}},function(e,t,r){var i=r(497);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,r){var i=r(463),n=r(719).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return n(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?o(e):n(i(e))}},function(e,t,r){var i=r(699),n=r(603).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},function(e,t,r){e.exports={default:r(998),__esModule:!0}},function(e,t,r){e.exports={default:r(1010),__esModule:!0}},function(e,t,r){"use strict";var i=r(475),n=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(617),s=a.unCamelCase;e.exports=function(e){for(var t in e)e[s(t)]=e[t];return e}((0,n.default)({},r(1012),r(1013),r(617),r(618),r(619),r(724),r(1058),r(731),r(1066),r(1067)))},function(e,t,r){var i=r(453);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";var i=r(725),n=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(726),s=r(1055);e.exports={json:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,n.default)(e)},unjson:JSON.parse,stringToBinary:function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return a.lib.WordArray.create(t)},stringToBase64:function(e){return a.enc.Latin1.parse(e).toString(a.enc.Base64)},utf16ToBase64:function(e){return a.enc.Utf16.parse(e).toString(a.enc.Base64)},base64ToBinary:function(e){return a.enc.Base64.parse(e)},base64ToString:function(e){return a.enc.Base64.parse(e).toString(a.enc.Utf8)},binaryToString:function(e){return e},binaryConcat:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return e.concat(t)})},urlencode:function(e){return s.stringify(e)},rawencode:function(e){return s.stringify(e,{encode:!1})},urlencodeBase64:function(e){return e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}}},function(e,t,r){e.exports={default:r(1032),__esModule:!0}},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(530),r(1033),r(1034),r(167),r(168),r(179),r(727),r(1035),r(728),r(1036),r(1037),r(1038),r(180),r(1039),r(93),r(165),r(1040),r(1041),r(1042),r(1043),r(1044),r(1045),r(1046),r(1047),r(1048),r(1049),r(1050),r(194),r(1051),r(1052),r(1053),r(1054))}(0,function(e){return e})},function(e,t,r){!function(i,n){e.exports=t=n(r(11))}(0,function(e){return function(t){var r=e,i=r.lib,n=i.WordArray,a=i.Hasher,s=r.algo,o=[],u=[];!function(){function e(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)(function(e){for(var r=t.sqrt(e),i=2;i<=r;i++)if(!(e%i))return!1;return!0})(r)&&(i<8&&(o[i]=e(t.pow(r,.5))),u[i]=e(t.pow(r,1/3)),i++),r++}();var d=[],c=s.SHA256=a.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],n=r[1],a=r[2],s=r[3],o=r[4],c=r[5],l=r[6],h=r[7],f=0;f<64;f++){if(f<16)d[f]=0|e[t+f];else{var p=d[f-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=d[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;d[f]=v+d[f-7]+y+d[f-16]}var k=o&c^~o&l,b=i&n^i&a^n&a,g=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),w=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),x=h+w+k+u[f]+d[f],T=g+b;h=l,l=c,c=o,o=s+x|0,s=a,a=n,n=i,i=x+T|0}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return r[n>>>5]|=128<<24-n%32,r[14+(n+64>>>9<<4)]=t.floor(i/4294967296),r[15+(n+64>>>9<<4)]=i,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=a._createHelper(c),r.HmacSHA256=a._createHmacHelper(c)}(Math),e.SHA256})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(530))}(0,function(e){return function(){function t(){return s.create.apply(s,arguments)}var r=e,i=r.lib,n=i.Hasher,a=r.x64,s=a.Word,o=a.WordArray,u=r.algo,d=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=t()}();var l=u.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],n=r[1],a=r[2],s=r[3],o=r[4],u=r[5],l=r[6],h=r[7],f=i.high,p=i.low,v=n.high,m=n.low,y=a.high,k=a.low,b=s.high,g=s.low,w=o.high,x=o.low,T=u.high,C=u.low,_=l.high,O=l.low,B=h.high,S=h.low,M=f,I=p,E=v,F=m,P=y,A=k,G=b,D=g,R=w,L=x,q=T,N=C,U=_,H=O,V=B,j=S,K=0;K<80;K++){var X=c[K];if(K<16)var W=X.high=0|e[t+2*K],Y=X.low=0|e[t+2*K+1];else{var z=c[K-15],J=z.high,Q=z.low,Z=(J>>>1|Q<<31)^(J>>>8|Q<<24)^J>>>7,$=(Q>>>1|J<<31)^(Q>>>8|J<<24)^(Q>>>7|J<<25),ee=c[K-2],te=ee.high,re=ee.low,ie=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ne=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ae=c[K-7],se=ae.high,oe=ae.low,ue=c[K-16],de=ue.high,ce=ue.low,Y=$+oe,W=Z+se+(Y>>>0<$>>>0?1:0),Y=Y+ne,W=W+ie+(Y>>>0<ne>>>0?1:0),Y=Y+ce,W=W+de+(Y>>>0<ce>>>0?1:0);X.high=W,X.low=Y}var le=R&q^~R&U,he=L&N^~L&H,fe=M&E^M&P^E&P,pe=I&F^I&A^F&A,ve=(M>>>28|I<<4)^(M<<30|I>>>2)^(M<<25|I>>>7),me=(I>>>28|M<<4)^(I<<30|M>>>2)^(I<<25|M>>>7),ye=(R>>>14|L<<18)^(R>>>18|L<<14)^(R<<23|L>>>9),ke=(L>>>14|R<<18)^(L>>>18|R<<14)^(L<<23|R>>>9),be=d[K],ge=be.high,we=be.low,xe=j+ke,Te=V+ye+(xe>>>0<j>>>0?1:0),xe=xe+he,Te=Te+le+(xe>>>0<he>>>0?1:0),xe=xe+we,Te=Te+ge+(xe>>>0<we>>>0?1:0),xe=xe+Y,Te=Te+W+(xe>>>0<Y>>>0?1:0),Ce=me+pe,_e=ve+fe+(Ce>>>0<me>>>0?1:0);V=U,j=H,U=q,H=N,q=R,N=L,L=D+xe|0,R=G+Te+(L>>>0<D>>>0?1:0)|0,G=P,D=A,P=E,A=F,E=M,F=I,I=xe+Ce|0,M=Te+_e+(I>>>0<xe>>>0?1:0)|0}p=i.low=p+I,i.high=f+M+(p>>>0<I>>>0?1:0),m=n.low=m+F,n.high=v+E+(m>>>0<F>>>0?1:0),k=a.low=k+A,a.high=y+P+(k>>>0<A>>>0?1:0),g=s.low=g+D,s.high=b+G+(g>>>0<D>>>0?1:0),x=o.low=x+L,o.high=w+R+(x>>>0<L>>>0?1:0),C=u.low=C+N,u.high=T+q+(C>>>0<N>>>0?1:0),O=l.low=O+H,l.high=_+U+(O>>>0<H>>>0?1:0),S=h.low=S+j,h.high=B+V+(S>>>0<j>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(i+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});r.SHA512=n._createHelper(l),r.HmacSHA512=n._createHmacHelper(l)}(),e.SHA512})},function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var i=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&i.push(t[n]);r.obj[r.prop]=i}}return t};t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(r[i]=e[i]);return r},t.merge=function(e,r,n){if(!r)return e;if("object"!==typeof r){if(Array.isArray(e))e.push(r);else{if("object"!==typeof e)return[e,r];(n.plainObjects||n.allowPrototypes||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!==typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,n)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){i.call(e,a)?e[a]&&"object"===typeof e[a]?e[a]=t.merge(e[a],r,n):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,a){var s=r[a];return i.call(e,a)?e[a]=t.merge(e[a],s,n):e[a]=s,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",i=0;i<t.length;++i){var a=t.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(i):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(i)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],s=n.obj[n.prop],o=Object.keys(s),u=0;u<o.length;++u){var d=o[u],c=s[d];"object"===typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:s,prop:d}),r.push(c))}return a(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var i=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(528),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(432),v=i(p),m=r(433),y=i(m),k=Date.now,b=setTimeout,g=function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k()+r,a=function(){},s=!0,o=i(function(){s=!0;var r=n-k();r>0?a=e(t,r,i,n):t()},r);return function(){s&&(s=!1,clearTimeout(o)),a()}},w=function(e){function t(){(0,f.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,l.default)(t)).call(this,"timed out"));return e.constructor=t,e.__proto__=t.prototype,e.message="timed out",e}return(0,y.default)(t,e),t}(Error);e.exports={now:k,setTimeout_safe:g,sleep:function(e){return new d.default(function(t){return g(t,e)})},TimedOut:w,timeout:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t,r){var i,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){},n=new d.default(function(e){return i=g(e,t)}),e.prev=2,e.next=5,d.default.race([r,n.then(function(){throw new w})]);case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,i(),e.finish(6);case 9:case"end":return e.stop()}},e,void 0,[[2,,6,9]])}));return e}()}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"_1btcxe",name:"1BTCXE",countries:"PA",comment:"Crypto Capital API",has:{CORS:!0,withdraw:!0},timeframes:{"1d":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766049-2b294408-5ecc-11e7-85cc-adaff013dc1a.jpg",api:"https://1btcxe.com/api",www:"https://1btcxe.com",doc:"https://1btcxe.com/api-docs.php"},api:{public:{get:["stats","historical-prices","order-book","transactions"]},private:{post:["balances-and-info","open-orders","user-transactions","btc-deposit-address/get","btc-deposit-address/new","deposits/get","withdrawals/get","orders/new","orders/edit","orders/cancel","orders/status","withdrawals/new"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:"USD",symbol:"BTC/USD",base:"BTC",quote:"USD"},{id:"EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},{id:"CNY",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},{id:"RUB",symbol:"BTC/RUB",base:"BTC",quote:"RUB"},{id:"CHF",symbol:"BTC/CHF",base:"BTC",quote:"CHF"},{id:"JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY"},{id:"GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP"},{id:"CAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD"},{id:"AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},{id:"AED",symbol:"BTC/AED",base:"BTC",quote:"AED"},{id:"BGN",symbol:"BTC/BGN",base:"BTC",quote:"BGN"},{id:"CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK"},{id:"DKK",symbol:"BTC/DKK",base:"BTC",quote:"DKK"},{id:"HKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD"},{id:"HRK",symbol:"BTC/HRK",base:"BTC",quote:"HRK"},{id:"HUF",symbol:"BTC/HUF",base:"BTC",quote:"HUF"},{id:"ILS",symbol:"BTC/ILS",base:"BTC",quote:"ILS"},{id:"INR",symbol:"BTC/INR",base:"BTC",quote:"INR"},{id:"MUR",symbol:"BTC/MUR",base:"BTC",quote:"MUR"},{id:"MXN",symbol:"BTC/MXN",base:"BTC",quote:"MXN"},{id:"NOK",symbol:"BTC/NOK",base:"BTC",quote:"NOK"},{id:"NZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD"},{id:"PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},{id:"RON",symbol:"BTC/RON",base:"BTC",quote:"RON"},{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"},{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},{id:"THB",symbol:"BTC/THB",base:"BTC",quote:"THB"},{id:"TRY",symbol:"BTC/TRY",base:"BTC",quote:"TRY"},{id:"ZAR",symbol:"BTC/ZAR",base:"BTC",quote:"ZAR"}]);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalancesAndInfo();case 2:for(t=e.sent,r=t["balances-and-info"],i={info:r},n=(0,a.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=this.account(),d.free=this.safeFloat(r.available,u,0),d.used=this.safeFloat(r.on_hold,u,0),d.total=this.sum(d.free,d.used),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOrderBook(this.extend({currency:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r["order-book"],void 0,"bid","ask","price","order_amount"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetStats(this.extend({currency:this.marketId(t)},a));case 2:return r=e.sent,i=r.stats,n=this.safeFloat(i,"last_price"),e.abrupt("return",{symbol:t,timestamp:void 0,datetime:void 0,high:this.safeFloat(i,"max"),low:this.safeFloat(i,"min"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(i,"open"),close:n,last:n,previousClose:void 0,change:this.safeFloat(i,"daily_change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(i,"total_btc_traded"),info:i});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.date+" 00:00:00"),void 0,void 0,void 0,parseFloat(e.price),void 0]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1d",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetHistoricalPrices(this.extend({currency:r.id,timeframe:this.timeframes[a]},d));case 3:return i=e.sent,n=this.omit(i["historical-prices"],"request_currency"),e.abrupt("return",this.parseOHLCVs(n,r,a,s,u));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.timestamp);return{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:e.maker_type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTransactions(this.extend({currency:r.id},u));case 3:return i=e.sent,n=this.omit(i.transactions,"request_currency"),e.abrupt("return",this.parseTrades(n,r,a,s));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={side:i,type:r,currency:this.marketId(t),amount:n},"limit"===r&&(a.limit_price=u),e.next=4,this.privatePostOrdersNew(this.extend(a,d));case 4:return s=e.sent,e.abrupt("return",{info:s,id:s});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrdersCancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostWithdrawalsNew(this.extend({currency:t,amount:parseFloat(r),address:i},a));case 5:return n=e.sent,e.abrupt("return",{info:n,id:n.result.uuid});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("cryptocapital"===this.id)throw new C(this.id+" is an abstract base API for _1btcxe");var o=this.urls.api+"/"+e;if("public"===t)(0,a.default)(i).length&&(o+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.extend({api_key:this.apiKey,nonce:this.nonce()},i),d=this.json(u);u.signature=this.hmac(this.encode(d),this.encode(this.secret)),s=this.json(u),n={"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,s,u,d,c,l);case 2:if(!("errors"in(r=e.sent))){e.next=8;break}for(i=[],n=0;n<r.errors.length;n++)a=r.errors[n],i.push(a.code+": "+a.message);throw i=i.join(" "),new C(this.id+" "+i);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(436),o=i(s),u=r(19),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.AuthenticationError,M=_.InvalidOrder,I=_.InsufficientFunds,E=_.OrderNotFound,F=_.DDoSProtection,P=_.PermissionDenied;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bittrex",name:"Bittrex",countries:"US",version:"v1.1",rateLimit:1500,has:{CORS:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"oneMin","5m":"fiveMin","30m":"thirtyMin","1h":"hour","1d":"day"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766352-cf0b3c26-5ed5-11e7-82b7-f3826b7a97d8.jpg",api:{public:"https://bittrex.com/api",account:"https://bittrex.com/api",market:"https://bittrex.com/api",v2:"https://bittrex.com/api/v2.0/pub"},www:"https://bittrex.com",doc:["https://bittrex.com/Home/Api","https://www.npmjs.org/package/node.bittrex.api"],fees:["https://bittrex.com/Fees","https://support.bittrex.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"]},api:{v2:{get:["currencies/GetBTCPrice","market/GetTicks","market/GetLatestTick","Markets/GetMarketSummaries","market/GetLatestTick"]},public:{get:["currencies","markethistory","markets","marketsummaries","marketsummary","orderbook","ticker"]},account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawalhistory","withdraw"]},market:{get:["buylimit","buymarket","cancel","openorders","selllimit","sellmarket"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,VTC:.02,PPC:.02,FTC:.2,RDD:2,NXT:2,DASH:.002,POT:.002},deposit:{BTC:0,LTC:0,DOGE:0,VTC:0,PPC:0,FTC:0,RDD:0,NXT:0,DASH:0,POT:0}}},exceptions:{APISIGN_NOT_PROVIDED:S,INVALID_SIGNATURE:S,INVALID_CURRENCY:O,INVALID_PERMISSION:S,INSUFFICIENT_FUNDS:I,QUANTITY_NOT_PROVIDED:M,MIN_TRADE_REQUIREMENT_NOT_MET:M,ORDER_NOT_OPEN:M,UUID_INVALID:E,RATE_NOT_PROVIDED:M,WHITELIST_VIOLATION_IP:P,INVALID_ORDER:M},options:{parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1}})}},{key:"costToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"feeToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u,c,l,h,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.v2GetMarketsGetMarketSummaries();case 2:for(t=e.sent,r=[],i=0;i<t.result.length;i++)n=t.result[i].Market,a=n.MarketName,s=n.MarketCurrency,o=n.BaseCurrency,u=this.commonCurrencyCode(s),c=this.commonCurrencyCode(o),l=u+"/"+c,h={amount:8,price:8},f=n.IsActive||"true"===n.IsActive,r.push({id:a,symbol:l,base:u,quote:c,baseId:s,quoteId:o,active:f,info:n,precision:h,limits:{amount:{min:n.MinTradeSize,max:void 0},price:{min:Math.pow(10,-h.price),max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.accountGetBalances(m);case 4:for(t=e.sent,r=t.result,i={info:r},n=this.indexBy(r,"Currency"),a=(0,o.default)(n),s=0;s<a.length;s++)u=a[s],c=this.commonCurrencyCode(u),l=this.account(),h=n[u],f=parseFloat(h.Available),p=parseFloat(h.Balance),v=p-f,l.free=f,l.used=v,l.total=p,i[c]=l;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbook(this.extend({market:this.marketId(t),type:"both"},n));case 4:return r=e.sent,i=r.result,"type"in n&&("buy"===n.type?i={buy:r.result,sell:[]}:"sell"===n.type&&(i={buy:[],sell:r.result})),e.abrupt("return",this.parseOrderBook(i,void 0,"buy","sell","Rate","Quantity"));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"TimeStamp"),i=void 0;"string"===typeof r&&r.length>0&&(r=this.parse8601(r),i=this.iso8601(r));var n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"PrevDay"),s=this.safeFloat(e,"Last"),o=void 0,u=void 0;return"undefined"!==typeof s&&"undefined"!==typeof a&&(o=s-a,a>0&&(u=o/a*100)),{symbol:n,timestamp:r,datetime:i,high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:o,percentage:u,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencies(l);case 2:for(t=e.sent,r=t.result,i={},n=0;n<r.length;n++)a=r[n],s=a.Currency,o=this.commonCurrencyCode(s),u=8,c=this.safeValue(a,"BaseAddress"),i[o]={id:s,code:o,address:c,info:a,type:a.CoinType,name:a.CurrencyLong,active:a.IsActive,status:"ok",fee:this.safeFloat(a,"TxFee"),precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:a.TxFee,max:Math.pow(10,u)}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketsummaries(c);case 4:for(t=e.sent,r=t.result,i={},n=0;n<r.length;n++)a=r[n],s=a.MarketName,o=void 0,u=s,s in this.markets_by_id?(o=this.markets_by_id[s],u=o.symbol):u=this.parseSymbol(s),i[u]=this.parseTicker(a,o);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketsummary(this.extend({market:r.id},a));case 5:return i=e.sent,n=i.result[0],e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TimeStamp+"+00:00"),i=void 0;"BUY"===e.OrderType?i="buy":"SELL"===e.OrderType&&(i="sell");var n=void 0;return"Id"in e&&(n=e.Id.toString()),{id:n,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:"limit",side:i,price:this.safeFloat(e,"Price"),amount:this.safeFloat(e,"Quantity")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarkethistory(this.extend({market:r.id},s));case 5:if(!("result"in(i=e.sent))){e.next=9;break}if("undefined"===typeof i.result){e.next=9;break}return e.abrupt("return",this.parseTrades(i.result,r,n,a));case 9:throw new O(this.id+" fetchTrades() returned undefined response");case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.T+"+00:00"),e.O,e.H,e.L,e.C,e.V]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={tickInterval:this.timeframes[a],marketName:r.id},e.next=6,this.v2GetMarketGetTicks(this.extend(i,u));case 6:if(!("result"in(n=e.sent))){e.next=10;break}if(!n.result){e.next=10;break}return e.abrupt("return",this.parseOHLCVs(n.result,r,a,s,o));case 10:throw new O(this.id+" returned an empty or unrecognized response: "+this.json(n));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,a&&(r=this.market(a),t.market=r.id),e.next=7,this.marketGetOpenorders(this.extend(t,u));case 7:return i=e.sent,n=this.parseOrders(i.result,r,s,o),e.abrupt("return",this.filterBySymbol(n,a));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n){var a,s,o,u,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new O(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return a=this.market(t),s="marketGet"+this.capitalize(i)+r,o={market:a.id,quantity:this.amountToPrecision(t,n),rate:this.priceToPrecision(t,h)},e.next=9,this[s](this.extend(o,f));case 9:return u=e.sent,c=this.getOrderIdField(),l={info:u,id:u.result[c],symbol:t,type:r,side:i,status:"open"},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"getOrderIdField",value:function(){return"uuid"}},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.getOrderIdField(),i={},i[r]=t,e.next=7,this.marketGetCancel(this.extend(i,a));case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseSymbol",value:function(e){var t=e.split("-"),r=(0,a.default)(t,2),i=r[0],n=r[1];return n=this.commonCurrencyCode(n),i=this.commonCurrencyCode(i),n+"/"+i}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"OrderType");"undefined"===typeof r&&(r=this.safeString(e,"Type")),r="LIMIT_BUY"===r||"BUY"===r?"buy":"sell";var i="open";"Closed"in e&&e.Closed&&(i="closed"),"CancelInitiated"in e&&e.CancelInitiated&&(i="canceled"),"Status"in e&&this.options.parseOrderStatus&&(i=this.parseOrderStatus(e.Status));var n=void 0;if("Exchange"in e){var a=e.Exchange;a in this.markets_by_id?(t=this.markets_by_id[a],n=t.symbol):n=this.parseSymbol(a)}else"undefined"!==typeof t&&(n=t.symbol);var s=void 0;"Opened"in e&&(s=this.parse8601(e.Opened+"+00:00")),"Created"in e&&(s=this.parse8601(e.Created+"+00:00"));var o=void 0;"TimeStamp"in e&&"undefined"!==typeof e.TimeStamp&&(o=this.parse8601(e.TimeStamp+"+00:00")),"Closed"in e&&"undefined"!==typeof e.Closed&&(o=this.parse8601(e.Closed+"+00:00")),"undefined"===typeof s&&(s=o);var u="undefined"!==typeof s?this.iso8601(s):void 0,d=void 0,c=void 0;if("Commission"in e?c="Commission":"CommissionPaid"in e&&(c="CommissionPaid"),c)if(d={cost:parseFloat(e[c])},"undefined"!==typeof t)d.currency=t.quote;else if(n){var l=n.split("/"),h=l[1];h in this.currencies_by_id?d.currency=this.currencies_by_id[h].code:d.currency=this.commonCurrencyCode(h)}var f=this.safeFloat(e,"Limit"),p=this.safeFloat(e,"Price"),v=this.safeFloat(e,"Quantity"),m=this.safeFloat(e,"QuantityRemaining",0),y=v-m;p||f&&v&&(p=f*v),f||p&&y&&(f=p/y);var k=this.safeFloat(e,"PricePerUnit"),b=this.safeString(e,"OrderUuid");return"undefined"===typeof b&&(b=this.safeString(e,"OrderId")),{info:e,id:b,timestamp:s,datetime:u,lastTradeTimestamp:o,symbol:n,type:"limit",side:r,price:f,cost:p,average:k,amount:v,filled:y,remaining:m,status:i,fee:d}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,e.prev=3,i=this.getOrderIdField(),n={},n[i]=t,e.next=9,this.accountGetOrder(this.extend(n,s));case 9:r=e.sent,e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(3),!this.last_json_response){e.next=18;break}if("UUID_INVALID"!==(a=this.safeString(this.last_json_response,"message"))){e.next=18;break}throw new E(this.id+" fetchOrder() error: "+this.last_http_response);case 18:throw e.t0;case 19:if(r.result){e.next=21;break}throw new E(this.id+" order "+t+" not found");case 21:return e.abrupt("return",this.parseOrder(r.result));case 22:case"end":return e.stop()}},e,this,[[3,12]])}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,a&&(r=this.market(a),t.market=r.id),e.next=7,this.accountGetOrderhistory(this.extend(t,u));case 7:if(i=e.sent,n=this.parseOrders(i.result,r,s,o),!a){e.next=11;break}return e.abrupt("return",this.filterBySymbol(n,a));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.accountGetDepositaddress(this.extend({currency:r.id},u));case 5:return i=e.sent,n=this.safeString(i.result,"Address"),a=this.safeString(i,"message"),s="ok",n&&"ADDRESS_GENERATING"!==a||(s="pending"),o=void 0,"XRP"!==t&&"XLM"!==t||(o=n,n=r.address),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,tag:o,status:s,info:i});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i){var n,a,s,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),a={currency:n.id,quantity:r,address:i},u&&(a.paymentid=u),e.next=8,this.accountGetWithdraw(this.extend(a,c));case 8:return s=e.sent,o=void 0,"result"in s&&"uuid"in s.result&&(o=s.result.uuid),e.abrupt("return",{info:s,id:o});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/";if("v2"!==t&&(s+=this.version+"/"),"public"===t)s+=t+"/"+r.toLowerCase()+e,(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else if("v2"===t)s+=e,(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce();s+=t+"/",("account"===t&&"withdraw"!==e||"openorders"===e)&&(s+=r.toLowerCase()),s+=e+"?"+this.urlencode(this.extend({nonce:u,apikey:this.apiKey},i));var d=this.hmac(this.encode(s),this.encode(this.secret),"sha512");n={apisign:d}}return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("{"===a[0]){var s=JSON.parse(a),o=this.safeValue(s,"success");if("undefined"===typeof o)throw new O(this.id+": malformed response: "+this.json(s));if("string"===typeof o&&(o="true"===o),!o){var u=this.safeString(s,"message"),d=this.id+" "+this.json(s),c=this.exceptions;if(u in c)throw new c[u](d);if("undefined"!==typeof u){if(u.indexOf("throttled. Try again")>=0)throw new F(d);if(u.indexOf("problem")>=0)throw new B(d)}if("APIKEY_INVALID"===u)throw this.options.hasAlreadyAuthenticatedSuccessfully?new F(d):new S(d);if("DUST_TRADE_DISALLOWED_MIN_VALUE_50K_SAT"===u)throw new M(this.id+" order cost should be over 50k satoshi "+this.json(s));throw new O(this.id+" "+this.json(s))}}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,o);case 2:return r=e.sent,"account"!==i&&"market"!==i||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.InvalidOrder,B=T.AuthenticationError,S=T.PermissionDenied,M=T.InvalidNonce,I=T.OrderNotFound,E=T.DDoSProtection;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btcbox",name:"BtcBox",countries:"JP",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/31275803-4df755a8-aaa1-11e7-9abb-11ec2fad9f2d.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://www.btcbox.co.jp/help/asm"},api:{public:{get:["depth","orders","ticker","allticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"BTC/JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY"}},exceptions:{104:B,105:S,106:M,107:O,200:_,201:O,202:O,203:I,401:I,402:E}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),"dash"===u&&(u="drk"),d=this.account(),c=u+"_balance",l=u+"_lock",c in t&&(d.free=parseFloat(t[c])),l in t&&(d.used=parseFloat(t[l])),d.total=this.sum(d.free,d.used),r[s]=d;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={},n=this.symbols.length,n>1&&(i.coin=r.id),e.next=8,this.publicGetDepth(this.extend(i,o));case 8:return s=e.sent,e.abrupt("return",this.parseOrderBook(s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetAllticker(l);case 4:for(t=e.sent,r=(0,o.default)(t),i={},n=0;n<r.length;n++)s=r[n],u=this.markets_by_id[s],d=u.symbol,c=t[s],i[d]=this.parseTicker(c,u);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={},n=this.symbols.length,n>1&&(i.coin=r.id),e.next=8,this.publicGetTicker(this.extend(i,o));case 8:return s=e.sent,e.abrupt("return",this.parseTicker(s,r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={},n=this.symbols.length,n>1&&(i.coin=r.id),e.next=8,this.publicGetOrders(this.extend(i,d));case 8:return s=e.sent,e.abrupt("return",this.parseTrades(s,r,o,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=this.market(t),o={amount:n,price:c,type:i},u=this.symbols.length,u>1&&(o.coin=s.id),e.next=8,this.privatePostTradeAdd(this.extend(o,l));case 8:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTradeCancel(this.extend({id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=this.safeString(e,"id"),r=this.parse8601(e.datetime+"+09:00"),i=this.safeFloat(e,"amount_original"),n=this.safeFloat(e,"amount_outstanding"),a=void 0;"undefined"!==typeof i&&"undefined"!==typeof n&&(a=i-n);var s=this.safeFloat(e,"price"),o=void 0;"undefined"!==typeof s&&"undefined"!==typeof a&&(o=a*s);var u={part:"open",all:"closed",cancelled:"canceled",closed:"closed"},d=void 0;e.status in u&&(d=u[e.status]),"undefined"===typeof d&&"undefined"!==typeof n&&0===n&&(d="closed");return{id:t,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:i,remaining:n,filled:a,side:e.type,type:void 0,status:d,symbol:"BTC/JPY",price:s,cost:o,trades:void 0,fee:void 0,info:e}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTradeView(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTradeList(this.extend({type:"all"},r));case 4:return t=e.sent,e.abrupt("return",this.parseOrders(t));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTradeList(this.extend({type:"open"},s));case 4:for(t=e.sent,r=this.parseOrders(t),i=0;i<r.length;i++)n=r[i],n.status="open";return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=this.extend({key:this.apiKey,nonce:u},i),c=this.urlencode(d),l=this.hash(this.encode(this.secret));d.signature=this.hmac(this.encode(c),this.encode(l)),a=this.urlencode(d),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(e>=400)&&"{"===a[0]){var s=JSON.parse(a),o=this.safeValue(s,"result");if("undefined"!==typeof o&&!0!==o){var u=this.safeValue(s,"code"),d=this.id+" "+this.json(s),c=this.exceptions;if(u in c)throw new c[u](d);throw new C(d)}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btcturk",name:"BTCTurk",countries:"TR",rateLimit:1e3,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27992709-18e15646-64a3-11e7-9fa2-b0950ec7712f.jpg",api:"https://www.btcturk.com/api",www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["ohlcdata","orderbook","ticker","trades"]},private:{get:["balance","openOrders","userTransactions"],post:["exchange","cancelOrder"]}},markets:{"BTC/TRY":{id:"BTCTRY",symbol:"BTC/TRY",base:"BTC",quote:"TRY",baseId:"btc",quoteId:"try",maker:.00236,taker:.00413},"ETH/TRY":{id:"ETHTRY",symbol:"ETH/TRY",base:"ETH",quote:"TRY",baseId:"eth",quoteId:"try",maker:.00236,taker:.00413},"XRP/TRY":{id:"XRPTRY",symbol:"XRP/TRY",base:"XRP",quote:"TRY",baseId:"xrp",quoteId:"try",maker:.00236,taker:.00413},"ETH/BTC":{id:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.00236,taker:.00413}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetBalance();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=this.currencies[s],d=this.account(),c=u.id+"_available",l=u.id+"_balance",h=u.id+"_reserved",c in t&&(d.free=this.safeFloat(t,c),d.total=this.safeFloat(t,l),d.used=this.safeFloat(t,h)),r[s]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetOrderbook(this.extend({pairSymbol:r.id},s));case 3:return i=e.sent,n=parseInt(1e3*i.timestamp),e.abrupt("return",this.parseOrderBook(i,n));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var i=1e3*parseInt(e.timestamp),n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"average"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(u);case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],s=n.pair,o=void 0,s in this.markets_by_id&&(o=this.markets_by_id[s],s=o.symbol),r[s]=this.parseTicker(n,o);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.fetchTickers();case 4:return r=e.sent,i=void 0,t in r&&(i=r[t]),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTrades(this.extend({pairSymbol:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.Time),e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1d",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={},"undefined"!==typeof u&&(i.last=u),e.next=7,this.publicGetOhlcdata(this.extend(i,d));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,s,o,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(s={PairSymbol:this.marketId(t),OrderType:"buy"===i?0:1,OrderMethod:"market"===r?1:0},"market"!==r){e.next=8;break}if("Total"in d){e.next=6;break}throw new C(this.id+' createOrder requires the "Total" extra parameter for market orders (amount and price are both ignored)');case 6:e.next=10;break;case 8:s.Price=u,s.Amount=n;case 10:return e.next=12,this.privatePostExchange(this.extend(s,d));case 12:return o=e.sent,e.abrupt("return",{info:o,id:o.id});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("btctrader"===this.id)throw new C(this.id+" is an abstract base API for BTCExchange, BTCTurk");var s=this.urls.api+"/"+e;if("public"===t)(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce().toString();a=this.urlencode(i);var d=this.base64ToBinary(this.secret),c=this.apiKey+u;n={"X-PCK":this.apiKey,"X-Stamp":u,"X-Signature":this.stringToBase64(this.hmac(this.encode(c),d,"sha256","binary")),"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(438),w=r(437),x=w.ExchangeError;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"fybse",name:"FYB-SE",countries:"SE",has:{CORS:!1},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766512-31019772-5edb-11e7-8241-2e675e6797f1.jpg",api:"https://www.fybse.se/api/SEK",www:"https://www.fybse.se",doc:"http://docs.fyb.apiary.io"},api:{public:{get:["ticker","tickerdetailed","orderbook","trades"]},private:{post:["test","getaccinfo","getpendingorders","getorderhistory","cancelpendingorder","placeorder","withdraw"]}},markets:{"BTC/SEK":{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostGetaccinfo();case 2:return t=e.sent,r=parseFloat(t.btcBal),i=this.symbols[0],n=this.markets[i].quote,s=n.toLowerCase()+"Bal",o=parseFloat(t[s]),u={free:r,used:0,total:r},d={BTC:u},d[n]={free:o,used:0,total:o},d.info=t,e.abrupt("return",this.parseBalance(d));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOrderbook(i);case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerdetailed(o);case 2:return r=e.sent,i=this.milliseconds(),n=void 0,s=void 0,"last"in r&&(n=this.safeFloat(r,"last")),"vol"in r&&(s=this.safeFloat(r,"vol")),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:void 0,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTrades(o);case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t,r,i,n){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostPlaceorder(this.extend({qty:n,price:o,type:i[0].toUpperCase()},u));case 2:return s=e.sent,e.abrupt("return",{info:s,id:s.pending_oid});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelpendingorder({orderNo:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+e;if("public"===t)s+=".json";else{this.checkRequiredCredentials();var o=this.nonce();a=this.urlencode(this.extend({timestamp:o},i)),n={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sig:this.hmac(this.encode(a),this.encode(this.secret),"sha1")}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(r=e.sent,"private"!==i){e.next=7;break}if(!("error"in r)){e.next=7;break}if(!r.error){e.next=7;break}throw new x(this.id+" "+this.json(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.OrderNotFound;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"hitbtc",name:"HitBTC",countries:"HK",rateLimit:1500,version:"1",has:{CORS:!1,fetchTrades:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"http://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv1.md",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["{symbol}/orderbook","{symbol}/ticker","{symbol}/trades","{symbol}/trades/recent","symbols","ticker","time"]},trading:{get:["balance","orders/active","orders/recent","order","trades/by/order","trades"],post:["new_order","cancel_order","cancel_orders"]},payment:{get:["balance","address/{currency}","transactions","transactions/{transaction}"],post:["transfer_to_trading","transfer_to_main","address/{currency}","payout"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00215,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMP:9,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,"DAO.Casino":124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTM:40,BTX:.04,BUS:.004,CCT:115,CDT:100,CDX:30,CFI:61,CLD:.88,CND:574,CNX:.04,COSS:65,CSNO:16,CTR:15,CTX:146,CVC:8.46,DBIX:.0168,DCN:12e4,DCT:.02,DDF:342,DENT:6240,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,ELE:.00172,ELM:.004,EMC:.03,EMGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GNO:.0034,GUP:4,GVT:1.2,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:5913,ITS:15.0012,IXT:11,KBR:143,KICK:112,LA:41,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RVT:14,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STEEM:.01,STRAT:.01,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TKR:84,TNT:90,TRST:1.6,TRX:1395,UET:480,UGT:15,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,"DAO.Casino":0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},commonCurrencies:{BCC:"BCC",BET:"DAO.Casino",CAT:"BitClave",DRK:"DASH",EMGO:"MGO",GET:"Themis",USD:"USDT",XBT:"BTC"},options:{defaultTimeInForce:"FOK"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbols();case 2:for(t=e.sent,r=[],i=0;i<t.symbols.length;i++)n=t.symbols[i],a=n.symbol,s=n.commodity,u=n.currency,d=this.safeFloat(n,"lot"),c=this.safeFloat(n,"step"),l=this.commonCurrencyCode(s),h=this.commonCurrencyCode(u),f=l+"/"+h,r.push({info:n,id:a,symbol:f,base:l,quote:h,baseId:s,quoteId:u,lot:d,step:c,active:!0,maker:this.safeFloat(n,"provideLiquidityRate"),taker:this.safeFloat(n,"takeLiquidityRate"),precision:{amount:this.precisionFromString(n.lot),price:this.precisionFromString(n.step)},limits:{amount:{min:d,max:void 0},price:{min:c,max:void 0},cost:{min:void 0,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.safeString(p,"type","trading"),t+="GetBalance",r=this.omit(p,"type"),e.next=7,this[t](r);case 7:for(i=e.sent,n=i.balance,a={info:n},s=0;s<n.length;s++)u=n[s],d=u.currency_code,c=this.commonCurrencyCode(d),l=this.safeFloat(u,"cash",0),l=this.safeFloat(u,"balance",l),h=this.safeFloat(u,"reserved",0),f={free:l,used:h,total:this.sum(l,h)},a[c]=f;return e.abrupt("return",this.parseBalance(a));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetSymbolOrderbook(this.extend({symbol:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volume_quote"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(l);case 4:for(t=e.sent,r=(0,a.default)(t),i={},n=0;n<r.length;n++)s=r[n],u=this.markets_by_id[s],d=u.symbol,c=t[s],i[d]=this.parseTicker(c,u);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetSymbolTicker(this.extend({symbol:r.id},n));case 5:if(!("message"in(i=e.sent))){e.next=8;break}throw new C(this.id+" "+i.message);case 8:return e.abrupt("return",this.parseTicker(i,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Array.isArray(e)?this.parsePublicTrade(e,t):this.parseOrderTrade(e,t)}},{key:"parsePublicTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;return t&&(r=t.symbol),{info:e,id:e[0].toString(),timestamp:e[3],datetime:this.iso8601(e[3]),symbol:r,type:void 0,side:e[4],price:parseFloat(e[1]),amount:parseFloat(e[2])}}},{key:"parseOrderTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var i=this.safeFloat(e,"execQuantity");t&&(i*=t.lot);var n=this.safeFloat(e,"execPrice"),a=n*i,s={cost:this.safeFloat(e,"fee"),currency:void 0,rate:void 0},o=e.timestamp;return{info:e,id:e.tradeId,order:e.clientOrderId,timestamp:o,datetime:this.iso8601(o),symbol:r,type:void 0,side:e.side,price:n,amount:i,cost:a,fee:s}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetSymbolTrades(this.extend({symbol:r.id,side:"true"},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.trades,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(a=this.market(t),s=parseFloat(n)/a.lot,u=Math.round(s),d=s-u,!(Math.abs(d)>a.step)){e.next=8;break}throw new C(this.id+" order amount should be evenly divisible by lot unit size of "+a.lot.toString());case 8:return c=this.milliseconds(),l={clientOrderId:c.toString(),symbol:a.id,side:i,quantity:u.toString(),type:r},"limit"===r?l.price=this.priceToPrecision(t,f):l.timeInForce=this.options.defaultTimeInForce,e.next=13,this.tradingPostNewOrder(this.extend(l,p));case 13:return h=e.sent,e.abrupt("return",this.parseOrder(h.ExecutionReport,a));case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.tradingPostCancelOrder(this.extend({clientOrderId:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={new:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"};return this.safeString(t,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"lastTimestamp");"undefined"===typeof r&&(r=this.safeInteger(e,"timestamp"));var i=void 0;t||(t=this.markets_by_id[e.symbol]);var n=this.safeString(e,"orderStatus");n&&(n=this.parseOrderStatus(n));var a=this.safeFloat(e,"avgPrice",0),s=this.safeFloat(e,"orderPrice");"undefined"===typeof s&&(s=this.safeFloat(e,"price"));var o=this.safeFloat(e,"orderQuantity");"undefined"===typeof o&&(o=this.safeFloat(e,"quantity"));var u=this.safeFloat(e,"quantityLeaves");"undefined"===typeof u&&(u=this.safeFloat(e,"leavesQuantity"));var d=void 0,c=void 0,l="undefined"!==typeof o,h="undefined"!==typeof u;if("undefined"!==typeof t)i=t.symbol,l&&(o*=t.lot),h&&(u*=t.lot);else{var f=this.safeString(e,"symbol");f in this.markets_by_id&&(t=this.markets_by_id[f])}l&&h&&(d=o-u,c=a*d);var p=this.safeFloat(e,"fee"),v=void 0;"undefined"!==typeof t&&(i=t.symbol,v=t.quote);var m={cost:p,currency:v,rate:void 0};return{id:e.clientOrderId.toString(),info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:n,symbol:i,type:e.type,side:e.side,price:s,cost:c,amount:o,filled:d,remaining:u,fee:m}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.tradingGetOrder(this.extend({clientOrderId:t},i));case 4:if(r=e.sent,!r.orders[0]){e.next=7;break}return e.abrupt("return",this.parseOrder(r.orders[0]));case 7:throw new O(this.id+" fetchOrder() error: "+this.response);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=["new","partiallyFiiled"],r=void 0,i={sort:"desc",statuses:t.join(",")},a&&(r=this.market(a),i.symbols=r.id),e.next=8,this.tradingGetOrdersActive(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOrders(n.orders,r,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r=["filled","canceled","rejected","expired"],i={sort:"desc",statuses:r.join(","),max_results:1e3},a&&(t=this.market(a),i.symbols=t.id),e.next=8,this.tradingGetOrdersRecent(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOrders(n.orders,t,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,"undefined"!==typeof n&&(r=this.market(n)),e.next=6,this.tradingGetTradesByOrder(this.extend({clientOrderId:t},u));case 6:return i=e.sent,e.abrupt("return",this.parseTrades(i.trades,r,a,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),a={currency_code:n.id,amount:r,address:i},u&&(a.paymentId=u),e.next=8,this.paymentPostPayout(this.extend(a,d));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.transaction});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/api/"+this.version+"/"+t+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce(),c={nonce:d,apikey:this.apiKey};u=this.extend(c,u),o+="GET"===r?"?"+this.urlencode(u):"?"+this.urlencode(c);var l=o;"POST"===r&&(0,a.default)(u).length&&(s=this.urlencode(u),l+=s),n={"Content-Type":"application/x-www-form-urlencoded","X-Signature":this.hmac(this.encode(l),this.encode(this.secret),"sha512").toLowerCase()}}return o=this.urls.api+o,{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("code"in(r=e.sent))){e.next=8;break}if(!("ExecutionReport"in r)){e.next=7;break}if("orderExceedsLimit"!==r.ExecutionReport.orderRejectReason){e.next=7;break}throw new _(this.id+" "+this.json(r));case 7:throw new C(this.id+" "+this.json(r));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(505),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.InvalidNonce,B=_.OrderNotFound,S=_.InvalidOrder,M=_.InsufficientFunds,I=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"qryptos",name:"QRYPTOS",countries:["CN","TW"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30953915-b1611dc0-a436-11e7-8947-c95bd5a42086.jpg",api:"https://api.qryptos.com",www:"https://www.qryptos.com",doc:["https://developers.quoine.com","https://developers.quoine.com/v2"],fees:"https://qryptos.zendesk.com/hc/en-us/articles/115007858167-Fees"},api:{public:{get:["products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}"]},private:{get:["accounts/balance","accounts/main_asset","crypto_accounts","executions/me","fiat_accounts","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","orders/{id}/executions","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}"],post:["fiat_accounts","loan_bids","orders"],put:["loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/close","trades/close_all","trading_accounts/{id}"]}},skipJsonOnStatusCodes:[401],exceptions:{messages:{"API Authentication failed":I,"Nonce is too small":O,"Order not found":B,user:{not_enough_free_balance:M},price:{must_be_positive:S},quantity:{less_than_order_size:S}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetProducts();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.id.toString(),s=n.base_currency,u=n.quoted_currency,c=s+"/"+u,l=this.safeFloat(n,"maker_fee"),h=this.safeFloat(n,"taker_fee"),f=!n.disabled,p=void 0,v=void 0,"BTC"===s?p=.001:"ETH"===s&&(p=.01),"BTC"===u?v=1e-8:"ETH"!==u&&"USD"!==u&&"JPY"!==u||(v=1e-5),m={amount:{min:p},price:{min:v},cost:{min:void 0}},"undefined"!==typeof v&&"undefined"!==typeof p&&(m.cost.min=v*p),y={amount:void 0,price:void 0},"undefined"!==typeof p&&(y.amount=-(0,d.default)(p)),"undefined"!==typeof v&&(y.price=-(0,d.default)(v)),r.push({id:a,symbol:c,base:s,quote:u,maker:l,taker:h,limits:m,precision:y,active:f,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccountsBalance(d);case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency,s=parseFloat(n.balance),u={free:s,used:0,total:s},r[a]=u;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetProductsIdPriceLevels(this.extend({id:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"buy_price_levels","sell_price_levels"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;if("last_traded_price"in e&&e.last_traded_price){e.last_traded_price.length>0&&(i=this.safeFloat(e,"last_traded_price"))}var n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high_market_ask"),low:this.safeFloat(e,"low_market_bid"),bid:this.safeFloat(e,"market_bid"),bidVolume:void 0,ask:this.safeFloat(e,"market_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_24h"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetProducts(c);case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.base_currency,s=n.quoted_currency,u=a+"/"+s,d=this.markets[u],r[u]=this.parseTicker(n,d);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetProductsId(this.extend({id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.created_at,i=this.safeString(e,"taker_side"),n=this.safeString(e,"my_side"),a="undefined"!==typeof n?n:i,s=void 0;return"undefined"!==typeof n&&(s=i===n?"taker":"maker"),{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:a,takerOrMaker:s,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"quantity")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={product_id:r.id},"undefined"!==typeof s&&(i.limit=s),e.next=7,this.publicGetExecutions(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n.models,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={product_id:t.id},"undefined"!==typeof s&&(r.limit=s),e.next=7,this.privateGetExecutionsMe(this.extend(r,u));case 7:return i=e.sent,e.abrupt("return",this.parseTrades(i.models,t,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={order_type:r,product_id:this.marketId(t),side:i,quantity:n},"limit"===r&&(a.price=u),e.next=6,this.privatePostOrders(this.extend(a,d));case 6:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePutOrdersIdCancel(this.extend({id:t},n));case 4:if(r=e.sent,i=this.parseOrder(r),"closed"!==i.status){e.next=8;break}throw new B(this.id+" "+this.json(i));case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.created_at,i=this.safeString(e,"product_id");"undefined"!==typeof i&&i in this.markets_by_id&&(t=this.markets_by_id[i]);var n=void 0;"status"in e&&("live"===e.status?n="open":"filled"===e.status?n="closed":"cancelled"===e.status&&(n="canceled"));var a=this.safeFloat(e,"quantity"),s=this.safeFloat(e,"filled_quantity"),o=this.safeFloat(e,"price"),u=void 0;return t&&(u=t.symbol),{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,type:e.order_type,status:n,symbol:u,side:e.side,price:o,amount:a,filled:s,remaining:a-s,trades:void 0,fee:{currency:void 0,cost:this.safeFloat(e,"order_fee")},info:e}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrdersId(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},s&&(t=this.market(s),r.product_id=t.id),i=this.safeValue(c,"status"),i&&(c=this.omit(c,"status"),"open"===i?r.status="live":"closed"===i?r.status="filled":"canceled"===i&&(r.status="cancelled")),"undefined"!==typeof d&&(r.limit=d),e.next=10,this.privateGetOrders(this.extend(r,c));case 10:return n=e.sent,a=n.models,e.abrupt("return",this.parseOrders(a,t,u,d));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"open"},i))}},{key:"fetchClosedOrders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.fetchOrders(e,t,r,this.extend({status:"closed"},i))}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if(n={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),"GET"===r?(0,a.default)(u).length&&(o+="?"+this.urlencode(u)):(0,a.default)(u).length&&(s=this.json(u));var d=this.nonce(),c={path:o,nonce:d,token_id:this.apiKey,iat:Math.floor(d/1e3)};n["X-Quoine-Auth"]=this.jwt(c,this.secret)}return o=this.urls.api+o,{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(!(e>=200&&e<=299)){var o=this.exceptions.messages;if(401!==e){if("undefined"===typeof s){if("{"!==a[0]&&"["!==a[0])return;s=JSON.parse(a)}var u=this.id+" "+this.json(s);if(404===e){var d=this.safeString(s,"message");if(d in o)throw new o[d](u)}else if(422===e&&"errors"in s)for(var c=s.errors,l=["user","quantity","price"],h=0;h<l.length;h++){var f=l[h];if(f in c)for(var p=c[f],v=0;v<p.length;v++){var m=p[v];if(m in o[f])throw new o[f][m](u)}}}else if(a in o)throw new o[a](this.id+" "+a)}}}]),t}(C)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){r(968),e.exports=r(440).Object.keys},function(e,t,r){var i=r(473),n=r(474);r(524)("keys",function(){return function(e){return n(i(e))}})},function(e,t,r){var i=r(463),n=r(522),a=r(970);e.exports=function(e){return function(t,r,s){var o,u=i(t),d=n(u.length),c=a(s,d);if(e&&r!=r){for(;d>c;)if((o=u[c++])!=o)return!0}else for(;d>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var i=r(600),n=Math.max,a=Math.min;e.exports=function(e,t){return e=i(e),e<0?n(e+t,0):a(e,t)}},function(e,t,r){r(972),e.exports=r(440).Object.assign},function(e,t,r){var i=r(444);i(i.S+i.F,"Object",{assign:r(973)})},function(e,t,r){"use strict";var i=r(474),n=r(606),a=r(500),s=r(473),o=r(599),u=Object.assign;e.exports=!u||r(469)(function(){var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var r=s(e),u=arguments.length,d=1,c=n.f,l=a.f;u>d;)for(var h,f=o(arguments[d++]),p=c?i(f).concat(c(f)):i(f),v=p.length,m=0;v>m;)l.call(f,h=p[m++])&&(r[h]=f[h]);return r}:u},function(e,t,r){r(476),r(978),e.exports=r(440).Array.from},function(e,t,r){var i=r(600),n=r(598);e.exports=function(e){return function(t,r){var a,s,o=String(n(t)),u=i(r),d=o.length;return u<0||u>=d?e?"":void 0:(a=o.charCodeAt(u),a<55296||a>56319||u+1===d||(s=o.charCodeAt(u+1))<56320||s>57343?e?o.charAt(u):a:e?o.slice(u,u+2):s-56320+(a-55296<<10)+65536)}}},function(e,t,r){"use strict";var i=r(526),n=r(499),a=r(501),s={};r(464)(s,r(447)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=i(s,{next:n(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var i=r(451),n=r(452),a=r(474);e.exports=r(454)?Object.defineProperties:function(e,t){n(e);for(var r,s=a(t),o=s.length,u=0;o>u;)i.f(e,r=s[u++],t[r]);return e}},function(e,t,r){"use strict";var i=r(461),n=r(444),a=r(473),s=r(706),o=r(707),u=r(522),d=r(979),c=r(608);n(n.S+n.F*!r(708)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,l,h=a(e),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,y=0,k=c(h);if(m&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==k||f==Array&&o(k))for(t=u(h.length),r=new f(t);t>y;y++)d(r,y,m?v(h[y],y):h[y]);else for(l=k.call(h),r=new f;!(n=l.next()).done;y++)d(r,y,m?s(l,v,[n.value,y],!0):n.value);return r.length=y,r}})},function(e,t,r){"use strict";var i=r(451),n=r(499);e.exports=function(e,t,r){t in e?i.f(e,t,n(0,r)):e[t]=r}},function(e,t,r){r(609),r(476),r(502),r(983),r(986),r(987),e.exports=r(440).Promise},function(e,t,r){"use strict";var i=r(982),n=r(709),a=r(477),s=r(463);e.exports=r(607)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,r):"values"==t?n(0,e[r]):n(0,[r,e[r]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t,r){"use strict";var i,n,a,s,o=r(525),u=r(446),d=r(461),c=r(527),l=r(444),h=r(453),f=r(498),p=r(610),v=r(503),m=r(710),y=r(711).set,k=r(985)(),b=r(611),g=r(712),w=r(713),x=u.TypeError,T=u.process,C=u.Promise,_="process"==c(T),O=function(){},B=n=b.f,S=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(447)("species")]=function(e){e(O,O)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t}catch(e){}}(),M=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var r=e._c;k(function(){for(var i=e._v,n=1==e._s,a=0;r.length>a;)!function(t){var r,a,s=n?t.ok:t.fail,o=t.resolve,u=t.reject,d=t.domain;try{s?(n||(2==e._h&&P(e),e._h=1),!0===s?r=i:(d&&d.enter(),r=s(i),d&&d.exit()),r===t.promise?u(x("Promise-chain cycle")):(a=M(r))?a.call(r,o,u):o(r)):u(i)}catch(e){u(e)}}(r[a++]);e._c=[],e._n=!1,t&&!e._h&&E(e)})}},E=function(e){y.call(u,function(){var t,r,i,n=e._v,a=F(e);if(a&&(t=g(function(){_?T.emit("unhandledRejection",n,e):(r=u.onunhandledrejection)?r({promise:e,reason:n}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=_||F(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},F=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,i=0;r.length>i;)if(t=r[i++],t.fail||!F(t.promise))return!1;return!0},P=function(e){y.call(u,function(){var t;_?T.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},A=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},G=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x("Promise can't be resolved itself");(t=M(e))?k(function(){var i={_w:r,_d:!1};try{t.call(e,d(G,i,1),d(A,i,1))}catch(e){A.call(i,e)}}):(r._v=e,r._s=1,I(r,!1))}catch(e){A.call({_w:r,_d:!1},e)}}};S||(C=function(e){p(this,C,"Promise","_h"),f(e),i.call(this);try{e(d(G,this,1),d(A,this,1))}catch(e){A.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=r(612)(C.prototype,{then:function(e,t){var r=B(m(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=_?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i;this.promise=e,this.resolve=d(G,e,1),this.reject=d(A,e,1)},b.f=B=function(e){return e===C||e===s?new a(e):n(e)}),l(l.G+l.W+l.F*!S,{Promise:C}),r(501)(C,"Promise"),r(714)("Promise"),s=r(440).Promise,l(l.S+l.F*!S,"Promise",{reject:function(e){var t=B(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(o||!S),"Promise",{resolve:function(e){return w(o&&this===s?C:this,e)}}),l(l.S+l.F*!(S&&r(708)(function(e){C.all(e).catch(O)})),"Promise",{all:function(e){var t=this,r=B(t),i=r.resolve,n=r.reject,a=g(function(){var r=[],a=0,s=1;v(e,!1,function(e){var o=a++,u=!1;r.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,r[o]=e,--s||i(r))},n)}),--s||i(r)});return a.e&&n(a.v),r.promise},race:function(e){var t=this,r=B(t),i=r.reject,n=g(function(){v(e,!1,function(e){t.resolve(e).then(r.resolve,i)})});return n.e&&i(n.v),r.promise}})},function(e,t){e.exports=function(e,t,r){var i=void 0===r;switch(t.length){case 0:return i?e():e.call(r);case 1:return i?e(t[0]):e.call(r,t[0]);case 2:return i?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var i=r(446),n=r(711).set,a=i.MutationObserver||i.WebKitMutationObserver,s=i.process,o=i.Promise,u="process"==r(497)(s);e.exports=function(){var e,t,r,d=function(){var i,n;for(u&&(i=s.domain)&&i.exit();e;){n=e.fn,e=e.next;try{n()}catch(i){throw e?r():t=void 0,i}}t=void 0,i&&i.enter()};if(u)r=function(){s.nextTick(d)};else if(a){var c=!0,l=document.createTextNode("");new a(d).observe(l,{characterData:!0}),r=function(){l.data=c=!c}}else if(o&&o.resolve){var h=o.resolve();r=function(){h.then(d)}}else r=function(){n.call(i,d)};return function(i){var n={fn:i,next:void 0};t&&(t.next=n),e||(e=n,r()),t=n}}},function(e,t,r){"use strict";var i=r(444),n=r(440),a=r(446),s=r(710),o=r(713);i(i.P+i.R,"Promise",{finally:function(e){var t=s(this,n.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return o(t,e()).then(function(){return r})}:e,r?function(r){return o(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var i=r(444),n=r(611),a=r(712);i(i.S,"Promise",{try:function(e){var t=n.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(989),e.exports=r(440).Object.values},function(e,t,r){var i=r(444),n=r(716)(!1);i(i.S,"Object",{values:function(e){return n(e)}})},function(e,t,r){e.exports={default:r(991),__esModule:!0}},function(e,t,r){r(476),r(502),e.exports=r(613).f("iterator")},function(e,t,r){e.exports={default:r(993),__esModule:!0}},function(e,t,r){r(994),r(609),r(996),r(997),e.exports=r(440).Symbol},function(e,t,r){"use strict";var i=r(446),n=r(468),a=r(454),s=r(444),o=r(703),u=r(614).KEY,d=r(469),c=r(602),l=r(501),h=r(523),f=r(447),p=r(613),v=r(615),m=r(995),y=r(717),k=r(452),b=r(463),g=r(605),w=r(499),x=r(526),T=r(718),C=r(616),_=r(451),O=r(474),B=C.f,S=_.f,M=T.f,I=i.Symbol,E=i.JSON,F=E&&E.stringify,P=f("_hidden"),A=f("toPrimitive"),G={}.propertyIsEnumerable,D=c("symbol-registry"),R=c("symbols"),L=c("op-symbols"),q=Object.prototype,N="function"==typeof I,U=i.QObject,H=!U||!U.prototype||!U.prototype.findChild,V=a&&d(function(){return 7!=x(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,r){var i=B(q,t);i&&delete q[t],S(e,t,r),i&&e!==q&&S(q,t,i)}:S,j=function(e){var t=R[e]=x(I.prototype);return t._k=e,t},K=N&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},X=function(e,t,r){return e===q&&X(L,t,r),k(e),t=g(t,!0),k(r),n(R,t)?(r.enumerable?(n(e,P)&&e[P][t]&&(e[P][t]=!1),r=x(r,{enumerable:w(0,!1)})):(n(e,P)||S(e,P,w(1,{})),e[P][t]=!0),V(e,t,r)):S(e,t,r)},W=function(e,t){k(e);for(var r,i=m(t=b(t)),n=0,a=i.length;a>n;)X(e,r=i[n++],t[r]);return e},Y=function(e,t){return void 0===t?x(e):W(x(e),t)},z=function(e){var t=G.call(this,e=g(e,!0));return!(this===q&&n(R,e)&&!n(L,e))&&(!(t||!n(this,e)||!n(R,e)||n(this,P)&&this[P][e])||t)},J=function(e,t){if(e=b(e),t=g(t,!0),e!==q||!n(R,t)||n(L,t)){var r=B(e,t);return!r||!n(R,t)||n(e,P)&&e[P][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=M(b(e)),i=[],a=0;r.length>a;)n(R,t=r[a++])||t==P||t==u||i.push(t);return i},Z=function(e){for(var t,r=e===q,i=M(r?L:b(e)),a=[],s=0;i.length>s;)!n(R,t=i[s++])||r&&!n(q,t)||a.push(R[t]);return a};N||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===q&&t.call(L,r),n(this,P)&&n(this[P],e)&&(this[P][e]=!1),V(this,e,w(1,r))};return a&&H&&V(q,e,{configurable:!0,set:t}),j(e)},o(I.prototype,"toString",function(){return this._k}),C.f=J,_.f=X,r(719).f=T.f=Q,r(500).f=z,r(606).f=Z,a&&!r(525)&&o(q,"propertyIsEnumerable",z,!0),p.f=function(e){return j(f(e))}),s(s.G+s.W+s.F*!N,{Symbol:I});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)f($[ee++]);for(var te=O(f.store),re=0;te.length>re;)v(te[re++]);s(s.S+s.F*!N,"Symbol",{for:function(e){return n(D,e+="")?D[e]:D[e]=I(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in D)if(D[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!N,"Object",{create:Y,defineProperty:X,defineProperties:W,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),E&&s(s.S+s.F*(!N||d(function(){var e=I();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!K(e)){for(var t,r,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);return t=i[1],"function"==typeof t&&(r=t),!r&&y(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!K(t))return t}),i[1]=t,F.apply(E,i)}}}),I.prototype[A]||r(464)(I.prototype,A,I.prototype.valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},function(e,t,r){var i=r(474),n=r(606),a=r(500);e.exports=function(e){var t=i(e),r=n.f;if(r)for(var s,o=r(e),u=a.f,d=0;o.length>d;)u.call(e,s=o[d++])&&t.push(s);return t}},function(e,t,r){r(615)("asyncIterator")},function(e,t,r){r(615)("observable")},function(e,t,r){r(999),e.exports=r(440).Object.entries},function(e,t,r){var i=r(444),n=r(716)(!0);i(i.S,"Object",{entries:function(e){return n(e)}})},function(e,t,r){e.exports={default:r(1001),__esModule:!0}},function(e,t,r){r(502),r(476),e.exports=r(1002)},function(e,t,r){var i=r(527),n=r(447)("iterator"),a=r(477);e.exports=r(440).isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||a.hasOwnProperty(i(t))}},function(e,t,r){r(502),r(476),e.exports=r(1004)},function(e,t,r){var i=r(452),n=r(608);e.exports=r(440).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,r){e.exports={default:r(1006),__esModule:!0}},function(e,t,r){r(1007);var i=r(440).Object;e.exports=function(e){return i.getOwnPropertyNames(e)}},function(e,t,r){r(524)("getOwnPropertyNames",function(){return r(718).f})},function(e,t,r){r(1009),e.exports=r(440).Object.getPrototypeOf},function(e,t,r){var i=r(473),n=r(705);r(524)("getPrototypeOf",function(){return function(e){return n(i(e))}})},function(e,t,r){r(1011);var i=r(440).Object;e.exports=function(e,t,r){return i.defineProperty(e,t,r)}},function(e,t,r){var i=r(444);i(i.S+i.F*!r(454),"Object",{defineProperty:r(451).f})},function(e,t,r){"use strict";(function(t){e.exports={isNode:"undefined"===typeof window&&!("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope),isWindows:"undefined"!==typeof t&&"win32"===t.platform}}).call(t,r(176))},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(504),a=i(n),s=r(702),o=i(s),u=r(475),d=i(u),c=r(1014),l=i(c),h=r(715),f=i(h),p=r(436),v=i(p),m=r(618),y=m.isObject,k=m.isNumber,b=m.isDictionary,g=m.isArray,w=v.default,x=function(e){return g(e)?e:(0,f.default)(e)},T=function(e){return new l.default(x(e))},C=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.default.apply(Object,[{}].concat(t))},_=function(e){return g(e)?(0,o.default)(e):C(e)};e.exports={keys:w,values:x,extend:C,clone:_,index:T,ordered:function(e){return e},unique:function(e){return(0,o.default)(T(e))},inArray:function(e,t){return t.includes(e)},toArray:function(e){return(0,f.default)(e)},keysort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0,i=!1,n=void 0;try{for(var s,o=(0,a.default)(w(e).sort());!(r=(s=o.next()).done);r=!0){var u=s.value;t[u]=e[u]}}catch(e){i=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}return t},indexBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!0,n=!1,s=void 0;try{for(var o,u=(0,a.default)(x(e));!(i=(o=u.next()).done);i=!0){var d=o.value;t in d&&(r[d[t]]=d)}}catch(e){n=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw s}}return r},groupBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!0,n=!1,s=void 0;try{for(var o,u=(0,a.default)(x(e));!(i=(o=u.next()).done);i=!0){var d=o.value;if(t in d){var c=d[t];r[c]=r[c]||[],r[c].push(d)}}}catch(e){n=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw s}}return r},filterBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=!0,s=!1,o=void 0;try{for(var u,d=(0,a.default)(x(e));!(n=(u=d.next()).done);n=!0){var c=u.value;c[t]===r&&i.push(c)}}catch(e){s=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(s)throw o}}return i},sortBy:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r?-1:1;return e.sort(function(e,r){return e[t]<r[t]?-i:e[t]>r[t]?i:0})},flatten:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!0,n=!1,s=void 0;try{for(var o,u=(0,a.default)(t);!(i=(o=u.next()).done);i=!0){var d=o.value;g(d)?e(d,r):r.push(d)}}catch(e){n=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(n)throw s}}return r},pluck:function(e,t){return x(e).filter(function(e){return t in e}).map(function(e){return e[t]})},omit:function(e){for(var t=_(e),r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];var s=!0,o=!1,u=void 0;try{for(var d,c=(0,a.default)(i);!(s=(d=c.next()).done);s=!0){var l=d.value;if(g(l)){var h=!0,f=!1,p=void 0;try{for(var v,m=(0,a.default)(l);!(h=(v=m.next()).done);h=!0){delete t[v.value]}}catch(e){f=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(f)throw p}}}else delete t[l]}}catch(e){o=!0,u=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw u}}return t},sum:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(k);return i.length>0?i.reduce(function(e,t){return e+t},0):void 0},deepExtend:function e(){for(var t=void 0,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=!0,o=!1,u=void 0;try{for(var d,c=(0,a.default)(i);!(s=(d=c.next()).done);s=!0){var l=d.value;if(b(l)){y(t)||(t={});for(var h in l)t[h]=e(t[h],l[h])}else t=l}}catch(e){o=!0,u=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw u}}return t}}},function(e,t,r){e.exports={default:r(1015),__esModule:!0}},function(e,t,r){r(609),r(476),r(502),r(1016),r(1022),r(1025),r(1027),e.exports=r(440).Set},function(e,t,r){"use strict";var i=r(1017),n=r(723);e.exports=r(1018)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,r){"use strict";var i=r(451).f,n=r(526),a=r(612),s=r(461),o=r(610),u=r(503),d=r(607),c=r(709),l=r(714),h=r(454),f=r(614).fastKey,p=r(723),v=h?"_s":"size",m=function(e,t){var r,i=f(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,d){var c=e(function(e,i){o(e,c,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=i&&u(i,r,e[d],e)});return a(c.prototype,{clear:function(){for(var e=p(this,t),r=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=p(this,t),i=m(r,e);if(i){var n=i.n,a=i.p;delete r._i[i.i],i.r=!0,a&&(a.n=n),n&&(n.p=a),r._f==i&&(r._f=n),r._l==i&&(r._l=a),r[v]--}return!!i},forEach:function(e){p(this,t);for(var r,i=s(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(p(this,t),e)}}),h&&i(c.prototype,"size",{get:function(){return p(this,t)[v]}}),c},def:function(e,t,r){var i,n,a=m(e,t);return a?a.v=r:(e._l=a={i:n=f(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[v]++,"F"!==n&&(e._i[n]=a)),e},getEntry:m,setStrong:function(e,t,r){d(e,t,function(e,r){this._t=p(e,t),this._k=r,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?c(0,r.k):"values"==t?c(0,r.v):c(0,[r.k,r.v]):(e._t=void 0,c(1))},r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){"use strict";var i=r(446),n=r(444),a=r(614),s=r(469),o=r(464),u=r(612),d=r(503),c=r(610),l=r(453),h=r(501),f=r(451).f,p=r(1019)(0),v=r(454);e.exports=function(e,t,r,m,y,k){var b=i[e],g=b,w=y?"set":"add",x=g&&g.prototype,T={};return v&&"function"==typeof g&&(k||x.forEach&&!s(function(){(new g).entries().next()}))?(g=t(function(t,r){c(t,g,e,"_c"),t._c=new b,void 0!=r&&d(r,y,t[w],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!k||"clear"!=e)&&o(g.prototype,e,function(r,i){if(c(this,g,e),!t&&k&&!l(r))return"get"==e&&void 0;var n=this._c[e](0===r?0:r,i);return t?this:n})}),k||f(g.prototype,"size",{get:function(){return this._c.size}})):(g=m.getConstructor(t,e,y,w),u(g.prototype,r),a.NEED=!0),h(g,e),T[e]=g,n(n.G+n.W+n.F,T),k||m.setStrong(g,e,y),g}},function(e,t,r){var i=r(461),n=r(599),a=r(473),s=r(522),o=r(1020);e.exports=function(e,t){var r=1==e,u=2==e,d=3==e,c=4==e,l=6==e,h=5==e||l,f=t||o;return function(t,o,p){for(var v,m,y=a(t),k=n(y),b=i(o,p,3),g=s(k.length),w=0,x=r?f(t,g):u?f(t,0):void 0;g>w;w++)if((h||w in k)&&(v=k[w],m=b(v,w,y),e))if(r)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:x.push(v)}else if(c)return!1;return l?-1:d||c?c:x}}},function(e,t,r){var i=r(1021);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,r){var i=r(453),n=r(717),a=r(447)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var i=r(444);i(i.P+i.R,"Set",{toJSON:r(1023)("Set")})},function(e,t,r){var i=r(527),n=r(1024);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},function(e,t,r){var i=r(503);e.exports=function(e,t){var r=[];return i(e,!1,r.push,r,t),r}},function(e,t,r){r(1026)("Set")},function(e,t,r){"use strict";var i=r(444);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){r(1028)("Set")},function(e,t,r){"use strict";var i=r(444),n=r(498),a=r(461),s=r(503);e.exports=function(e){i(i.S,e,{from:function(e){var t,r,i,o,u=arguments[1];return n(this),t=void 0!==u,t&&n(u),void 0==e?new this:(r=[],t?(i=0,o=a(u,arguments[2],2),s(e,!1,function(e){r.push(o(e,i++))})):s(e,!1,r.push,r),new this(r))}})}},function(e,t,r){e.exports={default:r(1030),__esModule:!0}},function(e,t,r){r(1031),e.exports=r(440).Number.isFinite},function(e,t,r){var i=r(444),n=r(446).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&n(e)}})},function(e,t,r){var i=r(440),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},function(e,t,r){!function(i,n){e.exports=t=n(r(11))}(0,function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,r=t.lib,i=r.WordArray,n=i.init;(i.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)}).prototype=i}}(),e.lib.WordArray})},function(e,t,r){!function(i,n){e.exports=t=n(r(11))}(0,function(e){return function(){function t(e){return e<<8&4278255360|e>>>8&16711935}var r=e,i=r.lib,n=i.WordArray,a=r.enc;a.Utf16=a.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n+=2){var a=t[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}};a.Utf16LE={stringify:function(e){for(var r=e.words,i=e.sigBytes,n=[],a=0;a<i;a+=2){var s=t(r[a>>>2]>>>16-a%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,i=[],a=0;a<r;a++)i[a>>>1]|=t(e.charCodeAt(a)<<16-a%2*16);return n.create(i,2*r)}}}(),e.enc.Utf16})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(727))}(0,function(e){return function(){var t=e,r=t.lib,i=r.WordArray,n=t.algo,a=n.SHA256,s=n.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=a._createHelper(s),t.HmacSHA224=a._createHmacHelper(s)}(),e.SHA224})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(530),r(728))}(0,function(e){return function(){var t=e,r=t.x64,i=r.Word,n=r.WordArray,a=t.algo,s=a.SHA512,o=a.SHA384=s.extend({_doReset:function(){this._hash=new n.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(o),t.HmacSHA384=s._createHmacHelper(o)}(),e.SHA384})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(530))}(0,function(e){return function(t){var r=e,i=r.lib,n=i.WordArray,a=i.Hasher,s=r.x64,o=s.Word,u=r.algo,d=[],c=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){d[e+5*t]=(r+1)*(r+2)/2%64;var i=t%5,n=(2*e+3*t)%5;e=i,t=n}for(var e=0;e<5;e++)for(var t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,s=0;s<24;s++){for(var u=0,h=0,f=0;f<7;f++){if(1&a){var p=(1<<f)-1;p<32?h^=1<<p:u^=1<<p-32}128&a?a=a<<1^113:a<<=1}l[s]=o.create(u,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=o.create()}();var f=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,i=this.blockSize/2,n=0;n<i;n++){var a=e[t+2*n],s=e[t+2*n+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var o=r[n];o.high^=s,o.low^=a}for(var u=0;u<24;u++){for(var f=0;f<5;f++){for(var p=0,v=0,m=0;m<5;m++){var o=r[f+5*m];p^=o.high,v^=o.low}var y=h[f];y.high=p,y.low=v}for(var f=0;f<5;f++)for(var k=h[(f+4)%5],b=h[(f+1)%5],g=b.high,w=b.low,p=k.high^(g<<1|w>>>31),v=k.low^(w<<1|g>>>31),m=0;m<5;m++){var o=r[f+5*m];o.high^=p,o.low^=v}for(var x=1;x<25;x++){var o=r[x],T=o.high,C=o.low,_=d[x];if(_<32)var p=T<<_|C>>>32-_,v=C<<_|T>>>32-_;else var p=C<<_-32|T>>>64-_,v=T<<_-32|C>>>64-_;var O=h[c[x]];O.high=p,O.low=v}var B=h[0],S=r[0];B.high=S.high,B.low=S.low;for(var f=0;f<5;f++)for(var m=0;m<5;m++){var x=f+5*m,o=r[x],M=h[x],I=h[(f+1)%5+5*m],E=h[(f+2)%5+5*m];o.high=M.high^~I.high&E.high,o.low=M.low^~I.low&E.low}var o=r[0],F=l[u];o.high^=F.high,o.low^=F.low}},_doFinalize:function(){var e=this._data,r=e.words,i=(this._nDataBytes,8*e.sigBytes),a=32*this.blockSize;r[i>>>5]|=1<<24-i%32,r[(t.ceil((i+1)/a)*a>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,o=this.cfg.outputLength/8,u=o/8,d=[],c=0;c<u;c++){var l=s[c],h=l.high,f=l.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d.push(f),d.push(h)}return new n.init(d,o)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});r.SHA3=a._createHelper(f),r.HmacSHA3=a._createHmacHelper(f)}(Math),e.SHA3})},function(e,t,r){!function(i,n){e.exports=t=n(r(11))}(0,function(e){return function(t){function r(e,t,r){return e^t^r}function i(e,t,r){return e&t|~e&r}function n(e,t,r){return(e|~t)^r}function a(e,t,r){return e&r|t&~r}function s(e,t,r){return e^(t|~r)}function o(e,t){return e<<t|e>>>32-t}var u=e,d=u.lib,c=d.WordArray,l=d.Hasher,h=u.algo,f=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=c.create([0,1518500249,1859775393,2400959708,2840853838]),k=c.create([1352829926,1548603684,1836072691,2053994217,0]),b=h.RIPEMD160=l.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var u=0;u<16;u++){var d=t+u,c=e[d];e[d]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var l,h,b,g,w,x,T,C,_,O,B=this._hash.words,S=y.words,M=k.words,I=f.words,E=p.words,F=v.words,P=m.words;x=l=B[0],T=h=B[1],C=b=B[2],_=g=B[3],O=w=B[4];for(var A,u=0;u<80;u+=1)A=l+e[t+I[u]]|0,A+=u<16?r(h,b,g)+S[0]:u<32?i(h,b,g)+S[1]:u<48?n(h,b,g)+S[2]:u<64?a(h,b,g)+S[3]:s(h,b,g)+S[4],A|=0,A=o(A,F[u]),A=A+w|0,l=w,w=g,g=o(b,10),b=h,h=A,A=x+e[t+E[u]]|0,A+=u<16?s(T,C,_)+M[0]:u<32?a(T,C,_)+M[1]:u<48?n(T,C,_)+M[2]:u<64?i(T,C,_)+M[3]:r(T,C,_)+M[4],A|=0,A=o(A,P[u]),A=A+O|0,x=O,O=_,_=o(C,10),C=T,T=A;A=B[1]+b+_|0,B[1]=B[2]+g+O|0,B[2]=B[3]+w+x|0,B[3]=B[4]+l+T|0,B[4]=B[0]+h+C|0,B[0]=A},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var n=this._hash,a=n.words,s=0;s<5;s++){var o=a[s];a[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return n},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}});u.RIPEMD160=l._createHelper(b),u.HmacRIPEMD160=l._createHmacHelper(b)}(Math),e.RIPEMD160})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(179),r(180))}(0,function(e){return function(){var t=e,r=t.lib,i=r.Base,n=r.WordArray,a=t.algo,s=a.SHA1,o=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,i=o.create(r.hasher,e),a=n.create(),s=n.create([1]),u=a.words,d=s.words,c=r.keySize,l=r.iterations;u.length<c;){var h=i.update(t).finalize(s);i.reset();for(var f=h.words,p=f.length,v=h,m=1;m<l;m++){v=i.finalize(v),i.reset();for(var y=v.words,k=0;k<p;k++)f[k]^=y[k]}a.concat(h),d[0]++}return a.sigBytes=4*c,a}});t.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}}(),e.PBKDF2})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.mode.CFB=function(){function t(e,t,r,i){var n=this._iv;if(n){var a=n.slice(0);this._iv=void 0}else var a=this._prevBlock;i.encryptBlock(a,0);for(var s=0;s<r;s++)e[t+s]^=a[s]}var r=e.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(e,r){var i=this._cipher,n=i.blockSize;t.call(this,e,r,n,i),this._prevBlock=e.slice(r,r+n)}}),r.Decryptor=r.extend({processBlock:function(e,r){var i=this._cipher,n=i.blockSize,a=e.slice(r,r+n);t.call(this,e,r,n,i),this._prevBlock=a}}),r}(),e.mode.CFB})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,n=this._iv,a=this._counter;n&&(a=this._counter=n.slice(0),this._iv=void 0);var s=a.slice(0);r.encryptBlock(s,0),a[i-1]=a[i-1]+1|0;for(var o=0;o<i;o++)e[t+o]^=s[o]}});return t.Decryptor=r,t}(),e.mode.CTR})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.mode.CTRGladman=function(){function t(e){if(255===(e>>24&255)){var t=e>>16&255,r=e>>8&255,i=255&e;255===t?(t=0,255===r?(r=0,255===i?i=0:++i):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=i}else e+=1<<24;return e}function r(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,a=this._iv,s=this._counter;a&&(s=this._counter=a.slice(0),this._iv=void 0),r(s);var o=s.slice(0);i.encryptBlock(o,0);for(var u=0;u<n;u++)e[t+u]^=o[u]}});return i.Decryptor=n,i}(),e.mode.CTRGladman})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,n=this._iv,a=this._keystream;n&&(a=this._keystream=n.slice(0),this._iv=void 0),r.encryptBlock(a,0);for(var s=0;s<i;s++)e[t+s]^=a[s]}});return t.Decryptor=r,t}(),e.mode.OFB})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,i=4*t,n=i-r%i,a=r+n-1;e.clamp(),e.words[a>>>2]|=n<<24-a%4*8,e.sigBytes+=n},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.pad.Iso10126={pad:function(t,r){var i=4*r,n=i-t.sigBytes%i;t.concat(e.lib.WordArray.random(n-1)).concat(e.lib.WordArray.create([n<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},e.pad.ZeroPadding})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(165))}(0,function(e){return function(t){var r=e,i=r.lib,n=i.CipherParams,a=r.enc,s=a.Hex,o=r.format;o.Hex={stringify:function(e){return e.ciphertext.toString(s)},parse:function(e){var t=s.parse(e);return n.create({ciphertext:t})}}}(),e.format.Hex})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(167),r(168),r(93),r(165))}(0,function(e){return function(){function t(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function r(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}var i=e,n=i.lib,a=n.WordArray,s=n.BlockCipher,o=i.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=s.extend({_doReset:function(){for(var e=this._key,t=e.words,r=[],i=0;i<56;i++){var n=u[i]-1;r[i]=t[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],s=0;s<16;s++){for(var o=a[s]=[],l=c[s],i=0;i<24;i++)o[i/6|0]|=r[(d[i]-1+l)%28]<<31-i%6,o[4+(i/6|0)]|=r[28+(d[i+24]-1+l)%28]<<31-i%6;o[0]=o[0]<<1|o[0]>>>31;for(var i=1;i<7;i++)o[i]=o[i]>>>4*(i-1)+3;o[7]=o[7]<<5|o[7]>>>27}for(var h=this._invSubKeys=[],i=0;i<16;i++)h[i]=a[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,i,n){this._lBlock=e[i],this._rBlock=e[i+1],t.call(this,4,252645135),t.call(this,16,65535),r.call(this,2,858993459),r.call(this,8,16711935),t.call(this,1,1431655765);for(var a=0;a<16;a++){for(var s=n[a],o=this._lBlock,u=this._rBlock,d=0,c=0;c<8;c++)d|=l[c][((u^s[c])&h[c])>>>0];this._lBlock=u,this._rBlock=o^d}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,t.call(this,1,1431655765),r.call(this,8,16711935),r.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),e[i]=this._lBlock,e[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=s._createHelper(f);var p=o.TripleDES=s.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=f.createEncryptor(a.create(t.slice(0,2))),this._des2=f.createEncryptor(a.create(t.slice(2,4))),this._des3=f.createEncryptor(a.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});i.TripleDES=s._createHelper(p)}(),e.TripleDES})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(167),r(168),r(93),r(165))}(0,function(e){return function(){function t(){for(var e=this._S,t=this._i,r=this._j,i=0,n=0;n<4;n++){t=(t+1)%256,r=(r+e[t])%256;var a=e[t];e[t]=e[r],e[r]=a,i|=e[(e[t]+e[r])%256]<<24-8*n}return this._i=t,this._j=r,i}var r=e,i=r.lib,n=i.StreamCipher,a=r.algo,s=a.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;for(var n=0,a=0;n<256;n++){var s=n%r,o=t[s>>>2]>>>24-s%4*8&255;a=(a+i[n]+o)%256;var u=i[n];i[n]=i[a],i[a]=u}this._i=this._j=0},_doProcessBlock:function(e,r){e[r]^=t.call(this)},keySize:8,ivSize:0});r.RC4=n._createHelper(s);var o=a.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});r.RC4Drop=n._createHelper(o)}(),e.RC4})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(167),r(168),r(93),r(165))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(var r=0;r<8;r++){var i=e[r]+t[r],n=65535&i,a=i>>>16,s=((n*n>>>17)+n*a>>>15)+a*a,d=((4294901760&i)*i|0)+((65535&i)*i|0);u[r]=s^d}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var r=e,i=r.lib,n=i.StreamCipher,a=r.algo,s=[],o=[],u=[],d=a.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,r=this.cfg.iv,i=0;i<4;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)t.call(this);for(var i=0;i<8;i++)a[i]^=n[i+4&7];if(r){var s=r.words,o=s[0],u=s[1],d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=d>>>16|4294901760&c,h=c<<16|65535&d;a[0]^=d,a[1]^=l,a[2]^=c,a[3]^=h,a[4]^=d,a[5]^=l,a[6]^=c,a[7]^=h;for(var i=0;i<4;i++)t.call(this)}},_doProcessBlock:function(e,r){var i=this._X;t.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)s[n]=16711935&(s[n]<<8|s[n]>>>24)|4278255360&(s[n]<<24|s[n]>>>8),e[r+n]^=s[n]},blockSize:4,ivSize:2});r.Rabbit=n._createHelper(d)}(),e.Rabbit})},function(e,t,r){!function(i,n,a){e.exports=t=n(r(11),r(167),r(168),r(93),r(165))}(0,function(e){return function(){function t(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(var r=0;r<8;r++){var i=e[r]+t[r],n=65535&i,a=i>>>16,s=((n*n>>>17)+n*a>>>15)+a*a,d=((4294901760&i)*i|0)+((65535&i)*i|0);u[r]=s^d}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var r=e,i=r.lib,n=i.StreamCipher,a=r.algo,s=[],o=[],u=[],d=a.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,r=this.cfg.iv,i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)t.call(this);for(var a=0;a<8;a++)n[a]^=i[a+4&7];if(r){var s=r.words,o=s[0],u=s[1],d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=d>>>16|4294901760&c,h=c<<16|65535&d;n[0]^=d,n[1]^=l,n[2]^=c,n[3]^=h,n[4]^=d,n[5]^=l,n[6]^=c,n[7]^=h;for(var a=0;a<4;a++)t.call(this)}},_doProcessBlock:function(e,r){var i=this._X;t.call(this),s[0]=i[0]^i[5]>>>16^i[3]<<16,s[1]=i[2]^i[7]>>>16^i[5]<<16,s[2]=i[4]^i[1]>>>16^i[7]<<16,s[3]=i[6]^i[3]>>>16^i[1]<<16;for(var n=0;n<4;n++)s[n]=16711935&(s[n]<<8|s[n]>>>24)|4278255360&(s[n]<<24|s[n]>>>8),e[r+n]^=s[n]},blockSize:4,ivSize:2});r.RabbitLegacy=n._createHelper(d)}(),e.RabbitLegacy})},function(e,t,r){"use strict";var i=r(1056),n=r(1057),a=r(730);e.exports={formats:a,parse:n,stringify:i}},function(e,t,r){"use strict";var i=r(729),n=r(730),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,n,a,s,u,d,c,l,h,f,p){var v=t;if("function"===typeof d)v=d(r,v);else if(v instanceof Date)v=h(v);else if(null===v){if(a)return u&&!p?u(r,o.encoder):r;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||i.isBuffer(v)){if(u){return[f(p?r:u(r,o.encoder))+"="+f(u(v,o.encoder))]}return[f(r)+"="+f(String(v))]}var m=[];if("undefined"===typeof v)return m;var y;if(Array.isArray(d))y=d;else{var k=Object.keys(v);y=c?k.sort(c):k}for(var b=0;b<y.length;++b){var g=y[b];s&&null===v[g]||(m=Array.isArray(v)?m.concat(e(v[g],n(r,g),n,a,s,u,d,c,l,h,f,p)):m.concat(e(v[g],r+(l?"."+g:"["+g+"]"),n,a,s,u,d,c,l,h,f,p)))}return m};e.exports=function(e,t){var r=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var d="undefined"===typeof s.delimiter?o.delimiter:s.delimiter,c="boolean"===typeof s.strictNullHandling?s.strictNullHandling:o.strictNullHandling,l="boolean"===typeof s.skipNulls?s.skipNulls:o.skipNulls,h="boolean"===typeof s.encode?s.encode:o.encode,f="function"===typeof s.encoder?s.encoder:o.encoder,p="function"===typeof s.sort?s.sort:null,v="undefined"!==typeof s.allowDots&&s.allowDots,m="function"===typeof s.serializeDate?s.serializeDate:o.serializeDate,y="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:o.encodeValuesOnly;if("undefined"===typeof s.format)s.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,s.format))throw new TypeError("Unknown format option provided.");var k,b,g=n.formatters[s.format];"function"===typeof s.filter?(b=s.filter,r=b("",r)):Array.isArray(s.filter)&&(b=s.filter,k=b);var w=[];if("object"!==typeof r||null===r)return"";var x;x=s.arrayFormat in a?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var T=a[x];k||(k=Object.keys(r)),p&&k.sort(p);for(var C=0;C<k.length;++C){var _=k[C];l&&null===r[_]||(w=w.concat(u(r[_],_,T,c,l,h?f:null,b,p,v,m,g,y)))}var O=w.join(d),B=!0===s.addQueryPrefix?"?":"";return O.length>0?B+O:""}},function(e,t,r){"use strict";var i=r(729),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t){for(var r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,s),u=0;u<o.length;++u){var d,c,l=o[u],h=l.indexOf("]="),f=-1===h?l.indexOf("="):h+1;-1===f?(d=t.decoder(l,a.decoder),c=t.strictNullHandling?null:""):(d=t.decoder(l.slice(0,f),a.decoder),c=t.decoder(l.slice(f+1),a.decoder)),n.call(r,d)?r[d]=[].concat(r[d]).concat(c):r[d]=c}return r},o=function(e,t,r){for(var i=t,n=e.length-1;n>=0;--n){var a,s=e[n];if("[]"===s)a=[],a=a.concat(i);else{a=r.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(o,10);!isNaN(u)&&s!==o&&String(u)===o&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=i):a[o]=i}i=a}return i},u=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=a.exec(i),d=u?i.slice(0,u.index):i,c=[];if(d){if(!r.plainObjects&&n.call(Object.prototype,d)&&!r.allowPrototypes)return;c.push(d)}for(var l=0;null!==(u=s.exec(i))&&l<r.depth;){if(l+=1,!r.plainObjects&&n.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+i.slice(u.index)+"]"),o(c,t,r)}};e.exports=function(e,t){var r=t?i.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var n="string"===typeof e?s(e,r):e,o=r.plainObjects?Object.create(null):{},d=Object.keys(n),c=0;c<d.length;++c){var l=d[c],h=u(l,n[l],r);o=i.merge(o,h,r)}return i.compact(o)}},function(e,t,r){"use strict";var i=r(725),n=function(e){return e&&e.__esModule?e:{default:e}}(i),a=r(726),s=r(617),o=s.capitalize,u=r(724),d=u.stringToBase64,c=u.utf16ToBase64,l=u.urlencodeBase64,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"md5",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex",i=a[t.toUpperCase()](e);return"binary"===r?i:i.toString(a.enc[o(r)])},f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",n=a["Hmac"+r.toUpperCase()](e,t);if(i){var s="binary"===i?"Latin1":o(i);return n.toString(a.enc[o(s)])}return n},p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HS256",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sha256",a=l(d((0,n.default)({alg:r,typ:"JWT"}))),s=l(d((0,n.default)(e))),o=[a,s].join(".");return[o,l(c(f(o,t,i,"utf16")))].join(".")};e.exports={hash:h,hmac:f,jwt:p}},function(e,t,r){e.exports={default:r(1060),__esModule:!0}},function(e,t,r){r(1061),e.exports=r(440).Object.setPrototypeOf},function(e,t,r){var i=r(444);i(i.S,"Object",{setPrototypeOf:r(1062).set})},function(e,t,r){var i=r(453),n=r(452),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r(461)(Function.call,r(616).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){e.exports={default:r(1064),__esModule:!0}},function(e,t,r){r(1065);var i=r(440).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,r){var i=r(444);i(i.S,"Object",{create:r(526)})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(528),d=i(u),c=r(475),l=i(c),h=r(731),f=h.sleep,p=h.now;e.exports={throttle:function e(t){var r=this,i=p(),n="undefined"!==typeof t.numTokens?t.numTokens:t.capacity,s=!1,u=[];return(0,l.default)(function(e){if(u.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new d.default(function(){var d=(0,o.default)(a.default.mark(function o(d,c){var l,h,v,m,y,k,b;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,u.push({cost:e,resolve:d,reject:c}),s){r.next=15;break}s=!0;case 4:if(!(u.length>0)){r.next=14;break}return l=t.capacity?n>0:n>=0,l&&u.length>0&&(h=u[0],v=h.cost,m=h.resolve,y=h.reject,v=v||t.defaultCost,n>=Math.min(v,t.capacity)&&(n-=v,u.shift(),m())),k=p(),b=k-i,i=k,n=Math.min(t.capacity,n+b*t.refillRate),r.next=12,f(t.delay);case 12:r.next=4;break;case 14:s=!1;case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(0),c(r.t0);case 20:case"end":return r.stop()}},o,r,[[0,17]])}));return function(e,t){return d.apply(this,arguments)}}())},t,{configure:function(r){return e((0,l.default)({},t,r))}})}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(504),a=i(n),s=r(436),o=i(s),u=r(439),d=i(u),c=function(e){var t=e.slice(0,-1),r=e.slice(-1),i=60;return"y"===r?i=31536e3:"M"===r?i=2592e3:"w"===r?i=604800:"d"===r?i=86400:"h"===r&&(i=3600),t*i},l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,n=1e3*c(t),a=[],s=[0,1,2,3,4,5,6],o=s[0],u=s[2],d=s[3],l=s[4],h=s[5],f=s[6],p=Math.min(e.length-1,i),v=0;v<=p;v++){var m=e[v];if(!(m.timestamp<r)){var y=Math.floor(m.timestamp/n)*n,k=a.length-1;-1===k||y>=a[k][o]+n?a.push([y,m.price,m.price,m.price,m.price,m.amount,1]):(a[k][u]=Math.max(a[k][u],m.price),a[k][d]=Math.min(a[k][d],m.price),a[k][l]=m.price,a[k][h]+=m.amount,a[k][f]++)}}return a};e.exports={aggregate:function(e){var t={},r=!0,i=!1,n=void 0;try{for(var s,u=(0,a.default)(e);!(r=(s=u.next()).done);r=!0){var c=s.value,l=(0,d.default)(c,2),h=l[0],f=l[1];f>0&&(t[h]=(t[h]||0)+f)}}catch(e){i=!0,n=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw n}}return(0,o.default)(t).map(function(e){return[parseFloat(e),parseFloat(t[e])]})},parseTimeframe:c,buildOHLCVC:l}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(430),a=i(n),s=r(431),o=i(s);e.exports=function(){function e(t,r){(0,a.default)(this,e),this.exchange=t,this.symbol=r,this.market=t.markets[r]}return(0,o.default)(e,[{key:"amountToPrecision",value:function(e){return this.exchange.amountToPrecision(this.symbol,e)}},{key:"createLimitBuyOrder",value:function(e,t){return this.exchange.createLimitBuyOrder(this.symbol,e,t)}},{key:"createLimitSellOrder",value:function(e,t){return this.exchange.createLimitSellOrder(this.symbol,e,t)}}]),e}()},function(e,t,r){"use strict";t.__esModule=!0;var i=r(721),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,r){return t in e?(0,n.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var i;!function(n){"use strict";function a(e){var t=e&&e.Promise||n.Promise,r=e&&e.XMLHttpRequest||n.XMLHttpRequest,i=n;return function(){var e=Object.create(i,{fetch:{value:void 0,writable:!0}});return function(e){function i(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return t.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new t(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=u(t);return t.readAsText(e),r}function l(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&w(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||t.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function v(e,t){t=t||{};var r=t.body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=p(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function y(e){var t=new s;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}}),t}function k(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var b={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(b.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};s.prototype.append=function(e,t){e=i(e),t=n(t);var r=this.map[e];this.map[e]=r?r+","+t:t},s.prototype.delete=function(e){delete this.map[i(e)]},s.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},s.prototype.set=function(e,t){this.map[i(e)]=n(t)},s.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},b.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},f.call(v.prototype),f.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];k.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.Headers=s,e.Request=v,e.Response=k,e.fetch=function(e,i){return new t(function(t,n){var a=new v(e,i),s=new r;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:y(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;t(new k(r,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.open(a.method,a.url,!0),"include"===a.credentials&&(s.withCredentials=!0),"responseType"in s&&b.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof e?e:this),{fetch:e.fetch,Headers:e.Headers,Request:e.Request,Response:e.Response}}()}void 0!==(i=function(){return a}.call(t,r,t,e))&&(e.exports=i)}("undefined"===typeof self?this:self)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"_1broker",name:"1Broker",countries:"US",rateLimit:1500,version:"v2",has:{publicAPI:!1,CORS:!0,fetchTrades:!1,fetchOHLCV:!0},timeframes:{"1m":"60","15m":"900","1h":"3600","1d":"86400"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766021-420bd9fc-5ecb-11e7-8ed6-56d0081efed2.jpg",api:"https://1broker.com/api",www:"https://1broker.com",doc:"https://1broker.com/?c=en/content/api-documentation"},requiredCredentials:{apiKey:!0,secret:!1},api:{private:{get:["market/bars","market/categories","market/details","market/list","market/quotes","market/ticks","order/cancel","order/create","order/open","position/close","position/close_cancel","position/edit","position/history","position/open","position/shared/get","social/profile_statistics","social/profile_trades","user/bitcoin_deposit_address","user/details","user/overview","user/quota_status","user/transaction_log"]}}})}},{key:"fetchCategories",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetMarketCategories();case 2:for(t=e.sent,r=t.response,i=[],n=0;n<r.length;n++)r[n]&&i.push(r[n]);return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.fetchCategories();case 3:r=e.sent,i=[],n=0;case 6:if(!(n<r.length)){e.next=15;break}return a=r[n],e.next=10,t.privateGetMarketList({category:a.toLowerCase()});case 10:for(s=e.sent,u=0;u<s.response.length;u++)d=s.response[u],c=d.symbol,l=void 0,h=void 0,f=void 0,"FOREX"===a||"CRYPTO"===a?(l=d.name,p=l.split("/"),h=p[0],f=p[1]):(h=c,f="USD",l=h+"/"+f),h=t.commonCurrencyCode(h),f=t.commonCurrencyCode(f),i.push({id:c,symbol:l,base:h,quote:f,info:d});case 12:n++,e.next=6;break;case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserOverview();case 4:for(t=e.sent,r=t.response,i={info:r},n=(0,a.default)(this.currencies),s=0;s<n.length;s++)u=n[s],i[u]=this.account();return d=this.safeFloat(r,"balance"),i.BTC.free=d,i.BTC.total=d,e.abrupt("return",this.parseBalance(i));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetMarketQuotes(this.extend({symbols:this.marketId(t)},c));case 4:return r=e.sent,i=r.response[0],n=this.parse8601(i.updated),a=this.safeFloat(i,"bid"),s=this.safeFloat(i,"ask"),u=[a,void 0],d=[s,void 0],e.abrupt("return",{timestamp:n,datetime:this.iso8601(n),bids:[u],asks:[d],nonce:void 0});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new _(this.id+" fetchTrades () method not implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetMarketBars(this.extend({symbol:this.marketId(t),resolution:60,limit:1},d));case 4:return r=e.sent,i=r.response[0],n=this.parse8601(i.date),a=this.safeFloat(i,"o"),s=this.safeFloat(i,"c"),u=s-a,e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"h"),low:this.safeFloat(i,"l"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:void 0,change:u,percentage:u/a*100,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.date),parseFloat(e.o),parseFloat(e.h),parseFloat(e.l),parseFloat(e.c),void 0]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,resolution:this.timeframes[a]},"undefined"!==typeof s&&(i.date_start=this.iso8601(s)),"undefined"!==typeof u&&(i.limit=u),e.next=8,this.privateGetMarketBars(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n.response,r,a,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={symbol:this.marketId(t),margin:n,direction:"sell"===i?"short":"long",leverage:1,type:i},"limit"===r?a.price=u:a.type+="_market",e.next=6,this.privateGetOrderCreate(this.extend(a,d));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.response.order_id});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderCancel({order_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET"),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.checkRequiredCredentials();var a=this.urls.api+"/"+this.version+"/"+e+".php",s=this.extend({token:this.apiKey},r);return a+="?"+this.urlencode(s),{url:a,method:t,body:n,headers:i}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("warning"in(r=e.sent))){e.next=6;break}if(!r.warning){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:if(!("error"in r)){e.next=9;break}if(!r.error){e.next=9;break}throw new C(this.id+" "+this.json(r));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){e.exports={default:r(1073),__esModule:!0}},function(e,t,r){r(1074);var i=r(440).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var i=r(463),n=r(616).f;r(524)("getOwnPropertyDescriptor",function(){return function(e,t){return n(i(e),t)}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(531);e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"allcoin",name:"Allcoin",countries:"CA",has:{CORS:!1},extension:"",urls:{logo:"https://user-images.githubusercontent.com/1294454/31561809-c316b37c-b061-11e7-8d5a-b547b4d730eb.jpg",api:{web:"https://www.allcoin.com",public:"https://api.allcoin.com/api",private:"https://api.allcoin.com/api"},www:"https://www.allcoin.com",doc:"https://www.allcoin.com/About/APIReference"},api:{web:{get:["Home/MarketOverViewDetail/"]},public:{get:["depth","kline","ticker","trades"]},private:{post:["batch_trade","cancel_order","order_history","order_info","orders_info","repayment","trade","trade_history","userinfo"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l,h,f,p,v;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.webGetHomeMarketOverViewDetail();case 3:for(r=e.sent,i=r.marketCoins,n=0;n<i.length;n++)for(s=i[n].Markets,o=0;o<s.length;o++)u=s[o].Market,d=u.Primary,c=u.Secondary,l=d.toLowerCase(),h=c.toLowerCase(),f=l+"_"+h,p=d+"/"+c,v=u.TradeEnabled&&u.BuyEnabled&&u.SellEnabled,t.push({id:f,symbol:p,base:d,quote:c,baseId:l,quoteId:h,active:v,type:"spot",spot:!0,future:!1,maker:u.AskFeeRate,taker:u.AskFeeRate,precision:{amount:u.PrimaryDigits,price:u.SecondaryDigits},limits:{amount:{min:u.MinTradeAmount,max:u.MaxTradeAmount},price:{min:u.MinOrderPrice,max:u.MaxOrderPrice},cost:{min:void 0,max:void 0}},info:u});return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return-1===e?"canceled":0===e?"open":1===e?"open":2===e?"closed":10===e?"canceled":e}},{key:"getCreateDateField",value:function(){return"create_data"}},{key:"getOrdersField",value:function(){return"order"}}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"anxpro",name:"ANXPro",countries:["JP","SG","HK","NZ"],version:"2",rateLimit:1500,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27765983-fd8595da-5ec9-11e7-82e3-adb3ab8c2612.jpg",api:"https://anxpro.com/api",www:"https://anxpro.com",doc:["http://docs.anxv2.apiary.io","https://anxpro.com/pages/api"]},api:{public:{get:["{currency_pair}/money/ticker","{currency_pair}/money/depth/full","{currency_pair}/money/trade/fetch"]},private:{post:["{currency_pair}/money/order/add","{currency_pair}/money/order/cancel","{currency_pair}/money/order/quote","{currency_pair}/money/order/result","{currency_pair}/money/orders","money/{currency}/address","money/{currency}/send_simple","money/info","money/trade/list","money/wallet/history"]}},markets:{"BTC/USD":{id:"BTCUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",multiplier:1e5},"BTC/HKD":{id:"BTCHKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD",multiplier:1e5},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",multiplier:1e5},"BTC/CAD":{id:"BTCCAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD",multiplier:1e5},"BTC/AUD":{id:"BTCAUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD",multiplier:1e5},"BTC/SGD":{id:"BTCSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",multiplier:1e5},"BTC/JPY":{id:"BTCJPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY",multiplier:1e5},"BTC/GBP":{id:"BTCGBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",multiplier:1e5},"BTC/NZD":{id:"BTCNZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD",multiplier:1e5},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",multiplier:1e5},"STR/BTC":{id:"STRBTC",symbol:"STR/BTC",base:"STR",quote:"BTC",multiplier:1e8},"XRP/BTC":{id:"XRPBTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",multiplier:1e8},"DOGE/BTC":{id:"DOGEBTC",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",multiplier:1e8}},fees:{trading:{maker:.003,taker:.006}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostMoneyInfo();case 2:for(t=e.sent,r=t.data,i=(0,o.default)(r.Wallets),n={info:r},s=0;s<i.length;s++)u=i[s],d=this.account(),u in r.Wallets&&(c=r.Wallets[u],d.free=parseFloat(c.Available_Balance.value),d.total=parseFloat(c.Balance.value),d.used=d.total-d.free),n[u]=d;return e.abrupt("return",this.parseBalance(n));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairMoneyDepthFull(this.extend({currency_pair:this.marketId(t)},o));case 2:return r=e.sent,i=r.data,n=parseInt(i.dataUpdateTime),s=parseInt(n/1e3),e.abrupt("return",this.parseOrderBook(i,s,"bids","asks","price","amount"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairMoneyTicker(this.extend({currency_pair:this.marketId(t)},l));case 2:return r=e.sent,i=r.data,n=parseInt(i.dataUpdateTime),s=parseInt(n/1e3),o=this.safeFloat(i.buy,"value"),u=this.safeFloat(i.sell,"value"),d=parseFloat(i.vol.value),c=parseFloat(i.last.value),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:parseFloat(i.high.value),low:parseFloat(i.low.value),bid:o,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:parseFloat(i.avg.value),baseVolume:d,quoteVolume:void 0,info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new C(this.id+" switched off the trades endpoint, see their docs at http://docs.anxv2.apiary.io/reference/market-data/currencypairmoneytradefetch-disabled");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.market(t),o={currency_pair:s.id,amount_int:parseInt(1e8*n)},"limit"===r&&(o.price_int=parseInt(d*s.multiplier)),o.type="buy"===i?"bid":"ask",e.next=6,this.privatePostCurrencyPairMoneyOrderAdd(this.extend(o,c));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.data});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCurrencyPairMoneyOrderCancel({oid:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAmountMultiplier",value:function(e){return"BTC"===e?1e8:"LTC"===e?1e8:"STR"===e?1e8:"XRP"===e?1e8:"DOGE"===e?1e8:100}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.getAmountMultiplier(t),e.next=6,this.privatePostMoneyCurrencySendSimple(this.extend({currency:t,amount_int:parseInt(r*n),address:i},o));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.data.transactionId});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.implodeParams(e,i),u=this.omit(i,this.extractParams(e)),d=this.urls.api+"/"+this.version+"/"+s;if("public"===t)(0,o.default)(u).length&&(d+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c=this.nonce();a=this.urlencode(this.extend({nonce:c},u));var l=this.base64ToBinary(this.secret),h=s+"\0"+a,f=this.hmac(this.encode(h),l,"sha512","base64");n={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(f)}}return{url:d,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if("undefined"===typeof(r=e.sent)){e.next=7;break}if(!("result"in r)){e.next=7;break}if("success"!==r.result){e.next=7;break}return e.abrupt("return",r);case 7:throw new C(this.id+" "+this.json(r));case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.DDoSProtection,B=T.ExchangeNotAvailable,S=T.InvalidOrder,M=T.OrderNotFound,I=T.PermissionDenied,E=T.InsufficientFunds;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",has:{CORS:!1,publicAPI:!1,fetchBalance:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","8h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/34902611-2be8bf1a-f830-11e7-91a2-11b2f292e750.jpg",api:"https://api.bibox.com",www:"https://www.bibox.com",doc:["https://github.com/Biboxcom/api_reference/wiki/home_en","https://github.com/Biboxcom/api_reference/wiki/api_reference"],fees:"https://bibox.zendesk.com/hc/en-us/articles/115004417013-Fee-Structure-on-Bibox"},api:{public:{post:["mdata"],get:["mdata"]},private:{post:["user","orderpending","transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2021:E,2015:_,2033:M,2067:S,2068:S,3012:_,3024:I,3025:_,4000:B,4003:O},commonCurrencies:{KEY:"Bihu"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMdata(this.extend({cmd:"marketAll"},p));case 2:for(t=e.sent,r=t.result,i=[],n=0;n<r.length;n++)a=r[n],s=a.coin_symbol,u=a.currency_symbol,d=this.commonCurrencyCode(s),c=this.commonCurrencyCode(u),l=d+"/"+c,h=d+"_"+c,f={amount:8,price:8},i.push({id:h,symbol:l,base:d,quote:c,baseId:d,quoteId:c,active:!0,info:a,lot:Math.pow(10,-f.amount),precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp"),i=void 0;if(t)i=t.symbol;else{var n=e.coin_symbol,a=e.currency_symbol;i=this.commonCurrencyCode(n)+"/"+this.commonCurrencyCode(a)}var s=this.safeFloat(e,"last"),o=this.safeFloat(e,"change"),u=void 0;u="vol"in e?this.safeFloat(e,"vol"):this.safeFloat(e,"vol24H");var d=void 0;"undefined"!==typeof s&&"undefined"!==typeof o&&(d=s-o);var c=void 0;return"undefined"!==typeof r&&(c=this.iso8601(r)),{symbol:i,timestamp:r,datetime:c,high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:d,close:s,last:s,previousClose:void 0,change:o,percentage:this.safeString(e,"percent"),average:void 0,baseVolume:u,quoteVolume:this.safeFloat(e,"amount"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMdata(this.extend({cmd:"ticker",pair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.result,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],i=0;i<e.length;i++)r.push(this.parseTicker(e[i]));return this.filterByArray(r,"symbol",t)}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMdata(this.extend({cmd:"marketAll"},i));case 2:return t=e.sent,e.abrupt("return",this.parseTickers(t.result,r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time,i=this.safeInteger(e,"side");if(i=this.safeInteger(e,"order_side",i),i=1===i?"buy":"sell","undefined"===typeof t){var n=this.safeString(e,"pair");"undefined"!==typeof n&&n in this.markets_by_id&&(t=this.markets_by_id[n])}var a="undefined"!==typeof t?t.symbol:void 0,s=void 0;return"fee"in e&&(s={cost:this.safeFloat(e,"fee"),currency:void 0}),{id:this.safeString(e,"id"),info:e,timestamp:r,datetime:this.iso8601(r),symbol:a,type:"limit",side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount"),fee:s}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=s||200,e.next=6,this.publicGetMdata(this.extend({cmd:"deals",pair:r.id,size:i},u));case 6:return n=e.sent,e.abrupt("return",this.parseTrades(n.result,r,a,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={cmd:"depth",pair:r.id},i.size=a,e.next=7,this.publicGetMdata(this.extend(i,s));case 7:return n=e.sent,e.abrupt("return",this.parseOrderBook(n.result,this.safeFloat(n.result,"update_time"),"bids","asks","price","volume"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.time,e.open,e.high,e.low,e.close,e.vol]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMdata(this.extend({cmd:"kline",pair:r.id,period:this.timeframes[n],size:s},u));case 5:return i=e.sent,e.abrupt("return",this.parseOHLCVs(i.result,r,n,a,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostTransfer({cmd:"transfer/coinList",body:{}});case 2:for(t=e.sent,r=t.result,i={},n=0;n<r.length;n++)a=r[n],s=a.symbol,u=this.commonCurrencyCode(s),d=8,c=a.enable_deposit,l=a.enable_withdraw,h=!(!c||!l),i[u]={id:s,code:u,info:a,name:a.name,active:h,status:"ok",fee:void 0,precision:d,limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,d)}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTransfer({cmd:"transfer/assets",body:this.extend({select:1},f)});case 4:t=e.sent,r=t.result,i={info:r},n=void 0,n="assets_list"in r?this.indexBy(r.assets_list,"coin_symbol"):r,s=(0,a.default)(n);for(u=0;u<s.length;u++)d=s[u],c=d.toUpperCase(),c.indexOf("TOTAL_")>=0&&(c=c.slice(6)),c in this.currencies_by_id&&(c=this.currencies_by_id[c].code),l=this.account(),h=n[d],"string"===typeof h?(h=parseFloat(h),l.free=h,l.used=0,l.total=h):(l.free=parseFloat(h.balance),l.used=parseFloat(h.freeze),l.total=this.sum(l.free,l.used)),i[c]=l;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s="limit"===r?2:1,u="buy"===i?1:2,e.next=7,this.privatePostOrderpending({cmd:"orderpending/trade",body:this.extend({pair:a.id,account_type:0,order_type:s,order_side:u,pay_bix:0,amount:n,price:c},l)});case 7:return d=e.sent,e.abrupt("return",{info:d,id:this.safeString(d,"result")});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrderpending({cmd:"orderpending/cancelTrade",body:this.extend({orders_id:t},i)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;r=t?t.symbol:e.coin_symbol+"/"+e.currency_symbol;var i=1===e.order_type?"market":"limit",n=e.createdAt,a=this.safeFloat(e,"price"),s=this.safeFloat(e,"deal_amount"),o=this.safeFloat(e,"amount"),u=this.safeFloat(e,"money"),d=void 0;"undefined"!==typeof s&&("undefined"!==typeof o&&(d=o-s),"undefined"===typeof u&&(u=a*s));var c=1===e.order_side?"buy":"sell",l=this.safeString(e,"status");return"undefined"!==typeof l&&(l=this.parseOrderStatus(l)),{info:e,id:this.safeString(e,"id"),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:r,type:i,side:c,price:a,amount:o,cost:u||parseFloat(a)*s,filled:s,remaining:d,status:l,fee:this.safeFloat(e,"fee")}}},{key:"parseOrderStatus",value:function(e){var t={1:"pending",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"};return this.safeString(t,e,e.toLowerCase())}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,r=void 0,"undefined"===typeof s){e.next=7;break}return e.next=5,this.loadMarkets();case 5:t=this.market(s),r=t.id;case 7:return i=d||200,e.next=10,this.privatePostOrderpending({cmd:"orderpending/orderPendingList",body:this.extend({pair:r,account_type:0,page:1,size:i},c)});case 10:return n=e.sent,a=this.safeValue(n.result,"items",[]),e.abrupt("return",this.parseOrders(a,t,u,d));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" fetchClosedOrders requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),e.next=7,this.privatePostOrderpending({cmd:"orderpending/pendingHistoryList",body:this.extend({pair:t.id,account_type:0,page:1,size:s},u)});case 7:return r=e.sent,i=this.safeValue(r.result,"items",[]),e.abrupt("return",this.parseOrders(i,t,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}throw new C(this.id+" fetchMyTrades requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(a),r=u||200,e.next=8,this.privatePostOrderpending({cmd:"orderpending/orderHistoryList",body:this.extend({pair:t.id,account_type:0,page:1,size:r},d)});case 8:return i=e.sent,n=this.safeValue(i.result,"items",[]),e.abrupt("return",this.parseOrders(n,t,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostTransfer({cmd:"transfer/transferIn",body:this.extend({coin_symbol:r.id},s)});case 5:return i=e.sent,n=this.safeString(i,"result"),a={info:i,address:n},e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if(n=this.currency(t),"undefined"!==typeof this.password){e.next=7;break}if("trade_pwd"in d){e.next=7;break}throw new C(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");case 7:if("totp_code"in d){e.next=9;break}throw new C(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");case 9:return a={trade_pwd:this.password,coin_symbol:n.id,amount:r,addr:i},"undefined"!==typeof u&&(a.address_remark=u),e.next=13,this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(a,d)});case 13:return s=e.sent,e.abrupt("return",{info:s,id:void 0});case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchFundingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:t={},r={},"undefined"===typeof d&&(d=(0,a.default)(this.currencies)),i=0;case 6:if(!(i<d.length)){e.next=17;break}return n=d[i],s=this.currency(n),e.next=11,this.privatePostTransfer({cmd:"transfer/transferOutInfo",body:this.extend({coin_symbol:s.id},c)});case 11:u=e.sent,r[n]=u,t[n]=u.result.withdraw_fee;case 14:i++,e.next=6;break;case 17:return e.abrupt("return",{info:r,withdraw:t,deposit:{}});case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+e,u=this.json([i]);return"public"===t?"GET"!==r?s={cmds:u}:(0,a.default)(i).length&&(o+="?"+this.urlencode(i)):(this.checkRequiredCredentials(),s={cmds:u,apikey:this.apiKey,sign:this.hmac(this.encode(u),this.encode(this.secret),"md5")}),"undefined"!==typeof s&&(s=this.json(s,{convertArraysToObjects:!0})),n={"Content-Type":"application/json"},{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(a.length>0&&"{"===a[0]){var s=JSON.parse(a);if("error"in s){if("code"in s.error){var o=this.safeString(s.error,"code"),u=this.id+" "+a,d=this.exceptions;throw o in d?new d[o](u):new C(u)}throw new C(this.id+': "error" in response: '+a)}if(!("result"in s))throw new C(this.id+" "+a)}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(r=e.sent,"GET"!==n){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",r.result[0]);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(505),o=i(s),u=r(19),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.InsufficientFunds,M=_.OrderNotFound,I=_.InvalidOrder,E=_.DDoSProtection,F=_.InvalidNonce,P=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"binance",name:"Binance",countries:"JP",rateLimit:500,has:{fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,fetchFundingFees:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",api:{web:"https://www.binance.com",wapi:"https://api.binance.com/wapi/v3",public:"https://api.binance.com/api/v1",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:"https://www.binance.com/?ref=10205187",doc:"https://github.com/binance-exchange/binance-official-api-docs/blob/master/rest-api.md",fees:["https://binance.zendesk.com/hc/en-us/articles/115000429332","https://support.binance.com/hc/en-us/articles/115000583311"]},api:{web:{get:["exchange/public/product"]},wapi:{post:["withdraw"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","withdrawFee"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["exchangeInfo","ping","time","depth","aggTrades","klines","ticker/24hr","ticker/allPrices","ticker/allBookTickers","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["order","openOrders","allOrders","account","myTrades"],post:["order","order/test"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{ADA:1,ADX:4.7,AION:1.9,AMB:11.4,APPC:6.5,ARK:.1,ARN:3.1,AST:10,BAT:18,BCD:1,BCH:.001,BCPT:10.2,BCX:1,BNB:.7,BNT:1.5,BQX:1.6,BRD:6.4,BTC:.001,BTG:.001,BTM:5,BTS:1,CDT:67,CMT:37,CND:47,CTR:5.4,DASH:.002,DGD:.06,DLT:11.7,DNT:51,EDO:2.5,ELF:6.5,ENG:2.1,ENJ:42,EOS:1,ETC:.01,ETF:1,ETH:.01,EVX:2.5,FUEL:45,FUN:85,GAS:0,GTO:20,GVT:.53,GXS:.3,HCC:5e-4,HSR:1e-4,ICN:3.5,ICX:1.3,INS:1.5,IOTA:.5,KMD:.002,KNC:2.6,LEND:54,LINK:12.8,LLT:54,LRC:9.1,LSK:.1,LTC:.01,LUN:.29,MANA:74,MCO:.86,MDA:4.7,MOD:2,MTH:34,MTL:1.9,NAV:.2,NEBL:.01,NEO:0,NULS:2.1,OAX:8.3,OMG:.57,OST:17,POE:88,POWR:8.6,PPT:.25,QSP:21,QTUM:.01,RCN:35,RDN:2.2,REQ:18.1,RLC:4.1,SALT:1.3,SBTC:1,SNGLS:42,SNM:29,SNT:32,STORJ:5.9,STRAT:.1,SUB:7.4,TNB:82,TNT:47,TRIG:6.7,TRX:129,USDT:23,VEN:1.8,VIB:28,VIBE:7.2,WABI:3.5,WAVES:.002,WINGS:9.3,WTC:.5,XLM:.01,XMR:.04,XRP:.25,XVG:.1,XZC:.02,YOYOW:39,ZEC:.005,ZRX:5.7},deposit:{}}},commonCurrencies:{YOYO:"YOYOW",BCC:"BCH",NANO:"XRB"},options:{defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1},exceptions:{"-1000":B,"-1013":I,"-1021":F,"-1100":I,"-2010":S,"-2011":M,"-2013":M,"-2015":P}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.serverTime),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k,b,g;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangeInfo();case 2:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=6;break}return e.next=6,this.loadTimeDifference();case 6:r=t.symbols,i=[],n=0;case 9:if(!(n<r.length)){e.next=31;break}if(a=r[n],"123456"!==(s=a.symbol)){e.next=14;break}return e.abrupt("continue",28);case 14:u=a.baseAsset,c=a.quoteAsset,l=this.commonCurrencyCode(u),h=this.commonCurrencyCode(c),f=l+"/"+h,p=this.indexBy(a.filters,"filterType"),v={base:a.baseAssetPrecision,quote:a.quotePrecision,amount:a.baseAssetPrecision,price:a.quotePrecision},m="TRADING"===a.status,y=-1*(0,o.default)(v.amount),k={id:s,symbol:f,base:l,quote:h,baseId:u,quoteId:c,info:a,lot:y,active:m,precision:v,limits:{amount:{min:Math.pow(10,-v.amount),max:void 0},price:{min:Math.pow(10,-v.price),max:void 0},cost:{min:y,max:void 0}}},"PRICE_FILTER"in p&&(b=p.PRICE_FILTER,k.precision.price=this.precisionFromString(b.tickSize),k.limits.price={min:this.safeFloat(b,"minPrice"),max:this.safeFloat(b,"maxPrice")}),"LOT_SIZE"in p&&(g=p.LOT_SIZE,k.precision.amount=this.precisionFromString(g.stepSize),k.lot=this.safeFloat(g,"stepSize"),k.limits.amount={min:this.safeFloat(g,"minQty"),max:this.safeFloat(g,"maxQty")}),"MIN_NOTIONAL"in p&&(k.limits.cost.min=parseFloat(p.MIN_NOTIONAL.minNotional)),i.push(k);case 28:n++,e.next=9;break;case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}},e,this)}));return e}()},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",u=s[a],d=parseFloat(this.costToPrecision(e,i*u));return"sell"===r?d*=n:o="base",{type:a,currency:s[o],rate:u,cost:parseFloat(this.feeToPrecision(e,d))}}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccount(u);case 4:for(t=e.sent,r={info:t},i=t.balances,n=0;n<i.length;n++)a=i[n],s=a.asset,s in this.currencies_by_id&&(s=this.currencies_by_id[s].code),o={free:parseFloat(a.free),used:parseFloat(a.locked),total:0},o.total=this.sum(o.free,o.used),r[s]=o;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof s&&(i.limit=s),e.next=7,this.publicGetDepth(this.extend(i,o));case 7:return n=e.sent,a=this.parseOrderBook(n),a.nonce=this.safeInteger(n,"lastUpdateId"),e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"closeTime"),i="undefined"===typeof r?void 0:this.iso8601(r),n=this.findSymbol(this.safeString(e,"symbol"),t),a=this.safeFloat(e,"lastPrice");return{symbol:n,timestamp:r,datetime:i,high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"openPrice"),close:a,last:a,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker24hr(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTickers",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],i=0;i<e.length;i++)r.push(this.parseTicker(e[i]));return this.filterByArray(r,"symbol",t)}},{key:"fetchBidsAsks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickerBookTicker(i);case 4:return t=e.sent,e.abrupt("return",this.parseTickers(t,r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker24hr(i);case 4:return t=e.sent,e.abrupt("return",this.parseTickers(t,r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,interval:this.timeframes[a]},"undefined"!==typeof s&&(i.startTime=s),"undefined"!==typeof o&&(i.limit=o),e.next=8,this.publicGetKlines(this.extend(i,u));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="T"in e?"T":"time",i=e[r],n="p"in e?"p":"price",a=parseFloat(e[n]),s="q"in e?"q":"qty",o=parseFloat(e[s]),u="a"in e?"a":"id",d=e[u].toString(),c=void 0,l=void 0;"orderId"in e&&(l=e.orderId.toString()),c="m"in e?e.m?"sell":"buy":e.isBuyer?"buy":"sell";var h=void 0;"commission"in e&&(h={cost:this.safeFloat(e,"commission"),currency:this.commonCurrencyCode(e.commissionAsset)});var f=void 0;return"isMaker"in e&&(f=e.isMaker?"maker":"taker"),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,id:d,order:l,type:void 0,takerOrMaker:f,side:c,price:a,cost:a*o,amount:o,fee:h}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof a&&(i.startTime=a,i.endTime=a+36e5),"undefined"!==typeof s&&(i.limit=s),e.next=8,this.publicGetAggTrades(this.extend(i,o));case 8:return n=e.sent,e.abrupt("return",this.parseTrades(n,r,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled"};return e in t?t[e]:e.toLowerCase()}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"status");"undefined"!==typeof r&&(r=this.parseOrderStatus(r));var i=this.findSymbol(this.safeString(e,"symbol"),t),n=void 0;"time"in e?n=e.time:"transactTime"in e&&(n=e.transactTime);var a=void 0;"undefined"!==typeof n&&(a=this.iso8601(n));var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"origQty"),u=this.safeFloat(e,"executedQty",0),d=void 0,c=void 0;"undefined"!==typeof u&&("undefined"!==typeof o&&(d=Math.max(o-u,0)),"undefined"!==typeof s&&(c=s*u));var l=this.safeString(e,"orderId"),h=this.safeString(e,"type");"undefined"!==typeof h&&(h=h.toLowerCase());var f=this.safeString(e,"side");return"undefined"!==typeof f&&(f=f.toLowerCase()),{info:e,id:l,timestamp:n,datetime:a,lastTradeTimestamp:void 0,symbol:i,type:h,side:f,price:s,amount:o,cost:c,filled:u,remaining:d,status:r,fee:void 0}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n){var a,s,o,u,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s="privatePostOrder",o=this.safeValue(h,"test",!1),o&&(s+="Test",h=this.omit(h,"test")),u={symbol:a.id,quantity:this.amountToString(t,n),type:r.toUpperCase(),side:i.toUpperCase()},"limit"===r?(u.type=this.options.defaultLimitOrderType.toUpperCase(),u=this.extend(u,{price:this.priceToPrecision(t,l),timeInForce:this.options.defaultTimeInForce})):"limit_maker"===r&&(u.price=this.priceToPrecision(t,l)),e.next=10,this[s](this.extend(u,h));case 10:return c=e.sent,e.abrupt("return",this.parseOrder(c));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new O(this.id+" fetchOrder requires a symbol param");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(s),i=this.safeValue(o,"origClientOrderId"),n={symbol:r.id},"undefined"!==typeof i?n.origClientOrderId=i:n.orderId=parseInt(t),e.next=10,this.privateGetOrder(this.extend(n,o));case 10:return a=e.sent,e.abrupt("return",this.parseOrder(a,r));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+" fetchOrders requires a symbol param");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r={symbol:t.id},s&&(r.limit=s),e.next=9,this.privateGetAllOrders(this.extend(r,o));case 9:return i=e.sent,e.abrupt("return",this.parseOrders(i,t,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=void 0,r={},"undefined"===typeof o){e.next=9;break}t=this.market(o),r.symbol=t.id,e.next=14;break;case 9:if(!this.options.warnOnFetchOpenOrdersWithoutSymbol){e.next=14;break}throw i=this.symbols,n=i.length,a=parseInt(n/2),new O(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+a.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.');case 14:return e.next=16,this.privateGetOpenOrders(this.extend(r,l));case 16:return s=e.sent,e.abrupt("return",this.parseOrders(s,t,u,c));case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,a);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+" cancelOrder requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(n),e.next=7,this.privateDeleteOrder(this.extend({symbol:r.id,orderId:parseInt(t)},a));case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+" fetchMyTrades requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r={symbol:t.id},s&&(r.limit=s),e.next=9,this.privateGetMyTrades(this.extend(r,o));case 9:return i=e.sent,e.abrupt("return",this.parseTrades(i,t,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.wapiGetDepositAddress(this.extend({asset:r.id},s));case 5:if(!("success"in(i=e.sent))){e.next=11;break}if(!i.success){e.next=11;break}return n=this.safeString(i,"address"),a=this.safeString(i,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(n),tag:a,status:"ok",info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchFundingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,s,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:t={},r={},"undefined"===typeof u&&(u=(0,a.default)(this.currencies)),i=0;case 6:if(!(i<u.length)){e.next=17;break}return n=u[i],s=this.currency(n),e.next=11,this.wapiGetWithdrawFee({asset:s.id});case 11:o=e.sent,t[n]=this.safeFloat(o,"withdrawFee"),r[n]=o;case 14:i++,e.next=6;break;case 17:return e.abrupt("return",{withdraw:t,deposit:{},info:r});case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i){var n,a,s,o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),a=i.slice(0,20),s={asset:n.id,address:i,amount:parseFloat(r),name:a},u&&(s.addressTag=u),e.next=9,this.wapiPostWithdraw(this.extend(s,c));case 9:return o=e.sent,e.abrupt("return",{info:o,id:this.safeString(o,"id")});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t];if(o+="/"+e,"wapi"===t&&(o+=".html"),"userDataStream"===e)s=this.urlencode(i),n={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"};else if("private"===t||"wapi"===t){this.checkRequiredCredentials();var u=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},i)),d=this.hmac(this.encode(u),this.encode(this.secret));u+="&signature="+d,n={"X-MBX-APIKEY":this.apiKey},"GET"===r||"wapi"===t?o+="?"+u:(s=u,n["Content-Type"]="application/x-www-form-urlencoded")}else(0,a.default)(i).length&&(o+="?"+this.urlencode(i));return{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(418===e||429===e)throw new E(this.id+" "+e.toString()+" "+t+" "+a);if(e>=400){if(a.indexOf("Price * QTY is zero or less")>=0)throw new I(this.id+" order cost = amount * price is zero or less "+a);if(a.indexOf("LOT_SIZE")>=0)throw new I(this.id+" order amount should be evenly divisible by lot size, use this.amountToLots (symbol, amount) "+a);if(a.indexOf("PRICE_FILTER")>=0)throw new I(this.id+" order price exceeds allowed price precision or invalid, use this.priceToPrecision (symbol, amount) "+a)}if(a.length>0&&"{"===a[0]){var s=JSON.parse(a),o=this.safeValue(s,"success",!0);if(!o&&"msg"in s)try{s=JSON.parse(s.msg)}catch(e){s={}}var u=this.safeString(s,"code");if("undefined"!==typeof u){var d=this.exceptions;if(u in d){if("-2015"===u&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new E(this.id+" temporary banned: "+a);throw new d[u](this.id+" "+a)}throw new O(this.id+": unknown error code: "+a+" "+u)}if(!o)throw new O(this.id+": success value false: "+a)}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,o);case 2:return r=e.sent,"private"!==i&&"wapi"!==i||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){r(1080),e.exports=r(440).Math.log10},function(e,t,r){var i=r(444);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bit2c",name:"Bit2C",countries:"IL",rateLimit:3e3,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS"},"BCH/NIS":{id:"BchNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS"}},fees:{trading:{maker:.005,taker:.005}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetAccountBalanceV2();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=this.account(),s in t&&(d="AVAILABLE_"+s,u.free=t[d],u.total=t[s],u.used=u.total-u.free),r[s]=u;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangesPairOrderbook(this.extend({pair:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangesPairTicker(this.extend({pair:this.marketId(t)},d));case 2:return r=e.sent,i=this.milliseconds(),n=this.safeFloat(r,"av"),s=this.safeFloat(r,"a"),o=s*n,u=this.safeFloat(r,"ll"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(r,"h"),bidVolume:void 0,ask:this.safeFloat(r,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:n,baseVolume:s,quoteVolume:o,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetExchangesPairTrades(this.extend({pair:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="privatePostOrderAddOrder",o={Amount:n,Pair:this.marketId(t)},"market"===r?s+="MarketPrice"+this.capitalize(i):(o.Price=d,o.Total=n*d,o.IsBid="buy"===i),e.next=5,this[s](this.extend(o,c));case 5:return u=e.sent,e.abrupt("return",{info:u,id:u.NewOrder.id});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrderCancelOrder({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.implodeParams(e,i);if("public"===t)s+=".json";else{this.checkRequiredCredentials();var o=this.nonce(),u=this.extend({nonce:o},i);a=this.urlencode(u);var d=this.hmac(this.encode(a),this.encode(this.secret),"sha512","base64");n={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:this.decode(d)}}return{url:s,method:r,body:a,headers:n}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("undefined"!==typeof o){e.next=4;break}throw new C(this.id+" fetchOpenOrders() requires a symbol argument");case 4:return t=this.market(o),e.next=7,this.privateGetOrderMyOrders(this.extend({pair:t.id},c));case 7:return r=e.sent,i=this.safeValue(r,t.id,{}),n=this.safeValue(i,"ask"),s=this.safeValue(i,"bid"),e.abrupt("return",this.parseOrders(this.arrayConcat(n,s),t,u,d));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.created,i=e.price,n=e.amount,a=i*n,s=void 0;"undefined"!==typeof t&&(s=t.symbol);var o=this.safeValue(e,"type");return 0===o?o="buy":1===o&&(o="sell"),{id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:this.safeString(e,"status"),symbol:s,type:void 0,side:o,price:i,amount:n,filled:void 0,remaining:void 0,cost:a,trades:void 0,fee:void 0,info:e}}},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r="privateGetOrderOrderhistory",i={},"undefined"!==typeof u&&(i.take=u),i.take=u,"undefined"!==typeof o&&(i.toTime=this.ymd(this.milliseconds(),"."),i.fromTime=this.ymd(o,".")),"undefined"!==typeof s&&(t=this.market(s),i.pair=t.id),e.next=11,this[r](this.extend(i,d));case 11:return n=e.sent,e.abrupt("return",this.parseTrades(n,t,o,u));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0,n=void 0,a=void 0,s=void 0,o=void 0,u=void 0,d=this.safeString(e,"reference");if("undefined"!==typeof d){r=1e3*this.safeInteger(e,"ticks"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"firstAmount");var c=d.split("|");if("undefined"===typeof t){var l=this.safeString(e,"pair");l in this.markets_by_id[l]?t=this.markets_by_id[l]:c[0]in this.markets_by_id&&(t=this.markets_by_id[c[0]])}s=c[1],i=c[2],u=this.safeInteger(e,"action"),0===u?u="buy":1===u&&(u="sell"),o=this.safeFloat(e,"feeAmount")}else r=1e3*this.safeInteger(e,"date"),i=this.safeInteger(e,"tid"),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");var h=void 0;return"undefined"!==typeof t&&(h=t.symbol),{info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:h,order:s,type:void 0,side:u,takerOrMaker:void 0,price:n,amount:a,cost:n*a,fee:{cost:o,currency:"NIS",rate:void 0}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.InvalidNonce,B=T.InsufficientFunds,S=T.InvalidOrder,M=T.OrderNotFound,I=T.PermissionDenied;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitbank",name:"bitbank",countries:"JP",version:"v1",has:{fetchOHLCV:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.bitbank.cc",private:"https://api.bitbank.cc"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{YYYYMMDD}","{pair}/candlestick/{candle-type}/{YYYYMMDD}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]}},markets:{"BCH/BTC":{id:"bcc_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bcc",quoteId:"btc"},"BCH/JPY":{id:"bcc_jpy",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bcc",quoteId:"jpy"},"MONA/BTC":{id:"mona_btc",symbol:"MONA/BTC",base:"MONA",quote:"BTC",baseId:"mona",quoteId:"btc"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"XRP/JPY":{id:"xrp_jpy",symbol:"XRP/JPY",base:"XRP",quote:"JPY",baseId:"xrp",quoteId:"jpy"},"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{maker:0,taker:0},funding:{withdraw:{BTC:.001,LTC:.001,XRP:.15,ETH:5e-4,MONA:.001,BCC:.001}}},precision:{price:8,amount:8},exceptions:{20001:_,20002:_,20003:_,20005:_,20004:O,40020:S,40021:S,40025:C,40013:M,40014:M,50008:I,50009:M,50010:M,60001:B,60005:S}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=e.timestamp,n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPairTicker(this.extend({pair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},n));case 4:return r=e.sent,i=r.data,e.abrupt("return",this.parseOrderBook(i,i.timestamp));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.executed_at,i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=this.costToPrecision(a,i*n),o=this.safeString(e,"transaction_id");o||(o=this.safeString(e,"trade_id"));var u=void 0;return"fee_amount_quote"in e&&(u={currency:t.quote,cost:this.safeFloat(e,"fee_amount_quote")}),{timestamp:r,datetime:this.iso8601(r),symbol:a,id:o,order:this.safeString(e,"order_id"),type:this.safeString(e,"type"),side:e.side,price:i,amount:n,cost:s,fee:u,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPairTransactions(this.extend({pair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.data.transactions,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[5],parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.milliseconds(),i=this.ymd(i),i=i.split("-"),e.next=8,this.publicGetPairCandlestickCandleTypeYYYYMMDD(this.extend({pair:r.id,"candle-type":this.timeframes[s],YYYYMMDD:i.join("")},c));case 8:return n=e.sent,a=n.data.candlestick[0].ohlcv,e.abrupt("return",this.parseOHLCVs(a,r,s,u,d));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserAssets(c);case 4:for(t=e.sent,r={info:t},i=t.data.assets,n=0;n<i.length;n++)a=i[n],s=a.asset,u=s,s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),d={free:parseFloat(a.free_amount),used:parseFloat(a.locked_amount),total:parseFloat(a.onhand_amount)},r[u]=d;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"pair"),i=void 0;r&&!t&&r in this.marketsById&&(t=this.marketsById[r]),t&&(i=t.symbol);var n=this.safeInteger(e,"ordered_at"),a=this.safeFloat(e,"price"),s=this.safeFloat(e,"start_amount"),o=this.safeFloat(e,"executed_amount"),u=this.safeFloat(e,"remaining_amount"),d=o*this.safeFloat(e,"average_price"),c=this.safeString(e,"status");c="FULLY_FILLED"===c?"closed":"CANCELED_UNFILLED"===c||"CANCELED_PARTIALLY_FILLED"===c?"canceled":"open";var l=this.safeString(e,"type");"undefined"!==typeof l&&(l=l.toLowerCase());var h=this.safeString(e,"side");return"undefined"!==typeof h&&(h=h.toLowerCase()),{id:this.safeString(e,"order_id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:i,type:l,side:h,price:a,cost:d,amount:s,filled:o,remaining:u,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(a=this.market(t),"undefined"!==typeof l){e.next=5;break}throw new S(this.id+" createOrder requires a price argument for both market and limit orders");case 5:return s={pair:a.id,amount:this.amountToString(t,n),price:this.priceToPrecision(t,l),side:i,type:r},e.next=8,this.privatePostUserSpotOrder(this.extend(s,h));case 8:return u=e.sent,d=u.data.order_id,c=this.parseOrder(u.data,a),this.orders[d]=c,e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostUserSpotCancelOrder(this.extend({order_id:t,pair:r.id},a));case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateGetUserSpotOrder(this.extend({order_id:t,pair:r.id},a));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i.data));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={pair:t.id},s&&(r.count=s),a&&(r.since=parseInt(a/1e3)),e.next=8,this.privateGetUserSpotActiveOrders(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i.data.orders,t,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,"undefined"===typeof n){e.next=5;break}return e.next=4,this.loadMarkets();case 4:t=this.market(n);case 5:return r={},"undefined"!==typeof t&&(r.pair=t.id),"undefined"!==typeof s&&(r.count=s),"undefined"!==typeof a&&(r.since=parseInt(a/1e3)),e.next=11,this.privateGetUserSpotTradeHistory(this.extend(r,u));case 11:return i=e.sent,e.abrupt("return",this.parseTrades(i.data.trades,t,a,s));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetUserWithdrawalAccount(this.extend({asset:r.id},u));case 5:return i=e.sent,n=i.data.accounts,a=this.safeString(n[0],"address"),s=a?"ok":"none",e.abrupt("return",{currency:r,address:a,tag:void 0,status:s,info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("uuid"in s){e.next=2;break}throw new C(this.id+" uuid is required for withdrawal");case 2:return e.next=4,this.loadMarkets();case 4:return n=this.currency(t),e.next=7,this.privatePostUserRequestWithdrawal(this.extend({asset:n.id,amount:r},s));case 7:return a=e.sent,e.abrupt("return",{info:a,id:a.data.txid});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.omit(i,this.extractParams(e)),u=this.urls.api[t]+"/";if("public"===t)u+=this.implodeParams(e,i),(0,a.default)(o).length&&(u+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=d;u+=this.version+"/"+this.implodeParams(e,i),"POST"===r?(s=this.json(o),c+=s):(c+="/"+this.version+"/"+e,(0,a.default)(o).length&&(o=this.urlencode(o),u+="?"+o,c+="?"+o)),n={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":d,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:u,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,l,h,f,p,v);case 2:if(r=e.sent,i=this.safeInteger(r,"success"),n=this.safeValue(r,"data"),i&&n){e.next=16;break}if(a={10000:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed "},s=this.exceptions,u=this.safeString(n,"code"),d=this.safeString(a,u,"Error"),"undefined"===typeof(c=this.safeValue(s,u))){e.next=15;break}throw new c(d);case 15:throw new C(this.id+" "+this.json(r));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.InvalidNonce,_=T.InsufficientFunds,O=T.AuthenticationError,B=T.InvalidOrder,S=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://bitbay.net/API/Public",private:"https://bitbay.net/API/Trading/tradingApi.php"},doc:["https://bitbay.net/public-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API"],fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]}},markets:{"BTC/USD":{id:"BTCUSD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"BTC",quoteId:"USD"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN",baseId:"BTC",quoteId:"PLN"},"LTC/USD":{id:"LTCUSD",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"LTC",quoteId:"USD"},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN",baseId:"LTC",quoteId:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"LTC",quoteId:"BTC"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"ETH",quoteId:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"ETH",quoteId:"EUR"},"ETH/PLN":{id:"ETHPLN",symbol:"ETH/PLN",base:"ETH",quote:"PLN",baseId:"ETH",quoteId:"PLN"},"ETH/BTC":{id:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"ETH",quoteId:"BTC"},"LSK/USD":{id:"LSKUSD",symbol:"LSK/USD",base:"LSK",quote:"USD",baseId:"LSK",quoteId:"USD"},"LSK/EUR":{id:"LSKEUR",symbol:"LSK/EUR",base:"LSK",quote:"EUR",baseId:"LSK",quoteId:"EUR"},"LSK/PLN":{id:"LSKPLN",symbol:"LSK/PLN",base:"LSK",quote:"PLN",baseId:"LSK",quoteId:"PLN"},"LSK/BTC":{id:"LSKBTC",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"LSK",quoteId:"BTC"},"BCH/USD":{id:"BCCUSD",symbol:"BCH/USD",base:"BCH",quote:"USD",baseId:"BCC",quoteId:"USD"},"BCH/EUR":{id:"BCCEUR",symbol:"BCH/EUR",base:"BCH",quote:"EUR",baseId:"BCC",quoteId:"EUR"},"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN",baseId:"BCC",quoteId:"PLN"},"BCH/BTC":{id:"BCCBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"BCC",quoteId:"BTC"},"BTG/USD":{id:"BTGUSD",symbol:"BTG/USD",base:"BTG",quote:"USD",baseId:"BTG",quoteId:"USD"},"BTG/EUR":{id:"BTGEUR",symbol:"BTG/EUR",base:"BTG",quote:"EUR",baseId:"BTG",quoteId:"EUR"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN",baseId:"BTG",quoteId:"PLN"},"BTG/BTC":{id:"BTGBTC",symbol:"BTG/BTC",base:"BTG",quote:"BTC",baseId:"BTG",quoteId:"BTC"},"DASH/USD":{id:"DASHUSD",symbol:"DASH/USD",base:"DASH",quote:"USD",baseId:"DASH",quoteId:"USD"},"DASH/EUR":{id:"DASHEUR",symbol:"DASH/EUR",base:"DASH",quote:"EUR",baseId:"DASH",quoteId:"EUR"},"DASH/PLN":{id:"DASHPLN",symbol:"DASH/PLN",base:"DASH",quote:"PLN",baseId:"DASH",quoteId:"PLN"},"DASH/BTC":{id:"DASHBTC",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"DASH",quoteId:"BTC"},"GAME/USD":{id:"GAMEUSD",symbol:"GAME/USD",base:"GAME",quote:"USD",baseId:"GAME",quoteId:"USD"},"GAME/EUR":{id:"GAMEEUR",symbol:"GAME/EUR",base:"GAME",quote:"EUR",baseId:"GAME",quoteId:"EUR"},"GAME/PLN":{id:"GAMEPLN",symbol:"GAME/PLN",base:"GAME",quote:"PLN",baseId:"GAME",quoteId:"PLN"},"GAME/BTC":{id:"GAMEBTC",symbol:"GAME/BTC",base:"GAME",quote:"BTC",baseId:"GAME",quoteId:"BTC"},"XRP/USD":{id:"XRPUSD",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"XRP",quoteId:"USD"},"XRP/EUR":{id:"XRPEUR",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"XRP",quoteId:"EUR"},"XRP/PLN":{id:"XRPPLN",symbol:"XRP/PLN",base:"XRP",quote:"PLN",baseId:"XRP",quoteId:"PLN"},"XRP/BTC":{id:"XRPBTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"XRP",quoteId:"BTC"},"XIN/BTC":{id:"XINBTC",symbol:"XIN/BTC",base:"XIN",quote:"BTC",baseId:"XIN",quoteId:"BTC"}},fees:{trading:{maker:.003,taker:.0043},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},exceptions:{400:S,401:B,402:B,403:B,404:B,405:B,406:_,408:B,501:O,502:O,503:C,504:S,505:O,506:O,509:S,510:S}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostInfo();case 2:if(!("balances"in(t=e.sent))){e.next=9;break}for(r=t.balances,i={info:r},n=(0,o.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=this.currencies[u],c=d.id,l=this.account(),c in r&&(l.free=parseFloat(r[c].available),l.used=parseFloat(r[c].locked),l.total=this.sum(l.free,l.used)),i[u]=l;return e.abrupt("return",this.parseBalance(i));case 9:throw new S(this.id+" empty balance response "+this.json(t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetIdOrderbook(this.extend({id:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetIdTicker(this.extend({id:this.marketId(t)},d));case 2:return r=e.sent,i=this.milliseconds(),n=this.safeFloat(r,"volume"),s=this.safeFloat(r,"vwap"),o=n*s,u=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"max"),low:this.safeFloat(r,"min"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:s,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(r,"average"),baseVolume:n,quoteVolume:o,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetIdTrades(this.extend({id:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new S(this.id+" allows limit orders only");case 2:return s=this.market(t),e.abrupt("return",this.privatePostTrade(this.extend({type:i,currency:s.baseId,amount:n,payment_currency:s.quoteId,rate:o},u)));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"isFiat",value:function(e){return e in{USD:!0,EUR:!0,PLN:!0}}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o,u,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=void 0,s=this.currency(t),o={currency:s.id,quantity:r},this.isFiat(t)?n="privatePostWithdraw":(n="privatePostTransfer","undefined"!==typeof d&&(i+="?dt="+d.toString()),o.address=i),e.next=9,this[n](this.extend(o,c));case 9:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t];if("public"===t){var o=this.omit(i,this.extractParams(e));s+="/"+this.implodeParams(e,i)+".json",s+="?"+this.urlencode(o)}else this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,moment:this.nonce()},i)),n={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(a),this.encode(this.secret),"sha512")};return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("code"in s){var o=s.code,u=this.id+" "+this.json(s),d=this.exceptions;throw o in this.exceptions?new d[o](u):new S(u)}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(439),o=i(s),u=r(19),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(621),_=r(437),O=_.ExchangeError,B=_.NotSupported,S=_.InsufficientFunds;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bitfinex2",name:"Bitfinex v2",countries:"VG",version:"v2",has:{CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchDepositAddress:!1,fetchClosedOrders:!1,fetchFundingFees:!1,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:"https://api.bitfinex.com",www:"https://www.bitfinex.com",doc:["https://bitfinex.readme.io/v2/docs","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}/{side}/{section}","stats1/{key}:{size}:{symbol}/long/last","stats1/{key}:{size}:{symbol}/long/hist","stats1/{key}:{size}:{symbol}/short/last","stats1/{key}:{size}:{symbol}/short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"],post:["calc/trade/avg"]},private:{post:["auth/r/wallets","auth/r/orders/{symbol}","auth/r/orders/{symbol}/new","auth/r/orders/{symbol}/hist","auth/r/order/{symbol}:{id}/trades","auth/r/trades/{symbol}/hist","auth/r/positions","auth/r/funding/offers/{symbol}","auth/r/funding/offers/{symbol}/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/info/margin/{key}","auth/r/info/funding/{key}","auth/r/movements/{currency}/hist","auth/r/stats/perf:{timeframe}/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/r/ledgers/{symbol}/hist"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:5e-4,BCH:5e-4,ETH:.01,EOS:.1,LTC:.001,OMG:.1,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:.04,QTM:.01,EDO:.5,DAT:1,AVT:.5,SAN:.1,USDT:5,SPK:9.2784,BAT:9.0883,GNT:8.2881,SNT:14.303,QASH:3.2428,YYW:18.055}}}})}},{key:"isFiat",value:function(e){return e in{USD:"USD",EUR:"EUR"}}},{key:"getCurrencyId",value:function(e){return"f"+e}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u,c,l,h,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.v1GetSymbolsDetails();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.pair.toUpperCase(),s=a.slice(0,3),o=a.slice(3,6),u=this.commonCurrencyCode(s),c=this.commonCurrencyCode(o),l=u+"/"+c,a="t"+a,s=this.getCurrencyId(s),o=this.getCurrencyId(o),h={price:n.price_precision,amount:n.price_precision},f={amount:{min:this.safeFloat(n,"minimum_order_size"),max:this.safeFloat(n,"maximum_order_size")},price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)}},f.cost={min:f.amount.min*f.price.min,max:void 0},r.push({id:a,symbol:l,base:u,quote:c,baseId:s,quoteId:o,active:!0,precision:h,limits:f,lot:Math.pow(10,-h.amount),info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostAuthRWallets();case 4:for(t=e.sent,r=this.safeString(f,"type","exchange"),i={info:t},n=0;n<t.length;n++)a=t[n],s=a[0],o=a[1],u=a[2],c=a[4],s===r&&(l=o,o in this.currencies_by_id?l=this.currencies_by_id[o].code:"t"===o[0]&&(o=o.slice(1),l=o.toUpperCase(),l=this.commonCurrencyCode(l)),h=this.account(),h.total=u,c?(h.free=c,h.used=h.total-h.free):0===c?(h.free=0,h.used=u):h.free=void 0,i[l]=h);return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s,o,u,c,l=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetBookSymbolPrecision(this.extend({symbol:this.marketId(t),precision:"R0"},l));case 4:for(r=e.sent,i=this.milliseconds(),n={bids:[],asks:[],timestamp:i,datetime:this.iso8601(i),nonce:void 0},a=0;a<r.length;a++)s=r[a],o=s[1],u=s[2],c=u>0?"bids":"asks",u=Math.abs(u),n[c].push([o,u]);return n.bids=this.sortBy(n.bids,0,!0),n.asks=this.sortBy(n.asks,0),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=e.length,a=e[n-4];return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:e[n-2],low:e[n-1],bid:e[n-10],bidVolume:void 0,ask:e[n-8],askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:e[n-6],percentage:e[n-5],average:void 0,baseVolume:e[n-3],quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(this.extend({symbols:this.ids.join(",")},u));case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n[0],s=this.markets_by_id[a],o=s.symbol,r[o]=this.parseTicker(n,s);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.markets[t],e.next=5,this.publicGetTickerSymbol(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=(0,o.default)(e,4),i=r[0],n=r[1],a=r[2],s=r[3],u=a<0?"sell":"buy";return a<0&&(a=-a),{id:i.toString(),info:e,timestamp:n,datetime:this.iso8601(n),symbol:t.symbol,type:void 0,side:u,price:s,amount:a}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,sort:"-1",limit:o},"undefined"!==typeof s&&(i.start=s),e.next=7,this.publicGetTradesSymbolHist(this.extend(i,u));case 7:return n=e.sent,a=this.sortBy(n,1),e.abrupt("return",this.parseTrades(a,r,void 0,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),"undefined"===typeof s&&(s=this.milliseconds()-this.parseTimeframe(a)*o*1e3),i={symbol:r.id,timeframe:this.timeframes[a],sort:1,limit:o,start:s},e.next=7,this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,o));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n){arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new B(this.id+" createOrder not implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];throw new B(this.id+" cancelOrder not implemented yet")}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new B(this.id+" fetchOrder not implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new B(this.id+" fetchDepositAddress() not implemented yet.");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new B(this.id+" withdraw not implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={symbol:t.id,limit:s,end:this.seconds()},"undefined"!==typeof a&&(r.start=parseInt(a/1e3)),e.next=7,this.privatePostAuthRTradesSymbolHist(this.extend(r,o));case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));o="v1"===t?t+o:this.version+o;var d=this.urls.api+"/"+o;if("public"===t&&(0,a.default)(u).length&&(d+="?"+this.urlencode(u)),"private"===t){this.checkRequiredCredentials();var c=this.nonce().toString();s=this.json(u);var l="/api/"+o+c+s,h=this.hmac(this.encode(l),this.encode(this.secret),"sha384");n={"bfx-nonce":c,"bfx-apikey":this.apiKey,"bfx-signature":h,"Content-Type":"application/json"}}return{url:d,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,o);case 2:if(!(r=e.sent)){e.next=11;break}if(!("message"in r)){e.next=8;break}if(!(r.message.indexOf("not enough exchange balance")>=0)){e.next=7;break}throw new S(this.id+" "+this.json(r));case 7:throw new O(this.id+" "+this.json(r));case 8:return e.abrupt("return",r);case 11:if(""!==r){e.next=13;break}throw new O(this.id+" returned empty response");case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.OrderNotFound;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitflyer",name:"bitFlyer",countries:"JP",version:"v1",rateLimit:1e3,has:{CORS:!1,withdraw:!0,fetchMyTrades:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:"emulated",fetchClosedOrders:"emulated"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.bitflyer.jp",www:"https://bitflyer.jp",doc:"https://bitflyer.jp/API"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getcollateral","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.0025,taker:.0025}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v,m,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetmarkets();case 2:return t=e.sent,e.next=5,this.publicGetGetmarketsUsa();case 5:return r=e.sent,e.next=8,this.publicGetGetmarketsEu();case 8:for(i=e.sent,n=this.arrayConcat(t,r),n=this.arrayConcat(n,i),a=[],s=0;s<n.length;s++)u=n[s],d=u.product_code,c=!0,l=!1,h="spot","alias"in u&&(h="future",l=!0,c=!1),f=d.split("_"),p=void 0,v=void 0,m=d,y=f.length,1===y?(p=m.slice(0,3),v=m.slice(3,6)):2===y?(p=f[0],v=f[1],m=p+"/"+v):(p=f[1],v=f[2]),a.push({id:d,symbol:m,base:p,quote:v,type:h,spot:c,future:l,info:u});return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetGetbalance();case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],s=n.currency_code,r[s]=n;for(u={info:t},d=(0,a.default)(this.currencies),c=0;c<d.length;c++)l=d[c],h=this.account(),l in r&&(h.total=r[l].amount,h.free=r[l].available,h.used=h.total-h.free),u[l]=h;return e.abrupt("return",this.parseBalance(u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetboard(this.extend({product_code:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"bids","asks","price","size"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetticker(this.extend({product_code:this.marketId(t)},a));case 4:return r=e.sent,i=this.parse8601(r.timestamp),n=this.safeFloat(r,"ltp"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(r,"best_bid"),bidVolume:void 0,ask:this.safeFloat(r,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,"volume_by_product"),quoteVolume:void 0,info:r});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0;if("side"in e&&e.side){r=e.side.toLowerCase();var n=r+"_child_order_acceptance_id";n in e&&(i=e[n])}"undefined"===typeof i&&(i=this.safeString(e,"child_order_acceptance_id"));var a=this.parse8601(e.exec_date);return{id:e.id.toString(),info:e,timestamp:a,datetime:this.iso8601(a),symbol:t.symbol,order:i,type:void 0,side:r,price:e.price,amount:e.size}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetexecutions(this.extend({product_code:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={product_code:this.marketId(t),child_order_type:r.toUpperCase(),side:i.toUpperCase(),price:u,size:n},e.next=5,this.privatePostSendchildorder(this.extend(a,d));case 5:return s=e.sent,e.abrupt("return",{info:s,id:s.child_order_acceptance_id});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof r){e.next=2;break}throw new C(this.id+" cancelOrder() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostCancelchildorder(this.extend({product_code:this.marketId(r),child_order_acceptance_id:t},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"};return e in t?t[e]:e.toLowerCase()}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.child_order_date),i=this.safeFloat(e,"size"),n=this.safeFloat(e,"outstanding_size"),a=this.safeFloat(e,"executed_size"),s=this.safeFloat(e,"price"),o=s*a,u=this.parseOrderStatus(e.child_order_state),d=e.child_order_type.toLowerCase(),c=e.side.toLowerCase(),l=void 0;if("undefined"===typeof t){var h=this.safeString(e,"product_code");"undefined"!==typeof h&&h in this.markets_by_id&&(t=this.markets_by_id[h])}"undefined"!==typeof t&&(l=t.symbol);var f=void 0,p=this.safeFloat(e,"total_commission");return"undefined"!==typeof p&&(f={cost:p,currency:void 0,rate:void 0}),{id:e.child_order_acceptance_id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:u,symbol:l,type:d,side:c,price:s,cost:o,amount:i,filled:a,remaining:n,fee:f}}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof a){e.next=2;break}throw new C(this.id+" fetchOrders() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(a),r={product_code:t.id,count:u},e.next=8,this.privateGetGetchildorders(this.extend(r,d));case 8:return i=e.sent,n=this.parseOrders(i,t,s,u),a&&(n=this.filterBy(n,"symbol",a)),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.child_order_state="ACTIVE",e.abrupt("return",this.fetchOrders(t,r,i,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.child_order_state="COMPLETED",e.abrupt("return",this.fetchOrders(t,r,i,n));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" fetchOrder() requires a symbol argument");case 2:return e.next=4,this.fetchOrders(n);case 4:if(r=e.sent,i=this.indexBy(r,"id"),!(t in i)){e.next=8;break}return e.abrupt("return",i[t]);case 8:throw new _(this.id+" No order found with id "+t);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" fetchMyTrades requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r={product_code:t.id},s&&(r.count=s),e.next=9,this.privateGetGetexecutions(this.extend(r,u));case 9:return i=e.sent,e.abrupt("return",this.parseTrades(i,t,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if("JPY"===t||"USD"===t||"EUR"===t){e.next=5;break}throw new C(this.id+" allows withdrawing JPY, USD, EUR only, "+t+" is not supported");case 5:return n=this.currency(t),e.next=8,this.privatePostWithdraw(this.extend({currency_code:n.id,amount:r},s));case 8:return a=e.sent,e.abrupt("return",{info:a,id:a.message_id});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.version+"/";"private"===t&&(o+="me/"),o+=e,"GET"===r&&(0,a.default)(i).length&&(o+="?"+this.urlencode(i));var u=this.urls.api+o;if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),c=[d,r,o].join("");(0,a.default)(i).length&&"GET"!==r&&(s=this.json(i),c+=s),n={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":d,"ACCESS-SIGN":this.hmac(this.encode(c),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:u,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(19),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bithumb",name:"Bithumb",countries:"KR",rateLimit:500,has:{CORS:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.bithumb.com/public",private:"https://api.bithumb.com"},www:"https://www.bithumb.com",doc:"https://www.bithumb.com/u1/US127"},api:{public:{get:["ticker/{currency}","ticker/all","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","trade/place","info/order_detail","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0015,taker:.0015}},exceptions:{5100:O}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerAll();case 2:for(t=e.sent,r=(0,d.default)(t.data),i=[],n=0;n<r.length;n++)"date"!==(a=r[n])&&(s=t.data[a],u=a,c="KRW",l=a+"/"+c,i.push({id:a,symbol:l,base:u,quote:c,info:s,lot:void 0,active:!0,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}));return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostInfoBalance(this.extend({currency:"ALL"},l));case 4:for(t=e.sent,r={info:t},i=t.data,n=(0,d.default)(this.currencies),a=0;a<n.length;a++)s=n[a],u=this.account(),c=s.toLowerCase(),u.total=this.safeFloat(i,"total_"+c),u.used=this.safeFloat(i,"in_use_"+c),u.free=this.safeFloat(i,"available_"+c),r[s]=u;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={currency:r.base},"undefined"!==typeof u&&(i.count=u),e.next=7,this.publicGetOrderbookCurrency(this.extend(i,d));case 7:return n=e.sent,a=n.data,s=parseInt(a.timestamp),e.abrupt("return",this.parseOrderBook(a,s,"bids","asks","price","quantity"));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=parseInt(e.date),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"opening_price"),a=this.safeFloat(e,"closing_price"),s=a-n,o=this.safeFloat(e,"average_price"),u=this.safeFloat(e,"volume_1day");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:o,open:n,close:a,last:a,previousClose:void 0,change:s,percentage:s/n*100,average:this.sum(n,a)/2,baseVolume:u,quoteVolume:u*o,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickerAll(f);case 4:for(t=e.sent,r={},i=t.data.date,n=this.omit(t.data,"date"),a=(0,d.default)(n),s=0;s<a.length;s++)u=a[s],c=u,l=void 0,u in this.markets_by_id&&(l=this.markets_by_id[u],c=l.symbol),h=n[u],h.date=i,r[c]=this.parseTicker(h,l);return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerCurrency(this.extend({currency:r.base},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=e.transaction_date.split(" "),i=(0,a.default)(r,2),n=i[0],s=i[1];s.length<8&&(s="0"+s);var o=this.parse8601(n+" "+s);o-=324e5;var u="ask"===e.type?"sell":"buy";return{id:void 0,info:e,timestamp:o,datetime:this.iso8601(o),symbol:t.symbol,order:void 0,type:void 0,side:u,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"units_traded")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTransactionHistoryCurrency(this.extend({currency:r.base,count:100},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.data,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s=void 0,u="privatePostTrade","limit"===r?(s={order_currency:a.id,Payment_currency:a.quote,units:n,price:l,type:"buy"===i?"bid":"ask"},u+="Place"):"market"===r&&(s={currency:a.id,units:n},u+="Market"+this.capitalize(i)),e.next=8,this[u](this.extend(s,h));case 8:return d=e.sent,c=void 0,"order_id"in d&&d.order_id&&(c=d.order_id.toString()),e.abrupt("return",{info:d,id:c});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="side"in a){e.next=3;break}throw new O(this.id+" cancelOrder requires a side parameter (sell or buy) and a currency parameter");case 3:if(i="currency"in a){e.next=6;break}throw new O(this.id+" cancelOrder requires a currency parameter");case 6:return n="buy"===a.side?"bid":"ask",e.next=9,this.privatePostTradeCancel({order_id:t,type:n,currency:a.currency});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkAddress(i),n={units:r,address:i,currency:t},"XRP"!==t&&"XMR"!==t){e.next=6;break}if(a="destination"in u){e.next=6;break}throw new O(this.id+" "+t+" withdraw requires an extra destination param");case 6:return e.next=8,this.privatePostTradeBtcWithdrawal(this.extend(n,u));case 8:return s=e.sent,e.abrupt("return",{info:s,id:void 0});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s="/"+this.implodeParams(e,i),o=this.urls.api[t]+s,u=this.omit(i,this.extractParams(e));if("public"===t)(0,d.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),a=this.urlencode(this.extend({endpoint:s},u));var c=this.nonce().toString(),l=s+"\0"+a+"\0"+c,h=this.hmac(this.encode(l),this.encode(this.secret),"sha512"),f=this.decode(this.stringToBase64(this.encode(h)));n={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":f.toString(),"Api-Nonce":c}}return{url:o,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("status"in s){var o=this.safeString(s,"status");if("undefined"!==typeof o){if("0000"===o)return;var u=this.id+" "+this.json(s),d=this.exceptions;throw o in d?new d[o](u):new O(u)}}}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("status"in(r=e.sent))){e.next=7;break}if("0000"!==r.status){e.next=6;break}return e.abrupt("return",r);case 6:throw new O(this.id+" "+this.json(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(622);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"bitkk",name:"bitkk",comment:"a Chinese ZB clone",urls:{api:{public:"http://api.bitkk.com/data",private:"https://trade.bitkk.com/api"},www:"https://www.bitkk.com",doc:"https://www.bitkk.com/i/developer",fees:"https://www.bitkk.com/i/rate"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.NotSupported;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bitlish",name:"Bitlish",countries:["GB","EU","RU"],rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1h":3600},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766275-dcfc6c30-5ed3-11e7-839d-00a846385d0b.jpg",api:"https://bitlish.com/api",www:"https://bitlish.com",doc:"https://bitlish.com/api"},requiredCredentials:{apiKey:!0,secret:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:.003,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.001,DOGE:.001,ETH:.001,XMR:0,ZEC:.001,DASH:1e-4,EUR:50},deposit:{BTC:0,LTC:0,DOGE:0,ETH:0,XMR:0,ZEC:0,DASH:0,EUR:0}}},api:{public:{get:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"],post:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"]},private:{post:["accounts_operations","balance","cancel_trade","cancel_trades_by_ids","cancel_all_trades","create_bcode","create_template_wallet","create_trade","deposit","list_accounts_operations_from_ts","list_active_trades","list_bcodes","list_my_matches_from_ts","list_my_trades","list_my_trads_from_ts","list_payment_methods","list_payments","redeem_code","resign","signin","signout","trade_details","trade_options","withdraw","withdraw_by_id"]}},commonCurrencies:{DSH:"DASH",XDG:"DOGE"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairs();case 2:for(t=e.sent,r=[],i=(0,d.default)(t),n=0;n<i.length;n++)s=t[i[n]],u=s.id,c=s.name,l=c.split("/"),h=(0,o.default)(l,2),f=h[0],p=h[1],f=this.commonCurrencyCode(f),p=this.commonCurrencyCode(p),c=f+"/"+p,r.push({id:u,symbol:c,base:f,quote:p,info:s});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e,t){var r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),symbol:i,high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:n,last:n,previousClose:void 0,change:void 0,percentage:100*this.safeFloat(e,"prc"),average:void 0,baseVolume:this.safeFloat(e,"sum"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(l);case 4:for(t=e.sent,r=(0,d.default)(t),i={},n=0;n<r.length;n++)s=r[n],o=this.markets_by_id[s],u=o.symbol,c=t[s],i[u]=this.parseTicker(c,o);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickers(s);case 5:return i=e.sent,n=i[r.id],e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.seconds(),i=r-2592e3,"undefined"!==typeof s&&(i=parseInt(s/1e3)),n=[i.toString(),void 0],e.next=8,this.publicPostOhlcv(this.extend({time_range:n},o));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTradesDepth(this.extend({pair_id:this.marketId(t)},s));case 4:return r=e.sent,i=void 0,n=this.safeInteger(r,"last"),n&&(i=parseInt(n/1e3)),e.abrupt("return",this.parseOrderBook(r,i,"bid","ask","price","volume"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.dir?"buy":"sell",i=void 0;t&&(i=t.symbol);var n=parseInt(e.created/1e3);return{id:void 0,info:e,timestamp:n,datetime:this.iso8601(n),symbol:i,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradesHistory(this.extend({pair_id:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.list,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:for(t=e.sent,r={info:t},i=(0,d.default)(t),n={},s=0;s<i.length;s++)o=i[s],u=t[o],o=o.toUpperCase(),"DSH"===o&&(o="DASH"),"XDG"===o&&(o="DOGE"),n[o]=u;for(i=(0,d.default)(this.currencies),c=0;c<i.length;c++)l=i[c],h=this.account(),l in n&&(h.free=parseFloat(n[l].funds),h.used=parseFloat(n[l].holded),h.total=this.sum(h.free,h.used)),r[l]=h;return e.abrupt("return",this.parseBalance(r));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"signIn",value:function(){return this.privatePostSignin({login:this.login,passwd:this.password})}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s={pair_id:this.marketId(t),dir:"buy"===i?"bid":"ask",amount:n},"limit"===r&&(s.price=u),e.next=6,this.privatePostCreateTrade(this.extend(s,d));case 6:return o=e.sent,e.abrupt("return",{info:o,id:o.id});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelTrade({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i){var n,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if("BTC"===t){e.next=5;break}throw new O(this.id+" currently supports BTC withdrawals only, until they document other currencies...");case 5:return e.next=7,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),amount:parseFloat(r),account:i,payment_method:"bitcoin"},s));case 7:return n=e.sent,e.abrupt("return",{info:n,id:n.message_id});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+e;return"public"===t?"GET"===r?(0,d.default)(i).length&&(s+="?"+this.urlencode(i)):(a=this.json(i),n={"Content-Type":"application/json"}):(this.checkRequiredCredentials(),a=this.json(this.extend({token:this.apiKey},i)),n={"Content-Type":"application/json"}),{url:s,method:r,body:a,headers:n}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitmarket",name:"BitMarket",countries:["PL","EU"],rateLimit:1500,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0},timeframes:{"90m":"90m","6h":"6h","1d":"1d","1w":"7d","1M":"1m","3M":"3m","6M":"6m","1y":"1y"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27767256-a8555200-5ef9-11e7-96fd-469a65e2b0bd.jpg",api:{public:"https://www.bitmarket.net",private:"https://www.bitmarket.pl/api2/"},www:["https://www.bitmarket.pl","https://www.bitmarket.net"],doc:["https://www.bitmarket.net/docs.php?file=api_public.html","https://www.bitmarket.net/docs.php?file=api_private.html","https://github.com/bitmarket-net/api"]},api:{public:{get:["json/{market}/ticker","json/{market}/orderbook","json/{market}/trades","json/ctransfer","graphs/{market}/90m","graphs/{market}/6h","graphs/{market}/1d","graphs/{market}/7d","graphs/{market}/1m","graphs/{market}/3m","graphs/{market}/6m","graphs/{market}/1y"]},private:{post:["info","trade","cancel","orders","trades","history","withdrawals","tradingdesk","tradingdeskStatus","tradingdeskConfirm","cryptotradingdesk","cryptotradingdeskStatus","cryptotradingdeskConfirm","withdraw","withdrawFiat","withdrawPLNPP","withdrawFiatFast","deposit","transfer","transfers","marginList","marginOpen","marginClose","marginCancel","marginModify","marginBalanceAdd","marginBalanceRemove","swapList","swapOpen","swapClose"]}},markets:{"BCH/PLN":{id:"BCCPLN",symbol:"BCH/PLN",base:"BCH",quote:"PLN"},"BTG/PLN":{id:"BTGPLN",symbol:"BTG/PLN",base:"BTG",quote:"PLN"},"BTC/PLN":{id:"BTCPLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"LTC/PLN":{id:"LTCPLN",symbol:"LTC/PLN",base:"LTC",quote:"PLN"},"LTC/BTC":{id:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LiteMineX/BTC":{id:"LiteMineXBTC",symbol:"LiteMineX/BTC",base:"LiteMineX",quote:"BTC"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.45/100,maker:.0015,tiers:{taker:[[0,.45/100],[99.99,.0044],[299.99,.0043],[499.99,.0042],[999.99,.41/100],[1999.99,.004],[2999.99,.39/100],[4999.99,.0038],[9999.99,.0037],[19999.99,.0036],[29999.99,.35/100],[49999.99,.34/100],[99999.99,.0033],[199999.99,.0032],[299999.99,.0031],[499999.99,0]],maker:[[0,.0015],[99.99,.14/100],[299.99,.0013],[499.99,.0012],[999.99,.0011],[1999.99,.001],[2999.99,.9/100],[4999.99,.008],[9999.99,.7/100],[19999.99,.006],[29999.99,.005],[49999.99,.004],[99999.99,.003],[199999.99,.002],[299999.99,.001],[499999.99,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:8e-4,LTC:.005,BCH:8e-4,BTG:8e-4,DOGE:1,EUR:2,PLN:2},deposit:{BTC:0,LTC:0,BCH:0,BTG:0,DOGE:25,EUR:2,PLN:0}}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostInfo();case 4:for(t=e.sent,r=t.data,i=r.balances,n={info:r},s=(0,o.default)(this.currencies),u=0;u<s.length;u++)d=s[u],c=this.account(),d in i.available&&(c.free=i.available[d]),d in i.blocked&&(c.used=i.blocked[d]),c.total=this.sum(c.free,c.used),n[d]=c;return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetJsonMarketOrderbook(this.extend({market:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetJsonMarketTicker(this.extend({market:this.marketId(t)},d));case 2:return r=e.sent,i=this.milliseconds(),n=this.safeFloat(r,"vwap"),s=this.safeFloat(r,"volume"),o=s*n,u=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:o,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.type?"buy":"sell",i=1e3*e.date;return{id:e.tid.toString(),info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,order:void 0,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetJsonMarketTrades(this.extend({market:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.time,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.vol)]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"90m",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r="publicGetGraphsMarket"+this.timeframes[s],i=this.market(t),e.next=6,this[r](this.extend({market:i.id},d));case 6:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,i,s,o,u));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostTrade(this.extend({market:this.marketId(t),type:i,amount:n,rate:u},d));case 2:return s=e.sent,o={info:s},"id"in s.order&&(o.id=s.id),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o,u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if(n=void 0,s={currency:t,quantity:r},!this.isFiat(t)){e.next=26;break}if(n="privatePostWithdrawFiat",!("account"in u)){e.next=11;break}s.account=u.account,e.next=12;break;case 11:throw new C(this.id+" requires account parameter to withdraw fiat currency");case 12:if(!("account2"in u)){e.next=16;break}s.account2=u.account2,e.next=18;break;case 16:if("EUR"!==t){e.next=18;break}throw new C(this.id+" requires account2 parameter to withdraw EUR");case 18:if(!("withdrawal_note"in u)){e.next=22;break}s.withdrawal_note=u.withdrawal_note,e.next=24;break;case 22:if("PLN"!==t){e.next=24;break}throw new C(this.id+" requires withdrawal_note parameter to withdraw PLN");case 24:e.next=28;break;case 26:n="privatePostWithdraw",s.address=i;case 28:return e.next=30,this[n](this.extend(s,u));case 30:return o=e.sent,e.abrupt("return",{info:o,id:o});case 32:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t];if("public"===t)s+="/"+this.implodeParams(e+".json",i);else{this.checkRequiredCredentials();var o=this.nonce(),u=this.extend({tonce:o,method:e},i);a=this.urlencode(u),n={"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.DDoSProtection,O=T.OrderNotFound,B=T.AuthenticationError,S=T.PermissionDenied;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitmex",name:"BitMEX",countries:"SC",version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:"https://testnet.bitmex.com",logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:"https://www.bitmex.com",www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{"Invalid API Key.":B,"Access Denied":S},options:{fetchTickerQuotes:!0}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v,m;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInstrumentActiveAndIndices();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a="Unlisted"!==n.state,s=n.symbol,u=n.underlying,d=n.quoteCurrency,c=void 0,l=!1,h=!1,f=u+d,u=this.commonCurrencyCode(u),d=this.commonCurrencyCode(d),p=s===f,v=s,p?(c="swap",v=u+"/"+d):s.indexOf("B_")>=0?(h=!0,c="prediction"):(l=!0,c="future"),m={amount:void 0,price:void 0},n.lotSize&&(m.amount=this.precisionFromString(this.truncate_to_string(n.lotSize,16))),n.tickSize&&(m.price=this.precisionFromString(this.truncate_to_string(n.tickSize,16))),r.push({id:s,symbol:v,base:u,quote:d,active:a,precision:m,limits:{amount:{min:n.lotSize,max:n.maxOrderQty},price:{min:n.tickSize,max:n.maxPrice}},taker:n.takerFee,maker:n.makerFee,type:c,spot:!1,swap:p,future:l,prediction:h,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserMargin({currency:"all"});case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency.toUpperCase(),a=this.commonCurrencyCode(a),s={free:n.availableMargin,used:0,total:n.marginBalance},"BTC"===a&&(s.free=1e-8*s.free,s.total=1e-8*s.total),s.used=s.total-s.free,r[a]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof h&&(i.depth=h),e.next=7,this.publicGetOrderBookL2(this.extend(i,f));case 7:for(n=e.sent,a={bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0},s=0;s<n.length;s++)u=n[s],d="Sell"===u.side?"asks":"bids",c=u.size,l=u.price,a[d].push([l,c]);return a.bids=this.sortBy(a.bids,0,!0),a.asks=this.sortBy(a.asks,0),e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={filter:{orderID:t}},e.next=3,this.fetchOrders(a,void 0,void 0,this.deepExtend(r,s));case 3:if(i=e.sent,1!==(n=i.length)){e.next=7;break}return e.abrupt("return",i[0]);case 7:throw new O(this.id+": The order "+t+" not found.");case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},"undefined"!==typeof n&&(t=this.market(n),r.symbol=t.id),"undefined"!==typeof a&&(r.startTime=this.iso8601(a)),"undefined"!==typeof s&&(r.count=s),r=this.deepExtend(r,u),"filter"in r&&(r.filter=this.json(r.filter)),e.next=11,this.privateGetOrder(r);case 11:return i=e.sent,e.abrupt("return",this.parseOrders(i,t,a,s));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={filter:{open:!0}},e.next=3,this.fetchOrders(r,i,n,this.deepExtend(t,a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,a);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l,h,f,p,v,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(r=this.market(t),r.active){e.next=5;break}throw new C(this.id+": symbol "+t+" is delisted");case 5:if(i=this.extend({symbol:r.id,binSize:"1d",partial:!0,count:1,reverse:!0},m),n=void 0,a=void 0,!this.options.fetchTickerQuotes){e.next=16;break}return e.next=11,this.publicGetQuoteBucketed(i);case 11:s=e.sent,u=s.length,d=s[u-1],n=this.safeFloat(d,"bidPrice"),a=this.safeFloat(d,"askPrice");case 16:return e.next=18,this.publicGetTradeBucketed(i);case 18:return c=e.sent,l=c[0],h=this.milliseconds(),f=this.safeFloat(l,"open"),p=this.safeFloat(l,"close"),v=p-f,e.abrupt("return",{symbol:t,timestamp:h,datetime:this.iso8601(h),high:this.safeFloat(l,"high"),low:this.safeFloat(l,"low"),bid:n,bidVolume:void 0,ask:a,askVolume:void 0,vwap:this.safeFloat(l,"vwap"),open:f,close:p,last:p,previousClose:void 0,change:v,percentage:v/f*100,average:this.sum(f,p)/2,baseVolume:this.safeFloat(l,"homeNotional"),quoteVolume:this.safeFloat(l,"foreignNotional"),info:l});case 25:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m");arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp)-1e3*this.parseTimeframe(t),e.open,e.high,e.low,e.close,e.volume]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,binSize:this.timeframes[u],partial:!0},"undefined"!==typeof c&&(i.count=c),"undefined"!==typeof d&&(n=this.ymdhms(d),a=n.slice(0,16),i.startTime=a),e.next=8,this.publicGetTradeBucketed(this.extend(i,l));case 8:return s=e.sent,e.abrupt("return",this.parseOHLCVs(s,r,u,d,c));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),i=void 0;return t||"symbol"in e&&(t=this.markets_by_id[e.symbol]),t&&(i=t.symbol),{id:e.trdMatchID,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseOrderStatus",value:function(e){var t={new:"open",partiallyfilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"};return this.safeString(t,e.toLowerCase())}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"ordStatus");"undefined"!==typeof r&&(r=this.parseOrderStatus(r));var i=void 0;if(t)i=t.symbol;else{var n=e.symbol;n in this.markets_by_id&&(t=this.markets_by_id[n],i=t.symbol)}var a=void 0,s=void 0,o=void 0;"timestamp"in e?a=e.timestamp:"transactTime"in e&&(a=e.transactTime),"undefined"!==typeof a&&(s=this.parse8601(a),o=this.iso8601(s));var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"orderQty"),c=this.safeFloat(e,"cumQty",0),l=Math.max(d-c,0),h=void 0;return"undefined"!==typeof u&&"undefined"!==typeof c&&(h=u*c),{info:e,id:e.orderID.toString(),timestamp:s,datetime:o,lastTradeTimestamp:void 0,symbol:i,type:e.ordType.toLowerCase(),side:e.side.toLowerCase(),price:u,amount:d,cost:h,filled:c,remaining:l,status:r,fee:void 0}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof a&&(i.startTime=this.iso8601(a)),"undefined"!==typeof s&&(i.count=s),e.next=8,this.publicGetTrade(this.extend(i,u));case 8:return n=e.sent,e.abrupt("return",this.parseTrades(n,r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={symbol:this.marketId(t),side:this.capitalize(i),orderQty:n,ordType:this.capitalize(r)},"undefined"!==typeof c&&(a.price=c),e.next=6,this.privatePostOrder(this.extend(a,l));case 6:return s=e.sent,u=this.parseOrder(s),d=u.id,this.orders[d]=u,e.abrupt("return",this.extend({info:s},u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"editOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={orderID:t},"undefined"!==typeof d&&(a.orderQty=d),"undefined"!==typeof c&&(a.price=c),e.next=7,this.privatePutOrder(this.extend(a,l));case 7:return s=e.sent,u=this.parseOrder(s),this.orders[u.id]=u,e.abrupt("return",this.extend({info:s},u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteOrder(this.extend({orderID:t},a));case 4:if(r=e.sent,i=r[0],"undefined"===typeof(n=this.safeString(i,"error"))){e.next=10;break}if(!(n.indexOf("Unable to cancel order due to existing state")>=0)){e.next=10;break}throw new O(this.id+" cancelOrder() failed: "+n);case 10:return i=this.parseOrder(i),this.orders[i.id]=i,e.abrupt("return",this.extend({info:r},i));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"isFiat",value:function(e){return"EUR"===e||"PLN"===e}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if("BTC"===t){e.next=5;break}throw new C(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");case 5:return n={currency:"XBt",amount:r,address:i},e.next=8,this.privatePostUserRequestWithdrawal(this.extend(n,s));case 8:return a=e.sent,e.abrupt("return",{info:a,id:a.transactID});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleErrors",value:function(e,t,r,i,n,a){if(429===e)throw new _(this.id+" "+a);if(e>=400&&a&&"{"===a[0]){var s=JSON.parse(a);if("error"in s&&"message"in s.error){var o=this.id+" "+this.json(s),u=this.safeValue(s.error,"message"),d=this.exceptions;if("undefined"!==typeof u&&u in d)throw new d[u](o);throw new C(o)}}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/api/"+this.version+"/"+e;"PUT"!==r&&(0,a.default)(i).length&&(o+="?"+this.urlencode(i));var u=this.urls.api+o;if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),c=r+o+d;"POST"!==r&&"PUT"!==r||(0,a.default)(i).length&&(s=this.json(i),c+=s),n={"Content-Type":"application/json","api-nonce":d,"api-key":this.apiKey,"api-signature":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:u,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.InvalidNonce,S=_.AuthenticationError,M=_.OrderNotFound;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bitso",name:"Bitso",countries:"MX",rateLimit:2e3,version:"v3",has:{CORS:!0,fetchMyTrades:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766335-715ce7aa-5ed5-11e7-88a8-173a27bb30fe.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees?l=es"},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":S,104:B}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAvailableBooks();case 2:for(t=e.sent,r=[],i=0;i<t.payload.length;i++)n=t.payload[i],a=n.book,s=a.toUpperCase().replace("_","/"),u=s.split("/"),c=(0,d.default)(u,2),l=c[0],h=c[1],f={amount:{min:this.safeFloat(n,"minimum_amount"),max:this.safeFloat(n,"maximum_amount")},price:{min:this.safeFloat(n,"minimum_price"),max:this.safeFloat(n,"maximum_price")},cost:{min:this.safeFloat(n,"minimum_value"),max:this.safeFloat(n,"maximum_value")}},p={amount:this.precisionFromString(n.minimum_amount),price:this.precisionFromString(n.minimum_price)},v=f.amount.min,r.push({id:a,symbol:s,base:l,quote:h,info:n,lot:v,limits:f,precision:p});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalance();case 4:for(t=e.sent,r=t.payload.balances,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.currency.toUpperCase(),u={free:parseFloat(a.available),used:parseFloat(a.locked),total:parseFloat(a.total)},i[s]=u;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderBook(this.extend({book:this.marketId(t)},a));case 4:return r=e.sent,i=r.payload,n=this.parse8601(i.updated_at),e.abrupt("return",this.parseOrderBook(i,n,"bids","asks","price","amount"));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(this.extend({book:this.marketId(t)},c));case 4:return r=e.sent,i=r.payload,n=this.parse8601(i.created_at),a=this.safeFloat(i,"vwap"),s=this.safeFloat(i,"volume"),u=s*a,d=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:a,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:u,info:i});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),i=void 0;if("undefined"===typeof t){var n=this.safeString(e,"book");n in this.markets_by_id&&(t=this.markets_by_id[n])}"undefined"!==typeof t&&(i=t.symbol);var a=this.safeString(e,"side");"undefined"===typeof a&&(a=this.safeString(e,"maker_side"));var s=this.safeFloat(e,"amount");"undefined"===typeof s&&(s=this.safeFloat(e,"major")),"undefined"!==typeof s&&(s=Math.abs(s));var o=void 0,u=this.safeFloat(e,"fees_amount");if("undefined"!==typeof u){var d=this.safeString(e,"fees_currency");"undefined"!==typeof d&&d in this.currencies_by_id&&(d=this.currencies_by_id[d].code),o={cost:u,currency:d}}var c=this.safeFloat(e,"minor");"undefined"!==typeof c&&(c=Math.abs(c));var l=this.safeFloat(e,"price"),h=this.safeString(e,"oid");return{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:h,type:void 0,side:a,price:l,amount:s,cost:c,fee:o}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({book:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.payload,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=this.market(a),r="marker"in d,"undefined"===typeof s||r){e.next=6;break}throw O(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 6:return r&&(d=this.extend(d,{marker:parseInt(d.marker)})),i={book:t.id,limit:u},e.next=10,this.privateGetUserTrades(this.extend(i,d));case 10:return n=e.sent,e.abrupt("return",this.parseTrades(n.payload,t,s,u));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={book:this.marketId(t),side:i,type:r,major:this.amountToPrecision(t,n)},"limit"===r&&(a.price=this.priceToPrecision(t,u)),e.next=6,this.privatePostOrders(this.extend(a,d));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.payload.oid});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteOrdersOid({oid:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={"partial-fill":"open",completed:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.side,i=this.parseOrderStatus(e.status),n=void 0;if("undefined"===typeof t){var a=e.book;a in this.markets_by_id&&(t=this.markets_by_id[a])}t&&(n=t.symbol);var s=e.type,o=this.parse8601(e.created_at),u=this.safeFloat(e,"original_amount"),d=this.safeFloat(e,"unfilled_amount"),c=u-d;return{info:e,id:e.oid,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:n,type:s,side:r,price:this.safeFloat(e,"price"),amount:u,cost:void 0,remaining:d,filled:c,status:i,fee:void 0}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=this.market(s),r="marker"in c,"undefined"===typeof u||r){e.next=6;break}throw O(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");case 6:return r&&(c=this.extend(c,{marker:parseInt(c.marker)})),i={book:t.id,limit:d},e.next=10,this.privateGetOpenOrders(this.extend(i,c));case 10:return n=e.sent,a=this.parseOrders(n.payload,t,u,d),e.abrupt("return",a);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(a),e.next=5,this.privateGetOrdersOid({oid:t});case 5:if(i=e.sent,n=i.payload.length,Array.isArray(i.payload)&&1===n){e.next=9;break}throw new M(this.id+": The order "+t+" not found.");case 9:return e.abrupt("return",this.parseOrder(i.payload[0],r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateGetOrderTradesOid({oid:t});case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.payload,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),i={fund_currency:r.id},e.next=6,this.privateGetFundingDestination(this.extend(i,d));case 6:return n=e.sent,a=this.safeString(n.payload,"account_identifier"),s=void 0,"XRP"===t&&(u=a.split("?dt=",2),a=u[0],s=u[1]),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:s,status:"ok",info:n});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if(n={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"},"undefined"!==typeof(a=t in n?n[t]:void 0)){e.next=7;break}throw new O(this.id+" not valid withdraw coin: "+t);case 7:return s={amount:r,address:i,destination_tag:c},u="privatePost"+a+"Withdrawal",e.next=11,this[u](this.extend(s,l));case 11:return d=e.sent,e.abrupt("return",{info:d,id:this.safeString(d.payload,"wid")});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));"GET"===r&&(0,a.default)(u).length&&(o+="?"+this.urlencode(u));var d=this.urls.api+o;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),l=[c,r,o].join("");"GET"!==r&&(0,a.default)(u).length&&(s=this.json(u),l+=s);var h=this.hmac(this.encode(l),this.encode(this.secret));n={Authorization:"Bitso "+(this.apiKey+":"+c+":"+h),"Content-Type":"application/json"}}return{url:d,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("success"in s){var o=this.safeValue(s,"success",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var u=this.id+" "+this.json(s),d=this.safeValue(s,"error");if("undefined"===typeof d)throw new O(u);var c=this.safeString(d,"code"),l=this.exceptions;throw c in l?new l[c](u):new O(u)}}}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("success"in(r=e.sent))){e.next=6;break}if(!r.success){e.next=6;break}return e.abrupt("return",r);case 6:throw new O(this.id+" "+this.json(r));case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.AuthenticationError,B=_.ExchangeError,S=_.NotSupported;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bitstamp",name:"Bitstamp",countries:"GB",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchDepositAddress:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","buy/{pair}/","buy/market/{pair}/","sell/{pair}/","sell/market/{pair}/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["bitcoin_deposit_address/","unconfirmed_btc/","bitcoin_withdrawal/","ripple_withdrawal/","ripple_address/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:.0025,tiers:{taker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]],maker:[[0,.0025],[2e4,.0024],[1e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:.9},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:0}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k,b,g;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTradingPairsInfo();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.name,s=a.split("/"),u=(0,d.default)(s,2),c=u[0],l=u[1],h=c.toLowerCase(),f=l.toLowerCase(),p=h+"_"+f,v=n.url_symbol,m={amount:n.base_decimals,price:n.counter_decimals},y=n.minimum_order.split(" "),k=y[0],b="Enabled"===n.trading,g=Math.pow(10,-m.amount),r.push({id:v,symbol:a,base:c,quote:l,baseId:h,quoteId:f,symbolId:p,info:n,lot:g,active:b,precision:m,limits:{amount:{min:g,max:void 0},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:parseFloat(k),max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderBookPair(this.extend({pair:this.marketId(t)},n));case 4:return r=e.sent,i=1e3*parseInt(r.timestamp),e.abrupt("return",this.parseOrderBook(r,i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},d));case 4:return r=e.sent,i=1e3*parseInt(r.timestamp),n=this.safeFloat(r,"vwap"),a=this.safeFloat(r,"volume"),s=a*n,u=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:this.safeFloat(r,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:r});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMarketFromTrade",value:function(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);var t=(0,a.default)(e),r=t.length;if(r>2)throw new B(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===r){var i=t[0]+t[1];if(i in this.markets_by_id)return this.markets_by_id[i];if((i=t[1]+t[0])in this.markets_by_id)return this.markets_by_id[i]}}},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"symbol"),r=(0,a.default)(t);if(1===r.length)return this.markets[r[0]]}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=this.parse8601(e.datetime));var n=this.safeString(e,"side"),s=this.safeString(e,"order_id");"undefined"===typeof s&&"undefined"===typeof n&&(n=this.safeInteger(e,"type"),n=0===n?"buy":"sell");var o=this.safeFloat(e,"price"),u=this.safeFloat(e,"amount"),d=this.safeString(e,"tid");if(d=this.safeString(e,"id",d),"undefined"===typeof t){for(var c=(0,a.default)(e),l=0;l<c.length;l++)if(c[l].indexOf("_")>=0){var h=c[l].replace("_","");h in this.markets_by_id&&(t=this.markets_by_id[h])}"undefined"===typeof t&&(t=this.getMarketFromTrade(e))}var f=this.safeFloat(e,"fee"),p=void 0;"undefined"!==typeof t&&(o=this.safeFloat(e,t.symbolId,o),u=this.safeFloat(e,t.baseId,u),p=t.quote,i=t.symbol);var v=void 0;return"undefined"!==typeof o&&"undefined"!==typeof u&&(v=o*u),{id:d,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:s,type:void 0,side:n,price:o,amount:u,cost:v,fee:{cost:f,currency:p}}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTransactionsPair(this.extend({pair:r.id,time:"hour"},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:for(t=e.sent,r={info:t},i=(0,a.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d=u+"_balance",c=u+"_available",l=u+"_reserved",h=this.account(),c in t&&(h.free=parseFloat(t[c])),l in t&&(h.used=parseFloat(t[l])),d in t&&(h.total=parseFloat(t[d])),r[s]=h;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="privatePost"+this.capitalize(i),s={pair:this.marketId(t),amount:n},"market"===r?a+="Market":s.price=d,a+="Pair",e.next=8,this[a](this.extend(s,c));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return"Queue"===e.status||"Open"===e.status?"open":"Finished"===e.status?"closed":e.status}},{key:"fetchOrderStatus",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderStatus(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderStatus(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,"undefined"!==typeof n&&(r=this.market(n)),e.next=6,this.privatePostOrderStatus(this.extend({id:t},a));case 6:return i=e.sent,e.abrupt("return",this.parseOrder(i,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r="privatePostUserTransactions",i=void 0,"undefined"!==typeof a&&(i=this.market(a),t.pair=i.id,r+="Pair"),"undefined"!==typeof u&&(t.limit=u),e.next=9,this[r](this.extend(t,d));case 9:return n=e.sent,e.abrupt("return",this.parseTrades(n,i,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"id"),i=void 0,n=void 0,a=this.safeString(e,"type");"undefined"!==typeof a&&(a="1"===a?"sell":"buy");var s=this.safeString(e,"datetime");"undefined"!==typeof s&&(i=this.parse8601(s),n=this.iso8601(i));var o=void 0;if("undefined"===typeof t&&"currency_pair"in e){var u=e.currency_pair;u in this.markets_by_id&&(t=this.markets_by_id[u])}var d=this.safeFloat(e,"amount"),c=0,l=[],h=this.safeValue(e,"transactions"),f=void 0,p=void 0;if("undefined"!==typeof h&&Array.isArray(h))for(var v=0;v<h.length;v++){var m=this.parseTrade(this.extend({order_id:r,side:a},h[v]),t);c+=m.amount,"undefined"===typeof f&&(f=0),f+=m.fee.cost,"undefined"===typeof p&&(p=0),p+=m.cost,l.push(m)}var y=this.safeString(e,"status");"In Queue"===y||"Open"===y?y="open":"Finished"===y&&(y="closed","undefined"===typeof d&&(d=c));var k=void 0;"undefined"!==typeof d&&(k=d-c);var b=this.safeFloat(e,"price");"undefined"===typeof t&&(t=this.getMarketFromTrades(l));var g=void 0;return"undefined"!==typeof t&&(o=t.symbol,g=t.quote),"undefined"===typeof p?"undefined"!==typeof b&&(p=b*c):"undefined"===typeof b&&c>0&&(b=p/c),{id:r,datetime:n,timestamp:i,lastTradeTimestamp:void 0,status:y,symbol:o,type:void 0,side:a,price:b,cost:p,amount:d,filled:c,remaining:k,trades:l,fee:{cost:f,currency:g},info:e}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.next=3,this.loadMarkets();case 3:return"undefined"!==typeof i&&(t=this.market(i)),e.next=6,this.privatePostOpenOrdersAll();case 6:return r=e.sent,e.abrupt("return",this.parseOrders(r,t,n,a));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"getCurrencyName",value:function(e){return"BTC"===e?"bitcoin":e.toLowerCase()}},{key:"isFiat",value:function(e){return"USD"===e||"EUR"===e}},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFiat(t)){e.next=2;break}throw new S(this.id+" fiat fetchDepositAddress() for "+t+" is not implemented yet");case 2:return r=this.getCurrencyName(t),i="BTC"===t,n=i?"v1":"private",n+="Post"+this.capitalize(r),n+=i?"Deposit":"",n+="Address",e.next=10,this[n](d);case 10:return a=e.sent,s=i?a:this.safeString(a,"address"),u=i?void 0:this.safeString(a,"destination_tag"),this.checkAddress(s),e.abrupt("return",{currency:t,status:"ok",address:s,tag:u,info:a});case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkAddress(i),!this.isFiat(t)){e.next=3;break}throw new S(this.id+" fiat withdraw() for "+t+" is not implemented yet");case 3:if(n=this.getCurrencyName(t),a={amount:r,address:i},s="BTC"===t,u=s?"v1":"private",u+="Post"+this.capitalize(n)+"Withdrawal",d=h,"XRP"!==t){e.next=16;break}if("undefined"===typeof l){e.next=15;break}a.destination_tag=l,d=this.omit(h,"destination_tag"),e.next=16;break;case 15:throw new B(this.id+" withdraw() requires a destination_tag param for "+t);case 16:return e.next=18,this[u](this.extend(a,d));case 18:return c=e.sent,e.abrupt("return",{info:c,id:c.id});case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/";"v1"!==t&&(o+=this.version+"/"),o+=this.implodeParams(e,i);var u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=d+this.uid+this.apiKey,l=this.encode(this.hmac(this.encode(c),this.encode(this.secret)));u=this.extend({key:this.apiKey,signature:l.toUpperCase(),nonce:d},u),s=this.urlencode(u),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("error"===this.safeString(s,"status")){var o=this.safeString(s,"code");if("undefined"!==typeof o&&"API0005"===o)throw new O(this.id+" invalid signature, use the uid for the main account if you have subaccounts");throw new B(this.id+" "+this.json(s))}}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bitstamp1",name:"Bitstamp v1",countries:"GB",rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0025,taker:.0025},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",maker:.0025,taker:.0025},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",maker:.0025,taker:.0025},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",maker:.0025,taker:.0025},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",maker:.0025,taker:.0025},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",maker:.0025,taker:.0025},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.0025,taker:.0025},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.0025,taker:.0025},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",maker:.0025,taker:.0025},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.0025,taker:.0025}}})}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/USD"===t){e.next=2;break}throw new C(this.id+" "+this.version+" fetchOrderBook doesn't support "+t+", use it for BTC/USD only");case 2:return e.next=4,this.publicGetOrderBook(n);case 4:return r=e.sent,i=1e3*parseInt(r.timestamp),e.abrupt("return",this.parseOrderBook(r,i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/USD"===t){e.next=2;break}throw new C(this.id+" "+this.version+" fetchTicker doesn't support "+t+", use it for BTC/USD only");case 2:return e.next=4,this.publicGetTicker(d);case 4:return r=e.sent,i=1e3*parseInt(r.timestamp),n=this.safeFloat(r,"vwap"),a=this.safeFloat(r,"volume"),s=a*n,u=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:this.safeFloat(r,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:r});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"date"in e?r=1e3*parseInt(e.date):"datetime"in e&&(r=1e3*parseInt(e.datetime));var i=0===e.type?"buy":"sell",n=void 0;return"order_id"in e&&(n=e.order_id.toString()),"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]),{id:e.tid.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:n,type:void 0,side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/USD"===t){e.next=2;break}throw new C(this.id+" "+this.version+" fetchTrades doesn't support "+t+", use it for BTC/USD only");case 2:return r=this.market(t),e.next=5,this.publicGetTransactions(this.extend({time:"minute"},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalance();case 2:for(t=e.sent,r={info:t},i=(0,a.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d=u+"_balance",c=u+"_available",l=u+"_reserved",h=this.account(),h.free=this.safeFloat(t,c,0),h.used=this.safeFloat(t,l,0),h.total=this.safeFloat(t,d,0),r[s]=h;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new C(this.id+" "+this.version+" accepts limit orders only");case 2:if("BTC/USD"===t){e.next=4;break}throw new C(this.id+" v1 supports BTC/USD orders only");case 4:return a="privatePost"+this.capitalize(i),s={amount:n,price:d},e.next=8,this[a](this.extend(s,c));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.id});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return"Queue"===e.status||"Open"===e.status?"open":"Finished"===e.status?"closed":e.status}},{key:"fetchOrderStatus",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderStatus({id:t});case 4:return r=e.sent,e.abrupt("return",this.parseOrderStatus(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,a&&(t=this.market(a)),r=t?t.id:"all",i=this.extend({id:r},d),e.next=8,this.privatePostOpenOrdersId(i);case 8:return n=e.sent,e.abrupt("return",this.parseTrades(n,t,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new _(this.id+" fetchOrder is not implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=d+this.uid+this.apiKey,l=this.encode(this.hmac(this.encode(c),this.encode(this.secret)));u=this.extend({key:this.apiKey,signature:l.toUpperCase(),nonce:d},u),s=this.urlencode(u),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("status"in(r=e.sent))){e.next=6;break}if("error"!==r.status){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.AuthenticationError,S=_.InvalidNonce,M=_.InsufficientFunds,I=_.OrderNotFound,E=_.DDoSProtection;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"bitz",name:"Bit-Z",countries:"HK",rateLimit:1e3,version:"v1",userAgent:this.userAgents.chrome,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35862606-4f554f14-0b5d-11e8-957d-35058c504b6f.jpg",api:"https://www.bit-z.com/api_v1",www:"https://www.bit-z.com",doc:"https://www.bit-z.com/api.html",fees:"https://www.bit-z.com/about/fee"},api:{public:{get:["ticker","tickerall","depth","orders","kline"]},private:{post:["balances","tradeAdd","tradeCancel","openOrders"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{lastNonceTimestamp:0},commonCurrencies:{PXC:"Pixiecoin"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerall();case 2:for(t=e.sent,r=t.data,i=(0,d.default)(r),n=[],s=0;s<i.length;s++)u=i[s],c=r[u],l=u.split("_"),h=(0,o.default)(l,2),f=h[0],p=h[1],v=f.toUpperCase(),m=p.toUpperCase(),v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(m),y=v+"/"+m,n.push({id:u,symbol:y,base:v,quote:m,baseId:f,quoteId:p,active:!0,info:c});return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l,h,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalances(p);case 4:for(t=e.sent,r=t.data,i=this.omit(r,"uid"),n={info:t},s=(0,d.default)(i),o=0;o<s.length;o++)u=s[o],(c=u.indexOf("_")>=0)||(l=u.toUpperCase(),u in this.currencies_by_id&&(l=this.currencies_by_id[u].code),h=this.account(),f=u+"_lock",h.used=this.safeFloat(i,f),h.total=this.safeFloat(i,u),h.free=h.total-h.used,n[l]=h);return e.abrupt("return",this.parseBalance(n));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,i=t.symbol,n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker(this.extend({coin:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickerall(l);case 4:for(t=e.sent,r=t.data,i={},n=(0,d.default)(r),s=0;s<n.length;s++)o=n[s],u=this.markets_by_id[o],c=u.symbol,i[c]=this.parseTicker(r[o],u);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetDepth(this.extend({coin:this.marketId(t)},s));case 4:return r=e.sent,i=r.data,n=1e3*i.date,e.abrupt("return",this.parseOrderBook(i,n));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.sum(this.milliseconds(),288e5),i=this.iso8601(r);i=i.split("T"),i=i[0]+" "+e.t+"+08";var n=this.parse8601(i),a=this.safeFloat(e,"p"),s=this.safeFloat(e,"n"),o=t.symbol,u=this.priceToPrecision(o,s*a);return{timestamp:n,datetime:this.iso8601(n),symbol:o,id:void 0,order:void 0,type:"limit",side:e.s,price:a,amount:s,cost:u,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetOrders(this.extend({coin:r.id},u));case 5:return i=e.sent,n=i.data.d,e.abrupt("return",this.parseTrades(n,r,s,o));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetKline(this.extend({coin:r.id,type:this.timeframes[s]},d));case 5:return i=e.sent,n=JSON.parse(i.data.datas.data),e.abrupt("return",this.parseOHLCVs(n,r,s,o,u));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"undefined"!==typeof t&&(r=t.symbol);var i=this.safeString(e,"side");"undefined"===typeof i&&(i=this.safeString(e,"type"),"undefined"!==typeof i&&(i="in"===i?"buy":"sell"),"undefined"===typeof i&&(i=this.safeString(e,"flag")));var n=this.safeFloat(e,"number"),a=this.safeFloat(e,"numberover"),s=void 0;"undefined"!==typeof n&&"undefined"!==typeof a&&(s=n-a);var o=void 0,u=void 0;return"datetime"in e&&(o=this.parse8601(e.datetime),u=this.iso8601(o)),{id:e.id,datetime:u,timestamp:o,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:i,price:e.price,cost:void 0,amount:e.number,filled:s,remaining:a,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(s=this.market(t),o="buy"===i?"in":"out",this.password){e.next=6;break}throw new O(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');case 6:return u={coin:s.id,type:o,price:this.priceToPrecision(t,h),number:this.amountToString(t,n),tradepwd:this.password},e.next=9,this.privatePostTradeAdd(this.extend(u,f));case 9:return d=e.sent,c=d.data.id,l=this.parseOrder({id:c,price:h,number:n,side:i},s),this.orders[c]=l,e.abrupt("return",l);case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostTradeCancel(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privatePostOpenOrders(this.extend({coin:t.id},o));case 5:return r=e.sent,e.abrupt("return",this.parseOrders(r.data,t,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){var e=this.seconds();return e>this.options.lastNonceTimestamp&&(this.options.lastNonceTimestamp=e,this.options.lastNonce=1e5),this.options.lastNonce=this.sum(this.options.lastNonce,1),this.options.lastNonce}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+e,o=void 0;return"public"===t?(o=this.urlencode(i),o.length&&(s+="?"+o)):(this.checkRequiredCredentials(),a=this.urlencode(this.keysort(this.extend({api_key:this.apiKey,timestamp:this.seconds(),nonce:this.nonce()},i))),a+="&sign="+this.hash(this.encode(a+this.secret)),n={"Content-type":"application/x-www-form-urlencoded"}),{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,o,u,d,c,l);case 2:if(r=e.sent,"0"===(i=this.safeString(r,"code"))){e.next=8;break}throw n=this.safeValue({103:B,104:B,200:B,202:B,401:B,406:B,203:S,201:I,408:M,106:E},i,O),s=this.safeString(r,"msg","Error"),new n(s);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:["https://bl3p.eu","https://bitonic.nl"],doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostGENMKTMoneyInfo();case 2:for(t=e.sent,r=t.data,i=r.wallets,n={info:r},s=(0,o.default)(this.currencies),u=0;u<s.length;u++)d=s[u],c=this.account(),d in i&&"available"in i[d]&&(c.free=parseFloat(i[d].available.value)),d in i&&"balance"in i[d]&&(c.total=parseFloat(i[d].balance.value)),c.total&&c.free&&(c.used=c.total-c.free),n[d]=c;return e.abrupt("return",this.parseBalance(n));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return[e[t]/1e5,e[r]/1e8]}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetMarketOrderbook(this.extend({market:r.id},s));case 3:return i=e.sent,n=i.data,e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","price_int","amount_int"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketTicker(this.extend({market:this.marketId(t)},s));case 2:return r=e.sent,i=1e3*r.timestamp,n=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(r.volume["24h"]),quoteVolume:void 0,info:r});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){return{id:e.trade_id.toString(),timestamp:e.date,datetime:this.iso8601(e.date),symbol:t.symbol,type:void 0,side:void 0,price:e.price_int/1e5,amount:e.amount_int/1e8,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetMarketTrades(this.extend({market:r.id},u));case 3:return i=e.sent,n=this.parseTrades(i.data.trades,r,s,o),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.market(t),o={market:s.id,amount_int:parseInt(1e8*n),fee_currency:s.quote,type:"buy"===i?"bid":"ask"},"limit"===r&&(o.price_int=parseInt(1e5*d)),e.next=5,this.privatePostMarketMoneyOrderAdd(this.extend(o,c));case 5:return u=e.sent,e.abrupt("return",{info:u,id:u.data.order_id.toString()});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostMarketMoneyOrderCancel({order_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.implodeParams(e,i),u=this.urls.api+"/"+this.version+"/"+s,d=this.omit(i,this.extractParams(e));if("public"===t)(0,o.default)(d).length&&(u+="?"+this.urlencode(d));else{this.checkRequiredCredentials();var c=this.nonce();a=this.urlencode(this.extend({nonce:c},d));var l=this.base64ToBinary(this.secret),h=s+"\0"+a,f=this.hmac(this.encode(h),l,"sha512","base64");n={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(f)}}return{url:u,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(733),w=r(437),x=w.ExchangeError,T=w.AuthenticationError,C=w.InvalidOrder,_=w.InsufficientFunds;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"bleutrade",name:"Bleutrade",countries:"BR",rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30303000-b602dbe6-976d-11e7-956d-36c5049c01e7.jpg",api:{public:"https://bleutrade.com/api",account:"https://bleutrade.com/api",market:"https://bleutrade.com/api"},www:"https://bleutrade.com",doc:"https://bleutrade.com/help/API",fees:"https://bleutrade.com/help/fees_and_deadlines"},fees:{funding:{withdraw:{ADC:.1,BTA:.1,BITB:.1,BTC:.001,BCC:.001,BTCD:.001,BTG:.001,BLK:.1,CDN:.1,CLAM:.01,DASH:.001,DCR:.05,DGC:.1,DP:.1,DPC:.1,DOGE:10,EFL:.1,ETH:.01,EXP:.1,FJC:.1,BSTY:.001,GB:.1,NLG:.1,HTML:1,LTC:.001,MONA:.01,MOON:1,NMC:.015,NEOS:.1,NVC:.05,OK:.1,PPC:.1,POT:.1,XPM:.001,QTUM:.1,RDD:.1,SLR:.1,START:.1,SLG:.1,TROLL:.1,UNO:.01,VRC:.1,VTC:.1,XVP:.1,WDC:.001,ZET:.1}}},exceptions:{"Insufficient funds!":_,"Invalid Order ID":C,"Invalid apikey or apisecret":T},options:{parseOrderStatus:!0}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],i=0;i<t.result.length;i++)n=t.result[i],s=n.MarketName,o=n.MarketCurrency,u=n.BaseCurrency,o=this.commonCurrencyCode(o),u=this.commonCurrencyCode(u),d=o+"/"+u,c={amount:8,price:8},l=this.safeString(n,"IsActive"),"true"===l?l=!0:"false"===l&&(l=!1),r.push({id:s,symbol:d,base:o,quote:u,active:l,info:n,lot:Math.pow(10,-c.amount),precision:c,limits:{amount:{min:n.MinTradeSize,max:void 0},price:{min:void 0,max:void 0},cost:{min:0,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={OK:"closed",OPEN:"open",CANCELED:"canceled"};return e in t?t[e]:e}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=void 0,!i){e.next=9;break}return e.next=6,this.loadMarkets();case 6:t=this.market(i),e.next=10;break;case 9:t=void 0;case 10:return e.next=12,this.accountGetOrders(this.extend({market:"ALL",orderstatus:"ALL"},o));case 12:return r=e.sent,e.abrupt("return",this.parseOrders(r.result,t,n,s));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,s);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getOrderIdField",value:function(){return"orderid"}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={market:this.marketId(t),type:"ALL"},"undefined"!==typeof s&&(r.depth=s),e.next=6,this.publicGetOrderbook(this.extend(r,o));case 6:if(i=e.sent,n=this.safeValue(i,"result")){e.next=10;break}throw new x(this.id+" publicGetOrderbook() returneded no result "+this.json(i));case 10:return e.abrupt("return",this.parseOrderBook(n,void 0,"buy","sell","Rate","Quantity"));case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(19),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.InvalidOrder,S=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"braziliex",name:"Braziliex",countries:"BR",rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order"]}},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencies(y);case 2:for(t=e.sent,r=(0,d.default)(t),i={},n=0;n<r.length;n++)a=r[n],s=t[a],u=this.safeInteger(s,"decimal"),c=a.toUpperCase(),l=this.commonCurrencyCode(c),h=1===this.safeInteger(s,"active"),f="ok",p=this.safeInteger(s,"under_maintenance"),0!==p&&(h=!1,f="maintenance"),v=1===this.safeInteger(s,"is_withdrawal_active"),m=1===this.safeInteger(s,"is_deposit_active"),v&&m||(h=!1),i[l]={id:a,code:l,name:s.name,active:h,status:f,precision:u,funding:{withdraw:{active:v,fee:s.txWithdrawalFee},deposit:{active:m,fee:s.txDepositFee}},limits:{amount:{min:s.minAmountTrade,max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:s.MinWithdrawal,max:Math.pow(10,u)},deposit:{min:s.minDeposit,max:void 0}},info:s};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k,b;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker();case 2:for(t=e.sent,r=(0,d.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=t[s],c=s.split("_"),l=(0,a.default)(c,2),h=l[0],f=l[1],p=h.toUpperCase(),v=f.toUpperCase(),p=this.commonCurrencyCode(p),v=this.commonCurrencyCode(v),m=p+"/"+v,y=1===this.safeInteger(u,"active"),k={amount:8,price:8},b=Math.pow(10,-k.amount),i.push({id:s,symbol:m.toUpperCase(),base:p,quote:v,baseId:h,quoteId:f,active:y,lot:b,precision:k,limits:{amount:{min:b,max:Math.pow(10,k.amount)},price:{min:Math.pow(10,-k.price),max:Math.pow(10,k.price)},cost:{min:void 0,max:void 0}},info:u});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=e.date;e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"highestBid24"),low:this.safeFloat(e,"lowestAsk24"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume24"),quoteVolume:this.safeFloat(e,"quoteVolume24"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerMarket(this.extend({market:r.id},n));case 5:return i=e.sent,i={date:this.milliseconds(),ticker:i},e.abrupt("return",this.parseTicker(i,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(h);case 4:for(t=e.sent,r={},i=this.milliseconds(),n=(0,d.default)(t),a=0;a<n.length;a++)s=n[a],u=this.markets_by_id[s],c=u.symbol,l={date:i,ticker:t[s]},r[c]=this.parseTicker(l,u);return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbookMarket(this.extend({market:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;r="date_exec"in e?this.parse8601(e.date_exec):this.parse8601(e.date);var i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=this.safeFloat(e,"total"),o=this.safeString(e,"order_number");return{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"_id"),order:o,type:"limit",side:e.type,price:i,amount:n,cost:s,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradehistoryMarket(this.extend({market:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCompleteBalance(l);case 4:for(t=e.sent,r={info:t},i=(0,d.default)(t),n=0;n<i.length;n++)a=i[n],s=t[a],u=this.commonCurrencyCode(a),c={free:parseFloat(s.available),used:0,total:parseFloat(s.total)},c.used=c.total-c.free,r[u]=c;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(!t){var i=this.safeString(e,"market");i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}t&&(r=t.symbol);var n=this.safeValue(e,"timestamp");n||(n=this.parse8601(e.date));var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"total",0),o=this.safeFloat(e,"amount"),u=this.safeFloat(e,"progress"),d=o*u,c=this.amountToPrecision(r,o-d),l=e;return"info"in l&&(l=e.info),{id:e.order_number,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:e.type,price:a,cost:s,amount:o,filled:d,remaining:c,trades:void 0,fee:this.safeValue(e,"fee"),info:l}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s="privatePost"+this.capitalize(i),e.next=6,this[s](this.extend({market:a.id,price:p,amount:n},v));case 6:if(u=e.sent,1===(d=this.safeInteger(u,"success"))){e.next=10;break}throw new B(this.id+" "+this.json(u));case 10:return c=u.message.split(" / "),c=c.slice(1),l=c[5].split(" "),h=this.parseOrder({timestamp:this.milliseconds(),order_number:u.order_number,type:c[0].toLowerCase(),market:c[0].toLowerCase(),amount:c[2].split(" ")[1],price:c[3].split(" ")[1],total:c[4].split(" ")[1],fee:{cost:parseFloat(l[1]),currency:l[2]},progress:"0.0",info:u},a),f=h.id,this.orders[f]=h,e.abrupt("return",h);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostCancelOrder(this.extend({order_number:t,market:r.id},a));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privatePostOpenOrders(this.extend({market:t.id},s));case 5:return r=e.sent,e.abrupt("return",this.parseOrders(r.order_open,t,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privatePostTradeHistory(this.extend({market:t.id},s));case 5:return r=e.sent,e.abrupt("return",this.parseTrades(r.trade_history,t,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostDepositAddress(this.extend({currency:r.id},s));case 5:return i=e.sent,n=this.safeString(i,"deposit_address"),this.checkAddress(n),a=this.safeString(i,"payment_id"),e.abrupt("return",{currency:t,address:n,tag:a,status:"ok",info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+t,o=this.omit(i,this.extractParams(e));if("public"===t)s+="/"+this.implodeParams(e,i),(0,d.default)(o).length&&(s+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),a=this.urlencode(o);var u=this.hmac(this.encode(a),this.encode(this.secret),"sha512");n={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.decode(u)}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,a,s,u,d,c);case 2:if(!("success"in(r=e.sent))){e.next=10;break}if(0!==(i=this.safeInteger(r,"success"))){e.next=10;break}if("Invalid APIKey"!==(n=this.safeString(r,"message"))){e.next=9;break}throw new S(n);case 9:throw new O(n);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btcchina",name:"BTCChina",countries:"CN",rateLimit:1500,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766368-465b3286-5ed6-11e7-9a11-0f6467e1d82b.jpg",api:{plus:"https://plus-api.btcchina.com/market",public:"https://data.btcchina.com/data",private:"https://api.btcchina.com/api_trade_v1.php"},www:"https://www.btcchina.com",doc:"https://www.btcchina.com/apidocs"},api:{plus:{get:["orderbook","ticker","trade"]},public:{get:["historydata","orderbook","ticker","trades"]},private:{post:["BuyIcebergOrder","BuyOrder","BuyOrder2","BuyStopOrder","CancelIcebergOrder","CancelOrder","CancelStopOrder","GetAccountInfo","getArchivedOrder","getArchivedOrders","GetDeposits","GetIcebergOrder","GetIcebergOrders","GetMarketDepth","GetMarketDepth2","GetOrder","GetOrders","GetStopOrder","GetStopOrders","GetTransactions","GetWithdrawal","GetWithdrawals","RequestWithdrawal","SellIcebergOrder","SellOrder","SellOrder2","SellStopOrder"]}},markets:{"BTC/CNY":{id:"btccny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",api:"public",plus:!1},"LTC/CNY":{id:"ltccny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",api:"public",plus:!1},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",api:"public",plus:!1},"BCH/CNY":{id:"bcccny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",api:"plus",plus:!0},"ETH/CNY":{id:"ethcny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",api:"plus",plus:!0}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker({market:"all"});case 2:for(t=e.sent,r=[],i=(0,o.default)(t),n=0;n<i.length;n++)s=i[n],u=t[s],d=s.split("_"),c=d[1],l=c.slice(0,3),h=c.slice(3,6),l=l.toUpperCase(),h=h.toUpperCase(),f=l+"/"+h,r.push({id:c,symbol:f,base:l,quote:h,info:u});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetAccountInfo();case 4:for(t=e.sent,r=t.result,i={info:r},n=(0,o.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=u.toLowerCase(),c=this.account(),d in r.balance&&(c.total=parseFloat(r.balance[d].amount)),d in r.frozen&&(c.used=parseFloat(r.frozen[d].amount)),c.free=c.total-c.used,i[u]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createMarketRequest",value:function(e){var t={};return t[e.plus?"symbol":"market"]=e.id,t}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=r.api+"GetOrderbook",n=this.createMarketRequest(r),e.next=7,this[i](this.extend(n,u));case 7:return s=e.sent,o=1e3*s.date,e.abrupt("return",this.parseOrderBook(s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e,t){var r=1e3*e.date,i=this.safeFloat(e,"last");return{timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),vwap:this.safeFloat(e,"vwap"),open:this.safeFloat(e,"open"),close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"parseTickerPlus",value:function(e,t){var r=e.Timestamp,i=void 0;return t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),ask:this.safeFloat(e,"AskPrice"),vwap:void 0,open:this.safeFloat(e,"Open"),last:this.safeFloat(e,"Last"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24H"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=r.api+"GetTicker",n=this.createMarketRequest(r),e.next=7,this[i](this.extend(n,u));case 7:if(s=e.sent,o=s.ticker,!r.plus){e.next=11;break}return e.abrupt("return",this.parseTickerPlus(o,r));case 11:return e.abrupt("return",this.parseTicker(o,r));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"parseTradePlus",value:function(e,t){var r=this.parse8601(e.timestamp);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side.toLowerCase(),price:e.price,amount:e.size}}},{key:"parseTradesPlus",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[],i=0;i<e.length;i++)r.push(this.parseTradePlus(e[i],t));return r}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=r.api+"GetTrade",n=this.createMarketRequest(r),r.plus?(s=this.milliseconds(),n.start_time=s-864e5,n.end_time=s):i+="s",e.next=8,this[i](this.extend(n,c));case 8:if(o=e.sent,!r.plus){e.next=11;break}return e.abrupt("return",this.parseTradesPlus(o.trades,r));case 11:return e.abrupt("return",this.parseTrades(o,r,u,d));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=this.market(t),o="privatePost"+this.capitalize(i)+"Order2",u={},d=s.id.toUpperCase(),u.params="market"===r?[void 0,n,d]:[l,n,d],e.next=9,this[o](this.extend(u,h));case 9:return c=e.sent,e.abrupt("return",{info:c,id:c.id});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=i.market,e.next=5,this.privatePostCancelOrder(this.extend({params:[t,r]},i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var u=[];"params"in i&&(u=i.params);var d=this.nonce(),c={method:e,id:d,params:u};u=u.join(","),a=this.json(c);var l="tonce="+d+"&accesskey="+this.apiKey+"&requestmethod="+r.toLowerCase()+"&id="+d+"&method="+e+"&params="+u,h=this.hmac(this.encode(l),this.encode(this.secret),"sha1"),f=this.encode(this.apiKey+":"+h);n={Authorization:"Basic "+this.stringToBase64(f),"Json-Rpc-Tonce":d}}else(0,o.default)(i).length&&(s+="?"+this.urlencode(i));return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(735);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"btcexchange",name:"BTCExchange",countries:"PH",rateLimit:1500,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27993052-4c92911a-64aa-11e7-96d8-ec6ac3435757.jpg",api:"https://www.btcexchange.ph/api",www:"https://www.btcexchange.ph",doc:"https://github.com/BTCTrader/broker-api-docs"},markets:{"BTC/PHP":{id:"BTC/PHP",symbol:"BTC/PHP",base:"BTC",quote:"PHP"}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.OrderNotFound,O=T.NotSupported,B=T.InvalidOrder,S=T.DDoSProtection;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btcmarkets",name:"BTC Markets",countries:"AU",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,cancelOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29142911-0e1acfc2-7d5c-11e7-98c4-07d9532b29d7.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net",web:"https://btcmarkets.net/data"},www:"https://btcmarkets.net/",doc:"https://github.com/BTCMarkets/API"},api:{public:{get:["market/{id}/tick","market/{id}/orderbook","market/{id}/trades"]},private:{get:["account/balance","account/{id}/tradingfee"],post:["fundtransfer/withdrawCrypto","fundtransfer/withdrawEFT","order/create","order/cancel","order/history","order/open","order/trade/history","order/createBatch","order/detail"]},web:{get:["market/BTCMarkets/{id}/tickByTime"]}},markets:{"BTC/AUD":{id:"BTC/AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"LTC/AUD":{id:"LTC/AUD",symbol:"LTC/AUD",base:"LTC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"ETH/AUD":{id:"ETH/AUD",symbol:"ETH/AUD",base:"ETH",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"ETC/AUD":{id:"ETC/AUD",symbol:"ETC/AUD",base:"ETC",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"XRP/AUD":{id:"XRP/AUD",symbol:"XRP/AUD",base:"XRP",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"BCH/AUD":{id:"BCH/AUD",symbol:"BCH/AUD",base:"BCH",quote:"AUD",maker:.0085,taker:.0085,limits:{amount:{min:.001,max:void 0}},precision:{price:2}},"LTC/BTC":{id:"LTC/BTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"ETH/BTC":{id:"ETH/BTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"ETC/BTC":{id:"ETC/BTC",symbol:"ETC/BTC",base:"ETC",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"XRP/BTC":{id:"XRP/BTC",symbol:"XRP/BTC",base:"XRP",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}},"BCH/BTC":{id:"BCH/BTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.0022,taker:.0022,limits:{amount:{min:.001,max:void 0}}}},timeframes:{"1m":"minute","1h":"hour","1d":"day"},exceptions:{3:B,6:S}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccountBalance();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency,s=1e8,u=parseFloat(n.balance/s),d=parseFloat(n.pendingFunds/s),c=u-d,l={free:c,used:d,total:u},r[a]=l;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1])/1e8,parseFloat(e[2])/1e8,parseFloat(e[3])/1e8,parseFloat(e[4])/1e8,parseFloat(e[5])/1e8]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load_markets();case 2:return r=this.market(t),i={id:r.id,timeWindow:this.timeframes[a]},"undefined"!==typeof s&&(i.since=s),e.next=7,this.webGetMarketBTCMarketsIdTickByTime(this.extend(i,d));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n.ticks,r,a,s,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketIdOrderbook(this.extend({id:r.id},a));case 5:return i=e.sent,n=1e3*i.timestamp,e.abrupt("return",this.parseOrderBook(i,n));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.timestamp,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"lastPrice");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bestBid"),bidVolume:void 0,ask:this.safeFloat(e,"bestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketIdTick(this.extend({id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketIdTrades(this.extend({id:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;arguments.length>5&&void 0!==arguments[5]&&arguments[5];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s=1e8,u="buy"===i?"Bid":"Ask",d=this.ordered({currency:a.quote}),d.currency=a.quote,d.instrument=a.base,d.price=parseInt(l*s),d.volume=parseInt(n*s),d.orderSide=u,d.ordertype=this.capitalize(r),d.clientRequestId=this.nonce().toString(),e.next=15,this.privatePostOrderCreate(d);case 15:return c=e.sent,e.abrupt("return",{info:c,id:c.id.toString()});case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrders",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:for(r=0;r<t.length;r++)t[r]=parseInt(t[r]);return e.next=5,this.privatePostOrderCancel({orderIds:t});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.cancelOrders([t]);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseMyTrade",value:function(e,t){var r=e.creationTime,i="Bid"===e.side?"buy":"sell",n="AUD"===t.quote?t.quote:t.base;return{info:e,id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:i,price:e.price/1e8,fee:{currency:n,cost:e.fee/1e8},amount:e.volume/1e8,order:this.safeString(e,"orderId")}}},{key:"parseMyTrades",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],[]),i=0;i<e.length;i++){var n=this.parseMyTrade(e[i],t);r.push(n)}return r}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="Bid"===e.orderSide?"buy":"sell",i="Limit"===e.ordertype?"limit":"market",n=e.creationTime;t||(t=this.market(e.instrument+"/"+e.currency));var a="open";"Failed"===e.status||"Cancelled"===e.status||"Partially Cancelled"===e.status||"Error"===e.status?a="canceled":"Fully Matched"!==e.status&&"Partially Matched"!==e.status||(a="closed");var s=this.safeFloat(e,"price")/1e8,o=this.safeFloat(e,"volume")/1e8,u=this.safeFloat(e,"openVolume",0)/1e8,d=o-u,c=s*o,l=this.parseMyTrades(e.trades,t);return{info:e,id:e.id.toString(),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:t.symbol,type:i,side:r,price:s,cost:c,amount:o,filled:d,remaining:u,status:a,trades:l,fee:void 0}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=[parseInt(t)],e.next=5,this.privatePostOrderDetail(this.extend({orderIds:r},s));case 5:if(i=e.sent,!((n=i.orders.length)<1)){e.next=9;break}throw new _(this.id+" No matching order found: "+t);case 9:return a=i.orders[0],e.abrupt("return",this.parseOrder(a));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"prepareHistoryRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.ordered({currency:e.quote,instrument:e.base});return i.limit="undefined"!==typeof r?r:100,i.since="undefined"!==typeof t?t:0,i}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+": fetchOrders requires a `symbol` parameter.");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r=this.prepareHistoryRequest(t,a,s),e.next=8,this.privatePostOrderHistory(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i.orders,t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+": fetchOpenOrders requires a `symbol` parameter.");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r=this.prepareHistoryRequest(t,a,s),e.next=8,this.privatePostOrderOpen(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i.orders,t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,a);case 2:return t=e.sent,e.abrupt("return",this.filterBy(t,"status","closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new O(this.id+": fetchMyTrades requires a `symbol` parameter.");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r=this.prepareHistoryRequest(t,a,s),e.next=8,this.privatePostOrderTradeHistory(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseMyTrades(i.trades,t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.implodeParams(e,i),u=this.urls.api[t]+o;if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),c=o+"\n"+d+"\n";n={"Content-Type":"application/json",apikey:this.apiKey,timestamp:d},"POST"===r&&(s=this.json(i),c+=s);var l=this.base64ToBinary(this.secret),h=this.hmac(this.encode(c),l,"sha512","base64");n.signature=this.decode(h)}else(0,a.default)(i).length&&(u+="?"+this.urlencode(i));return{url:u,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(a.length<2)&&"{"===a[0]){var s=JSON.parse(a);if("success"in s&&!s.success){var o=this.safeString(s,"errorCode"),u=this.id+" "+this.json(s);if(o in this.exceptions){throw new(0,this.exceptions[o])(u)}throw new C(u)}}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(623),w=r(437),x=w.ExchangeError;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"btctradeim",name:"BtcTrade.im",countries:"HK",urls:{logo:"https://user-images.githubusercontent.com/1294454/36770531-c2142444-1c5b-11e8-91e2-a4d90dc85fe8.jpg",api:{web:"https://api.btctrade.im/coin",rest:"https://api.btctrade.im/api/v1"},www:"https://www.btctrade.im",doc:"https://www.btctrade.im/help.api.html",fees:"https://www.btctrade.im/spend.price.html"},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001}}}})}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,o,u,d,c,l);case 2:if(r=e.sent,"web"!==o){e.next=5;break}return e.abrupt("return",r);case 5:if(!(i=this.safeValue(r,"data"))){e.next=12;break}if("0"===(n=this.safeString(r,"code"))){e.next=11;break}throw s=this.safeString(r,"msg","Error"),new x(s);case 11:return e.abrupt("return",i);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btctradeua",name:"BTC Trade UA",countries:"UA",rateLimit:3e3,has:{CORS:!0,createMarketOrder:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}},{key:"signIn",value:function(){return this.privatePostAuth()}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalance();case 2:if(t=e.sent,r={info:t},"accounts"in t)for(i=t.accounts,n=0;n<i.length;n++)a=i[n],s=a.currency,u=parseFloat(a.balance),r[s]={free:u,used:0,total:u};return e.abrupt("return",this.parseBalance(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTradesBuySymbol(this.extend({symbol:r.id},s));case 3:return i=e.sent,e.next=6,this.publicGetTradesSellSymbol(this.extend({symbol:r.id},s));case 6:return n=e.sent,a={bids:[],asks:[]},i&&"list"in i&&(a.bids=i.list),n&&"list"in n&&(a.asks=n.list),e.abrupt("return",this.parseOrderBook(a,void 0,"bids","asks","price","currency_trade"));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetJapanStatHighSymbol(this.extend({symbol:this.marketId(t)},h));case 2:if(r=e.sent,i=r.trades,n=this.milliseconds(),a={symbol:t,timestamp:n,datetime:this.iso8601(n),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:i},(s=i.length)>0){for(u=Math.max(s-48,0),d=u;d<i.length;d++)c=i[d],"undefined"===typeof a.open&&(a.open=c[1]),("undefined"===typeof a.high||a.high<c[2])&&(a.high=c[2]),("undefined"===typeof a.low||a.low>c[3])&&(a.low=c[3]),"undefined"===typeof a.baseVolume?a.baseVolume=-c[5]:a.baseVolume-=c[5];l=s-1,a.last=i[l][4],a.close=a.last,a.baseVolume=-1*a.baseVolume}return e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"convertCyrillicMonthNameToString",value:function(e){var t={"\u044f\u043d\u0432\u0430\u0440\u044f":"01","\u0444\u0435\u0432\u0440\u0430\u043b\u044f":"02","\u043c\u0430\u0440\u0442\u0430":"03","\u0430\u043f\u0440\u0435\u043b\u044f":"04","\u043c\u0430\u044f":"05","\u0438\u044e\u043d\u044f":"06","\u0438\u044e\u043b\u044f":"07","\u0430\u0432\u0433\u0443\u0441\u0442\u0430":"08","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":"09","\u043e\u043a\u0442\u044f\u0431\u0440\u044f":"10","\u043d\u043e\u044f\u0431\u0440\u044f":"11","\u0434\u0435\u043a\u0430\u0431\u0440\u044f":"12"},r=void 0;return e in t&&(r=t[e]),r}},{key:"parseCyrillicDatetime",value:function(e){var t=e.split(" "),r=t[0],i=this.convertCyrillicMonthNameToString(t[1]);if(!i)throw new C(this.id+" parseTrade() undefined month name: "+e);var n=t[2],a=t[4];7===a.length&&(a="0"+a),1===r.length&&(r="0"+r);var s=[n,i,r].join("-"),o=s+"T"+a,u=this.parse8601(o),d=[i,r].join("");return d=parseInt(d),d<325||d>1028?u-72e5:u-108e5}},{key:"parseTrade",value:function(e,t){var r=this.parseCyrillicDatetime(e.pub_date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:"limit",side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amnt_trade")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetDealsSymbol(this.extend({symbol:r.id},d));case 3:for(i=e.sent,n=[],a=0;a<i.length;a++)i[a].id%2&&n.push(i[a]);return e.abrupt("return",this.parseTrades(n,r,s,u));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return a=this.market(t),s="privatePost"+this.capitalize(i)+"Id",u={count:n,currency1:a.quote,currency:a.base,price:d},e.abrupt("return",this[s](this.extend(u,c)));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostRemoveOrderId({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e,t){var r=this.milliseconds;return{id:e.id,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:void 0,side:e.type,price:e.price,amount:e.amnt_trade,filled:0,remaining:e.amnt_trade,trades:void 0,info:e}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" fetchOpenOrders requires a symbol argument");case 2:return t=this.market(n),e.next=5,this.privatePostMyOrdersSymbol(this.extend({symbol:t.id},u));case 5:return r=e.sent,i=r.your_open_orders,e.abrupt("return",this.parseOrders(i,t,a,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+=this.implodeParams(e,u));else{this.checkRequiredCredentials();var d=this.nonce();s=this.urlencode(this.extend({out_order_id:d,nonce:d},u));var c=s+this.secret;n={"public-key":this.apiKey,"api-sign":this.hash(this.encode(c),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"btcx",name:"BTCX",countries:["IS","US","EU"],rateLimit:1500,version:"v1",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766385-9fdcc98c-5ed6-11e7-8f14-66d5e5cd47e6.jpg",api:"https://btc-x.is/api",www:"https://btc-x.is",doc:"https://btc-x.is/custom/api-document.html"},api:{public:{get:["depth/{id}/{limit}","ticker/{id}","trade/{id}/{limit}"]},private:{post:["balance","cancel","history","order","redeem","trade","withdraw"]}},markets:{"BTC/USD":{id:"btc/usd",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/EUR":{id:"btc/eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalance();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(t),n=0;n<i.length;n++)s=i[n],u=s.toUpperCase(),d={free:t[s],used:0,total:t[s]},r[u]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:this.marketId(t)},"undefined"!==typeof n&&(r.limit=n),e.next=4,this.publicGetDepthIdLimit(this.extend(r,s));case 4:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickerId(this.extend({id:this.marketId(t)},n));case 2:return r=e.sent,i=1e3*r.time,e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"sell"),ask:this.safeFloat(r,"buy"),vwap:void 0,open:void 0,close:void 0,first:void 0,last:this.safeFloat(r,"last"),change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(r,"volume"),info:r});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date),i="ask"===e.type?"sell":"buy";return{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:i,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTradeIdLimit(this.extend({id:r.id,limit:1e3},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostTrade(this.extend({type:i.toUpperCase(),market:this.marketId(t),amount:n,price:o},u));case 2:return s=e.sent,e.abrupt("return",{info:s,id:s.order.id});case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancel({order:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/";if("public"===t)s+=this.implodeParams(e,i);else{this.checkRequiredCredentials();var o=this.nonce();s+=t,a=this.urlencode(this.extend({Method:e.toUpperCase(),Nonce:o},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Signature:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("error"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"bxinth",name:"BX.in.th",countries:"TH",rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766412-567b1eb4-5ed7-11e7-94a8-ff6a3884f6c5.jpg",api:"https://bx.in.th/api",www:"https://bx.in.th",doc:"https://bx.in.th/info/api"},api:{public:{get:["","options","optionbook","orderbook","pairing","trade","tradehistory"]},private:{post:["balance","biller","billgroup","billpay","cancel","deposit","getorders","history","option-issue","option-bid","option-sell","option-myissue","option-mybid","option-myoptions","option-exercise","option-cancel","option-history","order","withdrawal","withdrawal-history"]}},fees:{trading:{taker:.0025,maker:.0025}},commonCurrencies:{DAS:"DASH",DOG:"DOGE"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairing();case 2:for(t=e.sent,r=(0,o.default)(t),i=[],n=0;n<r.length;n++)s=t[r[n]],u=s.pairing_id.toString(),d=s.secondary_currency,c=s.primary_currency,d=this.commonCurrencyCode(d),c=this.commonCurrencyCode(c),l=d+"/"+c,i.push({id:u,symbol:l,base:d,quote:c,info:s});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:for(t=e.sent,r=t.balance,i={info:r},n=(0,o.default)(r),s=0;s<n.length;s++)u=n[s],d=this.commonCurrencyCode(u),c={free:parseFloat(r[u].available),used:0,total:parseFloat(r[u].total)},c.used=c.total-c.free,i[d]=c;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbook(this.extend({pairing:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last_price");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.orderbook.bids.highbid),bidVolume:void 0,ask:parseFloat(e.orderbook.asks.highbid),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_24hours"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGet(l);case 4:for(t=e.sent,r={},i=(0,o.default)(t),n=0;n<i.length;n++)s=i[n],u=t[s],d=this.markets_by_id[s],c=d.symbol,r[c]=this.parseTicker(u,d);return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGet(this.extend({pairing:r.id},o));case 5:return i=e.sent,n=r.id.toString(),s=i[n],e.abrupt("return",this.parseTicker(s,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.trade_date);return{id:e.trade_id,info:e,order:e.order_id,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.trade_type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrade(this.extend({pairing:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.trades,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrder(this.extend({pairing:this.marketId(t),type:i,amount:n,rate:o},u));case 4:return s=e.sent,e.abrupt("return",{info:s,id:s.order_id.toString()});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,e.next=5,this.privatePostCancel({order_id:t,pairing:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.safeString(t,"order_type"),i=void 0,"undefined"===typeof d&&"undefined"!==typeof(n=this.safeString(t,"pairing_id"))&&n in this.markets_by_id&&(d=this.markets_by_id[n]),"undefined"!==typeof d&&(i=d.symbol),s=this.parse8601(t.date),o=this.safeFloat(t,"rate"),u=this.safeFloat(t,"amount"),e.abrupt("return",{info:t,id:t.order_id,timestamp:s,datetime:this.iso8601(s),symbol:i,type:"limit",side:r,price:o,amount:u});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,"undefined"!==typeof s&&(r=this.market(s),t.pairing=r.id),i=this.privatePostGetorders(this.extend(t,d)),n=this.parseOrders(i.orders,r,o,u),e.abrupt("return",this.filterBySymbol(n,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/";if(e&&(s+=e+"/"),(0,o.default)(i).length&&(s+="?"+this.urlencode(i)),"private"===t){this.checkRequiredCredentials();var u=this.nonce(),d=this.apiKey+u.toString()+this.secret,c=this.hash(this.encode(d),"sha256");a=this.urlencode(this.extend({key:this.apiKey,nonce:u,signature:c},i)),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(r=e.sent,"public"!==i){e.next=5;break}return e.abrupt("return",r);case 5:if(!("success"in r)){e.next=8;break}if(!r.success){e.next=8;break}return e.abrupt("return",r);case 8:throw new C(this.id+" "+this.json(r));case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"ccex",name:"C-CEX",countries:["DE","EU"],rateLimit:1500,has:{CORS:!1,fetchTickers:!0,fetchOrderBooks:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766433-16881f90-5ed8-11e7-92f8-3d92cc747a6c.jpg",api:{web:"https://c-cex.com/t",public:"https://c-cex.com/t/api_pub.html",private:"https://c-cex.com/t/api.html"},www:"https://c-cex.com",doc:"https://c-cex.com/?id=api"},api:{web:{get:["coinnames","{market}","pairs","prices","volume_{coin}"]},public:{get:["balancedistribution","markethistory","markets","marketsummaries","orderbook","fullorderbook"]},private:{get:["buylimit","cancel","getbalance","getbalances","getopenorders","getorder","getorderhistory","mytrades","selllimit"]}},fees:{trading:{taker:.002,maker:.002}},commonCurrencies:{BLC:"Cryptobullcoin",CRC:"CoreCoin",IOT:"IoTcoin",LUX:"Luxmi",VIT:"VitalCoin",XID:"InternationalDiamond"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,this.webGetPairs();case 3:for(r=e.sent,i=r.pairs,n=0;n<i.length;n++)a=i[n],s=a.split("-"),u=(0,d.default)(s,2),c=u[0],l=u[1],h=c.toUpperCase(),f=l.toUpperCase(),h=this.commonCurrencyCode(h),f=this.commonCurrencyCode(f),p=h+"/"+f,t[p]={id:a,symbol:p,base:h,quote:f,baseId:c,quoteId:l,info:a};return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetGetbalances();case 4:for(t=e.sent,r=t.result,i={info:r},n=0;n<r.length;n++)a=r[n],s=a.Currency,u=this.commonCurrencyCode(s),d={free:a.Available,used:a.Pending,total:a.Balance},i[u]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={market:this.marketId(t),type:"both"},"undefined"!==typeof a&&(r.depth=a),e.next=6,this.publicGetOrderbook(this.extend(r,s));case 6:return i=e.sent,n=i.result,e.abrupt("return",this.parseOrderBook(n,void 0,"buy","sell","Rate","Quantity"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBooks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k,b,g,w,x,T,C,_,O;arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},e.next=5,this.publicGetFullorderbook();case 5:for(r=e.sent,i=(0,a.default)(r.result),n=0;n<i.length;n++)for(s=i[n],u=r.result[s],c=this.groupBy(u,"Market"),l=(0,a.default)(c),h=0;h<l.length;h++)f=l[h],p=f.toUpperCase(),v=s,p in this.markets_by_id?(m=this.markets_by_id[p],p=m.symbol):(y=p.split("-"),k=(0,d.default)(y,2),b=k[0],g=k[1],(w=g+"-"+b)in this.markets_by_id&&(x=this.markets_by_id[w],p=x.symbol)),p in t||(t[p]={}),t[p][v]=c[f];for(T={},C=(0,a.default)(t),_=0;_<C.length;_++)O=C[_],T[O]=this.parseOrderBook(t[O],void 0,"buy","sell","Rate","Quantity");return e.abrupt("return",T);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,i=void 0;"undefined"!==typeof t&&(i=t.symbol);var n=this.safeFloat(e,"lastprice");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"buysupport"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.webGetPrices(y);case 4:for(t=e.sent,r={},i=(0,a.default)(t),n=0;n<i.length;n++)s=i[n],u=t[s],c=void 0,l=void 0,s in this.markets_by_id?(c=this.markets_by_id[s],l=c.symbol):(h=s.toUpperCase(),f=h.split("-"),p=(0,d.default)(f,2),v=p[0],m=p[1],v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(m),l=v+"/"+m),r[l]=this.parseTicker(u,c);return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.webGetMarket(this.extend({market:r.id.toLowerCase()},a));case 5:return i=e.sent,n=i.ticker,e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.TimeStamp);return{id:e.Id.toString(),info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.OrderType.toLowerCase(),price:e.Price,amount:e.Quantity}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarkethistory(this.extend({market:r.id,type:"both",depth:100},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.result,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="privateGet"+this.capitalize(i)+r,e.next=5,this[a](this.extend({market:this.marketId(t),quantity:n,rate:u},d));case 5:return s=e.sent,e.abrupt("return",{info:s,id:s.result.uuid});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetCancel({uuid:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t];if("private"===t){this.checkRequiredCredentials();var o=this.nonce().toString(),u=this.keysort(this.extend({a:e,apikey:this.apiKey,nonce:o},i));s+="?"+this.urlencode(u),n={apisign:this.hmac(this.encode(s),this.encode(this.secret),"sha512")}}else s+="public"===t?"?"+this.urlencode(this.extend({a:"get"+e},i)):"/"+this.implodeParams(e,i)+".json";return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(r=e.sent,"web"!==i){e.next=5;break}return e.abrupt("return",r);case 5:if(!("success"in r)){e.next=8;break}if(!r.success){e.next=8;break}return e.abrupt("return",r);case 8:throw new O(this.id+" "+this.json(r));case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(505),d=i(u),c=r(439),l=i(c),h=r(435),f=i(h),p=r(429),v=i(p),m=r(430),y=i(m),k=r(431),b=i(k),g=r(432),w=i(g),x=r(434),T=i(x),C=r(433),_=i(C),O=r(438),B=r(437),S=B.ExchangeError,M=B.NullResponse,I=B.InvalidOrder,E=B.NotSupported;e.exports=function(e){function t(){return(0,y.default)(this,t),(0,w.default)(this,(t.__proto__||(0,v.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,b.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,T.default)(t.prototype.__proto__||(0,v.default)(t.prototype),"describe",this).call(this),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},options:{fetchOHLCVWarning:!0}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,h,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyLimits();case 2:for(t=e.sent,r=[],i=0;i<t.data.pairs.length;i++)n=t.data.pairs[i],a=n.symbol1+"/"+n.symbol2,s=a,u=s.split("/"),c=(0,l.default)(u,2),h=c[0],f=c[1],r.push({id:a,info:n,symbol:s,base:h,quote:f,lot:n.minLotSize,precision:{price:this.precisionFromString(n.minPrice),amount:-1*(0,d.default)(n.minLotSize)},limits:{amount:{min:n.minLotSize,max:n.maxLotSize},price:{min:this.safeFloat(n,"minPrice"),max:this.safeFloat(n,"maxPrice")},cost:{min:n.minLotSizeS2,max:void 0}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:for(t=e.sent,r={info:t},i=["username","timestamp"],n=this.omit(t,i),s=(0,a.default)(n),u=0;u<s.length;u++)(d=s[u])in n&&(c={free:this.safeFloat(n[d],"available",0),used:this.safeFloat(n[d],"orders",0),total:0},c.total=this.sum(c.free,c.used),r[d]=c);return e.abrupt("return",this.parseBalance(r));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderBookPair(this.extend({pair:this.marketId(t)},n));case 4:return r=e.sent,i=1e3*r.timestamp,e.abrupt("return",this.parseOrderBook(r,i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(r=this.market(t),c){e.next=7;break}c=this.milliseconds()-864e5,e.next=9;break;case 7:if(!this.options.fetchOHLCVWarning){e.next=9;break}throw new S(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null response. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");case 9:return i=this.ymd(c),i=i.split("-"),i=i.join(""),n={pair:r.id,yyyymmdd:i},e.prev=13,e.next=16,this.publicGetOhlcvHdYyyymmddPair(this.extend(n,h));case 16:return a=e.sent,s="data"+this.timeframes[d],u=JSON.parse(a[s]),e.abrupt("return",this.parseOHLCVs(u,r,d,c,l));case 22:if(e.prev=22,e.t0=e.catch(13),!(e.t0 instanceof M)){e.next=26;break}return e.abrupt("return",[]);case 26:case"end":return e.stop()}},e,this,[[13,22]])}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0;"timestamp"in e&&(r=1e3*parseInt(e.timestamp),i=this.iso8601(r));var n=this.safeFloat(e,"volume"),a=this.safeFloat(e,"high"),s=this.safeFloat(e,"low"),o=this.safeFloat(e,"bid"),u=this.safeFloat(e,"ask"),d=this.safeFloat(e,"last"),c=void 0;return t&&(c=t.symbol),{symbol:c,timestamp:r,datetime:i,high:a,low:s,bid:o,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=(0,a.default)(this.currencies),e.next=5,this.publicGetTickersCurrencies(this.extend({currencies:t.join("/")},l));case 5:for(r=e.sent,i=r.data,n={},s=0;s<i.length;s++)u=i[s],d=u.pair.replace(":","/"),c=this.markets[d],n[d]=this.parseTicker(u,c);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerPair(this.extend({pair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date);return{info:e,id:e.tid,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradeHistoryPair(this.extend({pair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(a={pair:this.marketId(t),type:i,amount:n},"limit"!==r){e.next=7;break}a.price=u,e.next=12;break;case 7:if("buy"!==i){e.next=11;break}if(u){e.next=10;break}throw new I("For market buy orders "+this.id+" requires the amount of quote currency to spend, to calculate proper costs call createOrder (symbol, 'market', 'buy', amount, price)");case 10:a.amount=n*u;case 11:a.order_type=r;case 12:return e.next=14,this.privatePostPlaceOrderPair(this.extend(a,d));case 14:return s=e.sent,e.abrupt("return",{info:s,id:s.id});case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time;r="string"===typeof e.time&&e.time.indexOf("T")>=0?this.parse8601(r):parseInt(r);var i=void 0;if(!t){var n=e.symbol1+"/"+e.symbol2;n in this.markets&&(t=this.market(n))}var a=e.status;"a"===a?a="open":"cd"===a?a="canceled":"c"===a?a="canceled":"d"===a&&(a="closed");var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount"),u=this.safeFloat(e,"pending");u||(u=this.safeFloat(e,"remains"));var d=o-u,c=void 0,l=void 0;if(t){i=t.symbol,l=this.safeFloat(e,"ta:"+t.quote),"undefined"===typeof l&&(l=this.safeFloat(e,"tta:"+t.quote));var h="fa:"+t.base,f="tfa:"+t.base,p="fa:"+t.quote,v="tfa:"+t.quote,m=this.safeFloat(e,"tradingFeeMaker");if(m||(m=this.safeFloat(e,"tradingFeeTaker",m)),m&&(m/=100),h in e||f in e){var y=this.safeFloat(e,h);"undefined"===typeof y&&(y=this.safeFloat(e,f)),c={currency:t.base,rate:m,cost:y}}else if(p in e||v in e){var k=this.safeFloat(e,p);"undefined"===typeof k&&(k=this.safeFloat(e,v)),c={currency:t.quote,rate:m,cost:k}}}return l||(l=s*d),{id:e.id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:a,symbol:i,type:void 0,side:e.type,price:s,cost:l,amount:o,filled:d,remaining:u,trades:void 0,fee:c,info:e}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r="privatePostOpenOrders",i=void 0,s&&(i=this.market(s),t.pair=i.id,r+="Pair"),e.next=8,this[r](this.extend(t,c));case 8:for(n=e.sent,a=0;a<n.length;a++)n[a]=this.extend(n[a],{status:"open"});return e.abrupt("return",this.parseOrders(n,i,u,d));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t="privatePostArchivedOrdersPair","undefined"!==typeof a){e.next=5;break}throw new E(this.id+" fetchClosedOrders requires a symbol argument");case 5:return r=this.market(a),i={pair:r.id},e.next=9,this[t](this.extend(i,d));case 9:return n=e.sent,e.abrupt("return",this.parseOrders(n,r,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetOrder(this.extend({id:t.toString()},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=d+this.uid+this.apiKey,l=this.hmac(this.encode(c),this.encode(this.secret));s=this.urlencode(this.extend({key:this.apiKey,signature:l.toUpperCase(),nonce:d},u)),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(r=e.sent){e.next=7;break}throw new M(this.id+" returned "+this.json(r));case 7:if(!0!==r){e.next=11;break}return e.abrupt("return",r);case 11:if(!("e"in r)){e.next=18;break}if(!("ok"in r)){e.next=15;break}if("ok"!==r.ok){e.next=15;break}return e.abrupt("return",r);case 15:throw new S(this.id+" "+this.json(r));case 18:if(!("error"in r)){e.next=21;break}if(!r.error){e.next=21;break}throw new S(this.id+" "+this.json(r));case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("XRP"!==t){e.next=2;break}throw new E(this.id+" fetchDepositAddress does not support XRP addresses yet (awaiting docs from CEX.io)");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.currency(t),i={currency:r.id},e.next=8,this.privatePostGetAddress(this.extend(i,s));case 8:return n=e.sent,a=this.safeString(n,"data"),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,tag:void 0,status:"ok",info:n});case 12:case"end":return e.stop()}},e,this)}));return e}()}]),t}(O)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(622),w=r(437),x=w.ExchangeError;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"chbtc",name:"CHBTC",countries:"CN",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28555659-f0040dc2-7109-11e7-9d99-688a438bf9f4.jpg",api:{public:"http://api.chbtc.com/data",private:"https://trade.chbtc.com/api"},www:"https://trade.chbtc.com/api",doc:"https://www.chbtc.com/i/developer"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY"},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY"},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY"},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY"},"BTS/CNY":{id:"bts_cny",symbol:"BTS/CNY",base:"BTS",quote:"CNY"},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY"},"HSR/CNY":{id:"hsr_cny",symbol:"HSR/CNY",base:"HSR",quote:"CNY"},"QTUM/CNY":{id:"qtum_cny",symbol:"QTUM/CNY",base:"QTUM",quote:"CNY"}}})}},{key:"getMarketFieldName",value:function(){return"currency"}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(r=e.sent,"private"!==i){e.next=6;break}if(!("code"in r)){e.next=6;break}throw new x(this.id+" "+this.json(r));case 6:if(!("result"in r)){e.next=9;break}if(r.result){e.next=9;break}throw new x(this.id+" "+this.json(r));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(506);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"chilebit",name:"ChileBit",countries:"CL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991414-1298f0d8-647f-11e7-9c40-d56409266336.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://chilebit.net",doc:"https://blinktrade.com/docs"},options:{brokerId:"9"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.InvalidNonce;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"cobinhood",name:"COBINHOOD",countries:"TW",rateLimit:100,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchDepositAddress:!0,createDepositAddress:!0,withdraw:!0},requiredCredentials:{apiKey:!0,secret:!1},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","7d":"7D","14d":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/35755576-dee02e5c-0878-11e8-989f-1595d80ba47f.jpg",api:{web:"https://api.cobinhood.com/v1",ws:"wss://feed.cobinhood.com"},www:"https://cobinhood.com",doc:"https://cobinhood.github.io/api-public"},api:{system:{get:["info","time","messages","messages/{message_id}"]},admin:{get:["system/messages","system/messages/{message_id}"],post:["system/messages"],patch:["system/messages/{message_id}"],delete:["system/messages/{message_id}"]},public:{get:["market/tickers","market/currencies","market/trading_pairs","market/orderbooks/{trading_pair_id}","market/stats","market/tickers/{trading_pair_id}","market/trades/{trading_pair_id}","chart/candles/{trading_pair_id}"]},private:{get:["trading/orders/{order_id}","trading/orders/{order_id}/trades","trading/orders","trading/order_history","trading/trades/{trade_id}","wallet/balances","wallet/ledger","wallet/deposit_addresses","wallet/withdrawal_addresses","wallet/withdrawals/{withdrawal_id}","wallet/withdrawals","wallet/deposits/{deposit_id}","wallet/deposits"],post:["trading/orders","wallet/deposit_addresses","wallet/withdrawal_addresses","wallet/withdrawals"],delete:["trading/orders/{order_id}"]}},fees:{trading:{maker:0,taker:0}},precision:{amount:8,price:8},exceptions:{insufficient_balance:_,invalid_nonce:O}})}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketCurrencies(c);case 2:for(t=e.sent,r=t.result.currencies,i={},n=0;n<r.length;n++)a=r[n],s=a.currency,u=this.commonCurrencyCode(s),d=this.safeFloat(a,"min_unit"),i[u]={id:s,code:u,name:a.name,active:!0,status:"ok",fiat:!1,precision:this.precisionFromString(a.min_unit),limits:{amount:{min:d,max:void 0},price:{min:d,max:void 0},deposit:{min:d,max:void 0},withdraw:{min:d,max:void 0}},funding:{withdraw:{fee:this.safeFloat(a,"withdrawal_fee")},deposit:{fee:this.safeFloat(a,"deposit_fee")}},info:a};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketTradingPairs();case 2:for(t=e.sent,r=t.result.trading_pairs,i=[],n=0;n<r.length;n++)s=r[n],u=s.id,d=u.split("-"),c=(0,a.default)(d,2),l=c[0],h=c[1],f=this.commonCurrencyCode(l),p=this.commonCurrencyCode(h),v=f+"/"+p,m={amount:8,price:this.precisionFromString(s.quote_increment)},y=this.safeValue(s,"is_active",!0),i.push({id:u,symbol:v,base:f,quote:p,baseId:l,quoteId:h,active:y,precision:m,limits:{amount:{min:this.safeFloat(s,"base_min_size"),max:this.safeFloat(s,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:s});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("undefined"===typeof t){var r=this.safeString(e,"trading_pair_id");t=this.findMarket(r)}var i=void 0;"undefined"!==typeof t&&(i=t.symbol);var n=this.safeInteger(e,"timestamp"),a=this.safeFloat(e,"last_trade_price");return{symbol:i,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"24h_high"),low:this.safeFloat(e,"24h_low"),bid:this.safeFloat(e,"highest_bid"),bidVolume:void 0,ask:this.safeFloat(e,"lowest_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"percentChanged24hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"24h_volume"),quoteVolume:this.safeFloat(e,"quote_volume"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketTickersTradingPairId(this.extend({trading_pair_id:r.id},a));case 5:return i=e.sent,n=i.result.ticker,e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketTickers(a);case 4:for(t=e.sent,r=t.result.tickers,i=[],n=0;n<r.length;n++)i.push(this.parseTicker(r[n]));return e.abrupt("return",this.indexBy(i,"symbol"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={trading_pair_id:this.marketId(t)},"undefined"!==typeof n&&(r.limit=n),e.next=6,this.publicGetMarketOrderbooksTradingPairId(this.extend(r,a));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i.result.orderbook,void 0,"bids","asks",0,2));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var i=e.timestamp,n=this.safeFloat(e,"price"),a=this.safeFloat(e,"size"),s=parseFloat(this.costToPrecision(r,n*a)),o="bid"===e.maker_side?"sell":"buy";return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,id:e.id,order:void 0,type:void 0,side:o,price:n,amount:a,cost:s,fee:void 0}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketTradesTradingPairId(this.extend({trading_pair_id:r.id,limit:s},u));case 5:return i=e.sent,n=i.result.trades,e.abrupt("return",this.parseTrades(n,r,a,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.timestamp,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.milliseconds(),n={trading_pair_id:r.id,timeframe:this.timeframes[u],end_time:i},"undefined"!==typeof d&&(n.start_time=d),e.next=8,this.publicGetChartCandlesTradingPairId(this.extend(n,l));case 8:return a=e.sent,s=a.result.candles,e.abrupt("return",this.parseOHLCVs(s,r,u,d,c));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetWalletBalances(d);case 4:for(t=e.sent,r={info:t},i=t.result.balances,n=0;n<i.length;n++)a=i[n],s=a.currency,s in this.currencies_by_id&&(s=this.currencies_by_id[s].code),u={used:parseFloat(a.on_order),total:parseFloat(a.total)},u.free=parseFloat(u.total-u.used),r[s]=u;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if("undefined"===typeof t){var i=this.safeString(e,"trading_pair");"undefined"===typeof i&&(i=this.safeString(e,"trading_pair_id")),t=this.markets_by_id[i]}"undefined"!==typeof t&&(r=t.symbol);var n=e.timestamp,a=this.safeFloat(e,"eq_price"),s=this.safeFloat(e,"size"),o=this.safeFloat(e,"filled"),u=s-o,d=e.state;d="filled"===d?"closed":"cancelled"===d?"canceled":"open";var c="bid"===e.side?"buy":"sell";return{id:e.id,datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:d,symbol:r,type:e.type,side:c,price:a,cost:a*s,amount:s,filled:o,remaining:u,trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),i="sell"===i?"ask":"bid",s={trading_pair_id:a.id,type:r,side:i,size:this.amountToString(t,n)},"market"!==r&&(s.price=this.priceToPrecision(t,l)),e.next=8,this.privatePostTradingOrders(this.extend(s,h));case 8:return u=e.sent,d=this.parseOrder(u.result.order,a),c=d.id,this.orders[c]=d,e.abrupt("return",d);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateDeleteTradingOrdersOrderId(this.extend({order_id:t},i));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTradingOrdersOrderId(this.extend({order_id:t.toString()},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r.result.order));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTradingOrders(s);case 4:if(t=e.sent,r=this.parseOrders(t.result.orders,void 0,n,a),"undefined"===typeof i){e.next=8;break}return e.abrupt("return",this.filterBySymbol(r,i));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTradingOrdersOrderIdTrades(this.extend({order_id:t},a));case 4:return r=e.sent,i="undefined"===typeof n?void 0:this.market(n),e.abrupt("return",this.parseTrades(r.result.trades,i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostWalletDepositAddresses({currency:r.id});case 5:return i=e.sent,n=this.safeString(i.result.deposit_address,"address"),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:"ok",info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetWalletDepositAddresses(this.extend({currency:r.id},s));case 5:return i=e.sent,n=this.safeValue(i.result,"deposit_addresses",[]),a=void 0,n.length>0&&(a=this.safeString(n[0],"address")),this.checkAddress(a),e.abrupt("return",{currency:t,address:a,status:"ok",info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return n=this.currency(t),e.next=5,this.privatePostWalletWithdrawals(this.extend({currency:n.id,amount:r,address:i},s));case 5:return a=e.sent,e.abrupt("return",{id:a.result.withdrawal_id,info:a});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api.web+"/"+this.implodeParams(e,i),o=this.omit(i,this.extractParams(e));return n={},"private"===t&&(this.checkRequiredCredentials(),n.nonce=this.nonce().toString(),n.Authorization=this.apiKey),"GET"===r?(o=this.urlencode(o),o.length&&(s+="?"+o)):(n["Content-type"]="application/json; charset=UTF-8",a=this.json(o)),{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(e<400||e>=600)){if("{"!==a[0])throw new C(this.id+" "+a);var s=JSON.parse(a),o=this.safeValue(s.error,"error_code"),u=this.id+" "+this.json(s),d=this.exceptions;if(o in d)throw new d[o](u);throw new C(u)}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.DDoSProtection;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinbase",name:"coinbase",countries:"US",rateLimit:1e3,version:"v2",userAgent:this.userAgents.chrome,has:{CORS:!0,cancelOrder:!1,createDepositAddress:!1,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchMarkets:!1,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchOrders:!1,fetchTicker:!1,fetchTickers:!1,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!1,fetchWithdrawals:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{currency_pair}/buy","prices/{currency_pair}/sell","prices/{currency_pair}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{two_factor_required:_,param_required:C,validation_error:C,invalid_request:C,personal_details_required:_,identity_verification_required:_,jumio_verification_required:_,jumio_face_match_verification_required:_,unverified_email:_,authentication_error:_,invalid_token:_,revoked_token:_,expired_token:_,invalid_scope:_,not_found:C,rate_limit_exceeded:O,internal_server_error:C},markets:{"BTC/USD":{id:"btc-usd",symbol:"BTC/USD",base:"BTC",quote:"USD"},"LTC/USD":{id:"ltc-usd",symbol:"LTC/USD",base:"LTC",quote:"USD"},"ETH/USD":{id:"eth-usd",symbol:"ETH/USD",base:"ETH",quote:"USD"},"BCH/USD":{id:"bch-usd",symbol:"BCH/USD",base:"BCH",quote:"USD"}}})}},{key:"fetchTime",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,e.abrupt("return",this.parse8601(t.data.iso));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetAccounts();case 2:for(t=e.sent,r={info:t},i=0;i<t.data.length;i++)n=t.data[i],a=n.balance.currency,s={free:this.safeFloat(n.balance,"amount"),used:void 0,total:this.safeFloat(n.balance,"amount")},r[a]=s;return e.abrupt("return",this.parseBalance(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));"GET"===r&&(0,a.default)(u).length&&(o+="?"+this.urlencode(u));var d=this.urls.api+"/"+this.version+o;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),l="";"GET"!==r&&(0,a.default)(u).length&&(s=this.json(u),l=s);var h=c+r+"/"+this.version+o+l,f=this.hmac(this.encode(h),this.secret);n={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":this.decode(f),"CB-ACCESS-TIMESTAMP":c,"CB-VERSION":"2018-05-30","Content-Type":"application/json"}}return n||(n={"CB-VERSION":"2018-05-30"}),{url:d,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a),o=this.id+" "+a,u=this.exceptions,d=this.safeString(s,"error");if("undefined"!==typeof d)throw d in u?new u[d](o):new C(o);var c=this.safeValue(s,"errors");if("undefined"!==typeof c&&Array.isArray(c)){if(c.length>0&&"undefined"!==typeof(d=this.safeString(c[0],"id")))throw d in u?new u[d](o):new C(o)}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766464-3b5c3c74-5ed9-11e7-840e-31b32968e1da.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api"},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY"}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetAccountsBalance();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d=this.account(),u in t&&(d.free=parseFloat(t[u])),c=u+"_reserved",c in t&&(d.used=parseFloat(t[c])),d.total=this.sum(d.free,d.used),r[s]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/JPY"===t){e.next=2;break}throw new _(this.id+" fetchOrderBook () supports BTC/JPY only");case 2:return e.next=4,this.publicGetOrderBooks(i);case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/JPY"===t){e.next=2;break}throw new _(this.id+" fetchTicker () supports BTC/JPY only");case 2:return e.next=4,this.publicGetTicker(s);case 4:return r=e.sent,i=1e3*r.timestamp,n=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,"volume"),quoteVolume:void 0,info:r});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.order_type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount"),info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("BTC/JPY"===t){e.next=2;break}throw new _(this.id+" fetchTrades () supports BTC/JPY only");case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({pair:r.id},o));case 5:if(!("success"in(i=e.sent))){e.next=10;break}if(!i.success){e.next=10;break}if("undefined"===typeof i.data){e.next=10;break}return e.abrupt("return",this.parseTrades(i.data,r,n,s));case 10:throw new C(this.id+" "+this.json(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={pair:this.marketId(t)},"market"===r?(o=r+"_"+i,s.order_type=o,u="buy"===i?o+"_":"",s[u+"amount"]=n):(s.order_type=i,s.rate=c,s.amount=n),e.next=4,this.privatePostExchangeOrders(this.extend(s,l));case 4:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateDeleteExchangeOrdersId({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,o.default)(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c="";"GET"===r?(0,o.default)(u).length&&(s+="?"+this.urlencode(this.keysort(u))):(0,o.default)(u).length&&(a=this.urlencode(this.keysort(u)),c=a);var l=d+s+c;n={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":d,"ACCESS-SIGNATURE":this.hmac(this.encode(l),this.encode(this.secret))}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(r=e.sent,"public"!==i){e.next=5;break}return e.abrupt("return",r);case 5:if(!("success"in r)){e.next=8;break}if(!r.success){e.next=8;break}return e.abrupt("return",r);case 8:throw new C(this.id+" "+this.json(r));case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.OrderNotFound,B=T.InvalidOrder,S=T.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinex",name:"CoinEx",version:"v1",countries:"CN",rateLimit:1e3,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38046312-0b450aac-32c8-11e8-99ab-bc6b136b6cc7.jpg",api:{public:"https://api.coinex.com",private:"https://api.coinex.com",web:"https://www.coinex.com"},www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees"},api:{web:{get:["res/market"]},public:{get:["market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance","order","order/pending","order/finished","order/finished/{id}","order/user/deals"],post:["order/limit","order/market"],delete:["order/pending"]}},fees:{trading:{maker:0,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webGetResMarket();case 2:for(t=e.sent,r=t.data.market_info,i=[],n=(0,o.default)(r),s=0;s<n.length;s++)u=n[s],d=r[u],c=d.market,l=d.buy_asset_type,h=d.sell_asset_type,f=this.commonCurrencyCode(h),p=this.commonCurrencyCode(l),v=f+"/"+p,m={amount:d.sell_asset_type_places,price:d.buy_asset_type_places},y=d.merge.length,i.push({id:c,symbol:v,base:f,quote:p,baseId:h,quoteId:l,active:!0,taker:this.safeFloat(d,"taker_fee_rate"),maker:this.safeFloat(d,"maker_fee_rate"),info:d,precision:m,limits:{amount:{min:this.safeFloat(d,"least_amount"),max:void 0},price:{min:parseFloat(d.merge[y-1]),max:void 0}}});return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.date,i=t.symbol;e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketTicker(this.extend({market:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketTickerAll(p);case 4:for(t=e.sent,r=t.data,i=r.date,n=r.ticker,s=(0,o.default)(n),u={},d=0;d<s.length;d++)c=s[d],l=this.markets_by_id[c],h=l.symbol,f={date:i,ticker:n[c]},u[h]=this.parseTicker(f,l);return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketDepth(this.extend({market:this.marketId(t),merge:"0.00000001"},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r.data));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"create_time"),i=this.safeString(e,"id"),n=this.safeString(e,"id");r?i=void 0:(r=e.date,n=void 0),r*=1e3;var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=t.symbol,u=this.safeFloat(e,"deal_money");u||(u=parseFloat(this.costToPrecision(o,a*s)));var d=this.safeFloat(e,"fee");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:i,order:n,type:"limit",side:e.type,price:a,amount:s,cost:u,fee:d}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketDeals(this.extend({market:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.data,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketKline(this.extend({market:r.id,type:this.timeframes[n]},u));case 5:return i=e.sent,e.abrupt("return",this.parseOHLCVs(i.data,r,n,s,o));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalance(h);case 4:for(t=e.sent,r={info:t},i=t.data,n=(0,o.default)(i),s=0;s<n.length;s++)u=n[s],d=i[u],c=this.commonCurrencyCode(u),l={free:parseFloat(d.available),used:parseFloat(d.frozen),total:0},l.total=this.sum(l.free,l.used),r[c]=l;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*this.safeInteger(e,"create_time"),i=this.safeFloat(e,"price"),n=this.safeFloat(e,"deal_money"),a=this.safeFloat(e,"amount"),s=this.safeFloat(e,"deal_amount"),o=t.symbol,u=this.amountToPrecision(o,a-s),d=e.status;return d="done"===d?"closed":"open",{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:d,symbol:o,type:e.order_type,side:e.type,price:i,cost:n,amount:a,filled:s,remaining:u,trades:void 0,fee:{currency:t.quote,cost:this.safeFloat(e,"deal_fee")},info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s="privatePostOrder"+this.capitalize(r),o=this.market(t),n=parseFloat(n),u={market:o.id,amount:this.amountToPrecision(t,n),type:i},"limit"===r&&(h=parseFloat(h),u.price=this.priceToPrecision(t,h)),e.next=9,this[s](this.extend(u,f));case 9:return d=e.sent,c=this.parseOrder(d.data,o),l=c.id,this.orders[l]=c,e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateDeleteOrderPending(this.extend({id:t,market:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateGetOrder(this.extend({id:t,market:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i.data,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={market:t.id},s&&(r.limit=s),e.next=7,this.privateGetOrderPending(this.extend(r,o));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.data.data,t));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={market:t.id},s&&(r.limit=s),e.next=7,this.privateGetOrderFinished(this.extend(r,o));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.data.data,t));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privateGetOrderUserDeals(this.extend({market:t.id,page:1,limit:100},o));case 5:return r=e.sent,e.abrupt("return",this.parseTrades(r.data.data,t,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;e=this.implodeParams(e,i);var s=this.urls.api[t]+"/"+this.version+"/"+e,u=this.omit(i,this.extractParams(e));if("public"===t)(0,o.default)(u).length&&(s+="?"+this.urlencode(u));else if("web"===t)s=this.urls.api[t]+"/"+e,(0,o.default)(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce();u=this.extend({access_id:this.apiKey,tonce:d.toString()},u),u=this.keysort(u);var c=this.urlencode(u),l=this.hash(this.encode(c+"&secret_key="+this.secret));n={Authorization:l.toUpperCase(),"Content-Type":"application/json"},"GET"===r||"DELETE"===r?s+="?"+c:a=this.json(u)}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,u,d,c,l,h);case 2:if(r=e.sent,i=this.safeString(r,"code"),n=this.safeValue(r,"data"),"0"===i&&n){e.next=9;break}throw s={24:S,25:S,107:_,600:O,601:B,602:B,606:B},new(o=this.safeValue(s,i,C))(r.message);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(438),w=r(437),x=w.ExchangeError;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"coinexchange",name:"CoinExchange",countries:["IN","JP","KR","VN","US"],rateLimit:1e3,has:{privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchTrades:!1,fetchOHLCV:!1,fetchCurrencies:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34842303-29c99fca-f71c-11e7-83c1-09d900cb2334.jpg",api:"https://www.coinexchange.io/api/v1",www:"https://www.coinexchange.io",doc:"https://coinexchangeio.github.io/slate/",fees:"https://www.coinexchange.io/fees"},api:{public:{get:["getcurrency","getcurrencies","getmarkets","getmarketsummaries","getmarketsummary","getorderbook"]}},fees:{trading:{maker:.0015,taker:.0015},funding:{withdraw:{1337:.01,"420G":.01,611:.1,ACC:.01,ACES:.01,ACO:.01,ACP:.01,ADCN:500,ADST:1,ADZ:.1,AGRI:.01,AI:1,AKY:.01,ALIS:1,ALL:.2,AMC:.1,AMMO:.01,AMS:.01,ANTX:.01,ANY:1,ARG:.1,ARGUS:.01,ARGUSOLD:.01,ASN:.01,ATOM:.01,ATX:.01,AU:.01,B2B:1,B3:.01,BAKED:.01,BCC:.01,BCH:.001,BCM:.01,BDL:.01,BEER:.01,BELA:.01,BENJI:.05,BET:.01,BFI:1,BIGUP:1,BIRDS:.01,BITB:.1,BIXC:.01,BIZ:.01,BLAS:.1,BLAZR:.2,BLK:.01,BLN:1,BLUE:1,BOAT:1,BON:.01,BONPAY:1,BOPS:.01,BPOK:.1,BQ:1,BRAT:.01,BRC:1,BRIT:.01,BSN:1,BSR:.01,BTBc:.01,BTC:.001,BTCRED:1,BTCRF:.01,BTDX:.1,BTE:1,BTPL:.01,BULLS:.01,BUZZ:.01,BXT:.01,C47:1,CACH:.2,CALC:.01,CANN:.01,CBANK:1,CDX:1,CHEAP:.01,CHESS:.01,CHILI:.01,CHIPS:.1,CJ:.1,CLT:.1,CMPCO:.2,CMX:.01,CNNC:.02,CNT:.01,CO2:1,COOC:.01,COUPE:.01,CQST:.1,CRACKERS:.01,CRDNC:.01,CREA:.02,CREAK:.01,CREVA2:.01,CRMSN:.01,CRN:.01,CRW:.01,CTIC2:.01,CUBE:.01,CXT:.01,CYCLONE:.01,CYDER:.01,DAG:.01,DALC:1,DARI:.01,DASH:.01,DAV:.01,DBIC:.1,DCN:1,DEM:.01,DFS:.01,DGB:.1,DGC:.1,DIME:.01,DMB:.01,DMC:.1,DNCV2:.01,DNE:1,DNR:.01,DOGE:2,DOGEJ:1,DP:.01,DRGN:1,DRS:.1,DSE:.01,DSR:.01,DTCT:1,DUTCH:.01,EBC:.01,EBT:.01,ECC:.1,ECN:.01,EDRC:.01,EECN:.01,EGC:.1,ELCO:.1,ELIX:1,ELS:.01,ELT:1,EMC:.01,EMIRG:.01,ENTRC:1,ENZO:.1,EQL:1,EQT:.1,ERSO:.01,ERT:1,ERY:.01,ESP:.1,ETBS:1,ETC:.1,ETG:1,ETH:.01,ETHD:.01,ETHOS:1,ETN:2,EUROP:.1,EXCL:.1,EXTN:.01,FAIR:.01,FAP:1,FAZZ:.01,FCH:.01,FGZ:.1,FLASH:.01,FLIK:1,FRT:.1,FSX:.1,FTC:.01,FXE:2,GAIN:1,GB:.1,GBX:.01,GDC:1,GEERT:.01,GET:.01,GFC:1,GLS:.01,GLT:.01,GLTC:.01,GMB:.01,GMX:.01,GOKUOLD:.1,GOLD:.01,GOLF:.1,GOOD:2,GP:.01,GRE:.01,GREENF:.01,GRMD:1,GRS:.01,GRX:1,GTC:.01,GWC:.2,HALLO:.01,HBC:.01,HC:.01,HEALTHY:.01,HIGH:.01,HarmonyCoin:.01,HNC:.01,HOC:.01,HODL:.01,HOLLY:1,HONEY:.01,HOPE:.01,HPC:.01,HUB:1,HYP:.01,HYPER:.01,IBC:1,ICE:1,ICOT:1,IFT:1,ILC:.01,IMX:.01,INDIA:.01,INFO:.01,INSN:.01,INXT:1,IOE:.01,IQT:1,IXC:.01,JAPAN:.01,JEDI:.01,JET:1,JIN:.2,KAYI:.01,KB3:.01,KGB:.01,KLC:.1,KMD:.01,KOBO:1,KOI:.01,KORUNA:.1,KRA:.01,KUBO:.01,KURT:.01,LA:1,LAMBO:.01,LCT:1,LDC:.01,LEVO:.1,LIFE:1,LINDA:.01,LINX:.01,LIZ:.01,LMC:.1,LNK:.05,LRC:1,LTC:.01,LTG:1,LUCK:.01,LUNA:.01,LVPS:.01,MAC:2,MAG:.01,MALC:.01,MARS:.01,MARS2:.01,MAXI:.01,MAY:.01,MBC:.01,MBIT:.01,MCB:1,MEC:.1,MENTAL:.1,MER:.1,MET:.01,MGM:.01,MGT:.01,MILO:.5,MINEX:1,MINT:1,MIPS:1,MNX:.01,MOIN:.1,MOON:.1,MSCN:.01,MSP:1,MST:.1,MTH:1,MUE:.1,MUX:1,MXC:.01,MXT:.1,MYB:1,NBIT:.1,NBX:.01,NEOG:1,NEON:.01,NLC2:.01,NLG:.1,NRN:.01,NRO:.01,NTC:1,NTO:1,NUA:1,NUMUS:.01,OC:.01,OGN:.01,ORO:.01,PARIS:.01,PAYU:.1,PCN:1,PCS:.01,PDG:.01,PEC:.01,PGL:1,PHN:1,PICO:.1,PIE:.01,PIGGY:.1,PIVX:.2,PIX:1,PKT:1,PLACO:.01,PLX:1,POL:.01,POLOB:.1,POS:1,POST:1,POSW:.01,POT:.1,PRE:1,PRIMU:.01,PRL:1,PRN:1,PRX:.01,PT:1,PTS:1,PURA:1,PURE:.01,PUT:.1,PWC:.01,PWR:.1,QTUM:.01,QUANT:.01,RAIN:.5,RBL:.01,RDC:.01,REC:.01,REGA:.1,REX:1,RHO:.1,RIYA:1,RMC:2,RNS:.01,ROC:0,ROOFS:.01,RUB:.01,RUNE:.01,RUNNERS:.01,RUP:.01,SBIT:.01,SCL:1,SCORE:.01,SCOREOLD:.01,SDASH:.01,SFC:.01,SFE:.01,SGR:1,SHIT:.1,SHM:.1,SHND:.1,SHOT:.1,SIC:.1,SILK2:.01,SIMP:.001,SISA:1,SKOIN:.01,SKULL:.01,SLEVIN:.01,SLR:.01,SMART:.01,SMS:.002,SNOW:.01,SOLAR:.01,SPRTS:1,SRC:.01,SST:.1,STARS:.01,STN:.01,STO:.01,STX:1,SUPER:.01,SUPERMAN:.01,SURGE:.01,SWC:.1,SYNQ:.01,SYNX:.01,TAAS:2,TBS:.01,TCOIN:.01,TELL:.1,TER:.005,TGT:1,TIGER:.01,TIPS:.01,TLE:.01,TOPAZ:.01,TOR:.01,TPC:.01,TPG:.01,TPI:1,TRANCE:.01,TRC:.01,TRUX:.01,TSE:.1,TSTR:.01,TURBO:.01,UFO:.01,UK:.01,ULA:.01,UNIFY:0,UNIT:.1,UNO:.001,UP:.01,UQC:1,USA:.01,VC:.01,VGS:.01,VIDZ:.01,VISIO:.05,VLTC:.1,VOISE:1,VONE:.01,VOX:.01,VSX:.01,VULCANO:.01,WASH:.1,WCL:1,WINK:.01,WOMEN:.01,WORM:.01,WOW:.1,WRP:.01,WYV:.01,XBC:.01,XBL:1,XBU:1,XCHE:.1,XCS:.01,XCT:.01,XCXT:.01,XDE2:.01,XEV:.1,XGOX:.01,XGTC:.01,XLR:.1,XMCC:.01,XP:1,XPASC:.01,XQN:.01,XSA:.1,XSTC:2,XTD:.01,XVS:.01,XXX:.1,XYOC:1,XYZ:.01,XZC:.1,XZCD:.01,YHC:.01,ZCC:.01,ZCG:1,ZCL:.001,ZEC:.001,ZEIT:.1,ZENI:.01,ZERO:.01,ZMC:.1,ZOI:.01,ZSE:.01,ZURMO:.1,ZZC:.01}}},precision:{amount:8,price:8},commonCurrencies:{BON:"BonPeKaO",ETN:"Ethernex",GET:"GreenEnergyToken",GDC:"GoldenCryptoCoin",GTC:"GlobalTourCoin",HMC:"HarmonyCoin",HNC:"Huncoin",MARS:"MarsBux",MER:"TheMermaidCoin",RUB:"RubbleCoin",UP:"UpscaleToken"}})}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetcurrencies(h);case 2:for(t=e.sent,r=t.result,i=this.precision.amount,n={},s=0;s<r.length;s++)o=r[s],u=o.CurrencyID,d=this.commonCurrencyCode(o.TickerCode),c="online"===o.WalletStatus,l="ok",c||(l="disabled"),n[d]={id:u,code:d,name:o.Name,active:c,status:l,precision:i,limits:{amount:{min:void 0,max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,i)}},info:o};return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetmarkets();case 2:for(t=e.sent,r=t.result,i=[],n=0;n<r.length;n++)s=r[n],o=s.MarketID,u=this.commonCurrencyCode(s.MarketAssetCode),d=this.commonCurrencyCode(s.BaseCurrencyCode),c=u+"/"+d,i.push({id:o,symbol:c,base:u,quote:d,baseId:s.MarketAssetID,quoteId:s.BaseCurrencyID,active:s.Active,lot:void 0,info:s});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(!t){var i=e.MarketID;i in this.markets_by_id?t=this.markets_by_id[i]:r=i}t&&(r=t.symbol);var n=this.milliseconds(),a=this.safeFloat(e,"LastPrice");return{symbol:r,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"HighPrice"),low:this.safeFloat(e,"LowPrice"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"Change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"Volume"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetmarketsummary(this.extend({market_id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.result,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetmarketsummaries(u);case 4:for(t=e.sent,r=t.result,i={},n=0;n<r.length;n++)s=this.parseTicker(r[n]),o=s.symbol,i[o]=s;return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetorderbook(this.extend({market_id:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r.result,void 0,"BuyOrders","SellOrders","Price","Quantity"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+e;return"public"===t&&(i=this.urlencode(i),i.length&&(s+="?"+i)),{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,s,o,u,d,c);case 2:if(r=e.sent,1===(i=this.safeInteger(r,"success"))){e.next=7;break}throw n=this.safeString(r,"message","Error"),new x(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:"UK",has:{CORS:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28246081-623fc164-6a1c-11e7-913f-bac0d5576c90.jpg",api:"https://webapi.coinfloor.co.uk:8090/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{id}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP"},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"BTC/USD":{id:"XBT/USD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/PLN":{id:"XBT/PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN"},"BCH/GBP":{id:"BCH/GBP",symbol:"BCH/GBP",base:"BCH",quote:"GBP"}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,"symbol"in a&&(t=this.findMarket(a.symbol)),"id"in a&&(t=this.findMarket(a.id)),t){e.next=5;break}throw new C(this.id+" fetchBalance requires a symbol param");case 5:return e.next=7,this.privatePostIdBalance({id:t.id});case 7:return r=e.sent,i={info:r},n=t.id.toLowerCase().split("/"),i[t.base]={free:parseFloat(r[n[0]+"_available"]),used:parseFloat(r[n[0]+"_reserved"]),total:parseFloat(r[n[0]+"_balance"])},i[t.quote]={free:parseFloat(r[n[1]+"_available"]),used:parseFloat(r[n[1]+"_reserved"]),total:parseFloat(r[n[1]+"_balance"])},e.abrupt("return",this.parseBalance(i));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetIdOrderBook(this.extend({id:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"vwap"),a=this.safeFloat(e,"volume"),s=void 0;"undefined"!==typeof n&&(s=a*n);var o=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:n,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetIdTicker(this.extend({id:r.id},n));case 3:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,id:e.tid.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetIdTransactions(this.extend({id:r.id},s));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:this.marketId(t)},s="privatePostId"+this.capitalize(i),"market"===r?(a.quantity=n,s+="Market"):(a.price=u,a.amount=n),e.abrupt("return",this[s](this.extend(a,d)));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostIdCancelOrder({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseDate(e.datetime),i=this.iso8601(r),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),s=n*a,o=void 0,u=this.safeString(e,"status");0===e.type?o="buy":1===e.type&&(o="sell");var d=void 0;return"undefined"!==typeof t&&(d=t.symbol),{info:e,id:e.id.toString(),datetime:i,timestamp:r,lastTradeTimestamp:void 0,status:u,symbol:d,type:"limit",side:o,price:n,amount:a,filled:void 0,remaining:void 0,cost:s,fee:void 0}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new C(this.id+" fetchOpenOrders requires a symbol param");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),e.next=7,this.privatePostIdOpenOrders({id:t.id});case 7:for(r=e.sent,i=0;i<r.length;i++)r[i]=this.extend(r[i],{status:"open"});return e.abrupt("return",this.parseOrders(r,t,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce();s=this.urlencode(this.extend({nonce:d},u));var c=this.uid+"/"+this.apiKey+":"+this.password;n={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+this.decode(this.stringToBase64(this.encode(c)))}}return{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"coingi",name:"Coingi",rateLimit:1e3,countries:["PA","BG","CN","US"],has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28619707-5c9232a8-7212-11e7-86d6-98fe5d15cc6e.jpg",api:{www:"https://coingi.com",current:"https://api.coingi.com",user:"https://api.coingi.com"},www:"https://coingi.com",doc:"http://docs.coingi.apiary.io/"},api:{www:{get:[""]},current:{get:["order-book/{pair}/{askCount}/{bidCount}/{depth}","transactions/{pair}/{maxCount}","24hour-rolling-aggregation"]},user:{post:["balance","add-order","cancel-order","orders","transactions","create-crypto-withdrawal"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,PPC:.02,VTC:.2,NMC:2,DASH:.002,USD:10,EUR:10},deposit:{BTC:0,LTC:0,DOGE:0,PPC:0,VTC:0,NMC:0,DASH:0,USD:5,EUR:1}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,this.parseJsonResponse=!1,e.next=5,this.wwwGet();case 5:t=e.sent,this.parseJsonResponse=!0,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),this.parseJsonResponse=!0,e.t0;case 13:for(r=t.split('do=currencyPairSelector-selectCurrencyPair" class="active">'),i=r[1].split('<div class="currency-pair-label">'),n=[],a=1;a<i.length;a++)s=i[a],u=s.split("</div>"),c=u[0],l=c,c=c.replace("/","-"),c=c.toLowerCase(),h=l.split("/"),f=(0,d.default)(h,2),p=f[0],v=f[1],m={amount:8,price:8},y=Math.pow(10,-m.amount),n.push({id:c,symbol:l,base:p,quote:v,info:c,lot:y,active:!0,precision:m,limits:{amount:{min:y,max:Math.pow(10,m.amount)},price:{min:Math.pow(10,-m.price),max:void 0},cost:{min:0,max:void 0}}});return e.abrupt("return",n);case 18:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:for(t=[],r=(0,a.default)(this.currencies),i=0;i<r.length;i++)n=r[i],t.push(n.toLowerCase());return e.next=7,this.userPostBalance({currencies:t.join(",")});case 7:for(s=e.sent,u={info:s},d=0;d<s.length;d++)c=s[d],l=c.currency.name,l=l.toUpperCase(),h={free:c.available,used:c.blocked+c.inOrders+c.withdrawing,total:0},h.total=this.sum(h.free,h.used),u[l]=h;return e.abrupt("return",this.parseBalance(u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.currentGetOrderBookPairAskCountBidCountDepth(this.extend({pair:r.id,depth:32,askCount:n,bidCount:n},a));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","baseAmount"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;return t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:e.high,low:e.low,bid:e.highestBid,bidVolume:void 0,ask:e.lowestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.baseVolume,quoteVolume:e.counterVolume,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.currentGet24hourRollingAggregation(c);case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.currencyPair.base.toUpperCase(),s=n.currencyPair.counter.toUpperCase(),u=a+"/"+s,d=void 0,u in this.markets&&(d=this.markets[u]),r[u]=this.parseTicker(n,d);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.fetchTickers(void 0,i);case 4:if(r=e.sent,!(t in r)){e.next=7;break}return e.abrupt("return",r[t]);case 7:throw new O(this.id+" return did not contain "+t);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.id,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.currentGetTransactionsPairMaxCount(this.extend({pair:r.id,maxCount:128},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={currencyPair:this.marketId(t),volume:n,price:u,orderType:"buy"===i?0:1},e.next=5,this.userPostAddOrder(this.extend(a,d));case 5:return s=e.sent,e.abrupt("return",{info:s,id:s.result});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.userPostCancelOrder({orderId:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t];"www"!==t&&(o+="/"+t+"/"+this.implodeParams(e,i));var u=this.omit(i,this.extractParams(e));if("current"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else if("user"===t){this.checkRequiredCredentials();var d=this.nonce(),c=this.extend({token:this.apiKey,nonce:d},u),l=d.toString()+"$"+this.apiKey;c.signature=this.hmac(this.encode(l),this.encode(this.secret)),s=this.json(c),n={"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if("string"===typeof(r=e.sent)){e.next=6;break}if(!("errors"in r)){e.next=6;break}throw new O(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:"US",has:{CORS:!0,privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchBalance:!1,fetchOrderBook:!1,fetchOHLCV:!1,fetchTrades:!1,fetchTickers:!0,fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28244244-9be6312a-69ed-11e7-99c1-7c1797275265.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new C("Fetching order books is not supported by the API of "+this.id);case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"currencyCode",value:function(e,t){var r={ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",Comet:"Comet",CPChain:"CPChain",Cubits:"Cubits","DAO.Casino":"DAO.Casino",ENTCash:"ENTCash",FairGame:"FairGame","GET Protocol":"GET Protocol","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie",MIOTA:"IOTA",NetCoin:"NetCoin",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin"};return t in r?r[t]:e}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker({limit:0});case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)for(n=t[i],a=this.currencyCodes,s=0;s<a.length;s++)u=a[s],d=u.toLowerCase(),c=n.id,l=this.currencyCode(n.symbol,n.name),h=l+"/"+u,f=c+"/"+d,r.push({id:f,symbol:h,base:l,quote:u,baseId:c,quoteId:d,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchGlobal",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r&&(t.convert=r),e.next=6,this.publicGetGlobal(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds();"last_updated"in e&&e.last_updated&&(r=1e3*parseInt(e.last_updated));var i=void 0;"percent_change_24h"in e&&e.percent_change_24h&&(i=this.safeFloat(e,"percent_change_24h"));var n=void 0,a=void 0,s=void 0;if(t){var o="price_"+t.quoteId;o in e&&e[o]&&(n=this.safeFloat(e,o)),a=t.symbol;var u="24h_volume_"+t.quoteId;u in e&&e[u]&&(s=this.safeFloat(e,u))}return{symbol:a,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:i,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:s,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={limit:1e4},l&&(t.convert=l),e.next=6,this.publicGetTicker(this.extend(t,h));case 6:for(r=e.sent,i={},n=0;n<r.length;n++)a=r[n],s=l in this.currencies?this.currencies[l].id:l.toLowerCase(),u=a.id+"/"+s,d=u,c=void 0,u in this.markets_by_id&&(c=this.markets_by_id[u],d=c.symbol),i[d]=this.parseTicker(a,c);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.extend({convert:r.quote,id:r.baseId},s),e.next=6,this.publicGetTickerId(i);case 6:return n=e.sent,a=n[0],e.abrupt("return",this.parseTicker(a,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker(this.extend({limit:0},c));case 2:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.symbol,s=n.name,u=8,d=this.currencyCode(a,s),r[d]={id:a,code:d,info:n,name:s,active:!0,status:"ok",fee:void 0,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}};return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));return(0,a.default)(u).length&&(o+="?"+this.urlencode(u)),{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("error"in(r=e.sent))){e.next=6;break}if(!r.error){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27811229-c1efb510-606c-11e7-9a36-84ba2ce412d8.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",doc:["http://docs.coinmate.apiary.io","https://coinmate.io/developers"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions"]},private:{post:["balances","bitcoinWithdrawal","bitcoinDepositAddresses","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","openOrders","redeemVoucher","sellInstant","sellLimit","transactionHistory","unconfirmedBitcoinDeposits"]}},markets:{"BTC/EUR":{id:"BTC_EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",precision:{amount:4,price:2}},"BTC/CZK":{id:"BTC_CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK",precision:{amount:4,price:2}},"LTC/BTC":{id:"LTC_BTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",precision:{amount:4,price:5}}},fees:{trading:{maker:5e-4,taker:.0035}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalances();case 2:for(t=e.sent,r=t.data,i={info:r},n=(0,o.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=this.account(),u in r&&(d.free=r[u].available,d.used=r[u].reserved,d.total=r[u].balance),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOrderBook(this.extend({currencyPair:this.marketId(t),groupByPriceLimit:"False"},s));case 2:return r=e.sent,i=r.data,n=1e3*i.timestamp,e.abrupt("return",this.parseOrderBook(i,n,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker(this.extend({currencyPair:this.marketId(t)},o));case 2:return r=e.sent,i=r.data,n=1e3*i.timestamp,s=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"amount"),quoteVolume:void 0,info:i});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return t||(t=this.markets_by_id[e.currencyPair]),{id:e.transactionId,info:e,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:void 0,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTransactions(this.extend({currencyPair:r.id,minutesIntoHistory:10},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i.data,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="privatePost"+this.capitalize(i),o={currencyPair:this.marketId(t)},"market"===r?("buy"===i?o.total=n:o.amount=n,s+="Instant"):(o.amount=n,o.price=d,s+=this.capitalize(r)),e.next=5,this[s](this.extend(o,c));case 5:return u=e.sent,e.abrupt("return",{info:u,id:u.data.toString()});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder({orderId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+e;if("public"===t)(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce().toString(),d=u+this.uid+this.apiKey,c=this.hmac(this.encode(d),this.encode(this.secret));a=this.urlencode(this.extend({clientId:this.uid,nonce:u,publicKey:this.apiKey,signature:c.toUpperCase()},i)),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("error"in(r=e.sent))){e.next=6;break}if(!r.error){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.DDoSProtection;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinnest",name:"coinnest",countries:"KR",rateLimit:1e3,has:{fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38065728-7289ff5c-330d-11e8-9cc1-cf0cbcb606bc.jpg",api:{public:"https://api.coinnest.co.kr/api",private:"https://api.coinnest.co.kr/api",web:"https://www.coinnest.co.kr"},www:"https://www.coinnest.co.kr",doc:"https://www.coinnest.co.kr/doc/intro.html",fees:["https://coinnesthelp.zendesk.com/hc/ko/articles/115002110252-%EA%B1%B0%EB%9E%98-%EC%88%98%EC%88%98%EB%A3%8C%EB%8A%94-%EC%96%BC%EB%A7%88%EC%9D%B8%EA%B0%80%EC%9A%94-","https://coinnesthelp.zendesk.com/hc/ko/articles/115002110272-%EB%B9%84%ED%8A%B8%EC%BD%94%EC%9D%B8-%EC%88%98%EC%88%98%EB%A3%8C%EB%A5%BC-%EC%84%A0%ED%83%9D%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%EA%B0%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%EC%9A%94-"]},api:{web:{get:["coin/allcoin"]},public:{get:["pub/ticker","pub/depth","pub/trades"]},private:{post:["account/balance","trade/add","trade/cancel","trade/fetchtrust","trade/trust"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:"0.002"}}},precision:{amount:8,price:8}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t="KRW",r=t.toLowerCase(),i=["btc","bch","btg","bcd","ubtc","btn","kst","ltc","act","eth","etc","ada","qtum","xlm","neo","gas","rpx","hsr","knc","tsl","tron","omg","wtc","mco","storm","gto","pxs","chat","ink","oc","hlc","ent","qbt","spc","put"],n=[],a=0;a<i.length;a++)s=i[a],u=s+"/"+r,d=this.commonCurrencyCode(s.toUpperCase()),c=d+"/"+t,n.push({id:u,symbol:c,base:d,quote:t,baseId:s,quoteId:r,active:!0,info:void 0});return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.time,i=t.symbol,n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPubTicker(this.extend({coin:r.baseId},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPubDepth(this.extend({coin:r.baseId},n));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.date),i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=this.priceToPrecision(a,n*i);return{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:i,amount:n,cost:parseFloat(s),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPubTrades(this.extend({coin:r.baseId},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostAccountBalance(h);case 4:t=e.sent,r={info:t},i=(0,a.default)(t),n=0;case 8:if(!(n<i.length)){e.next=26;break}if(s=i[n],u=s.split("_"),2===u.length){e.next=13;break}return e.abrupt("continue",23);case 13:if("reserved"===(d=u[1])||"balance"===d){e.next=16;break}return e.abrupt("continue",23);case 16:c=u[0].toUpperCase(),c=this.commonCurrencyCode(c),c in r||(r[c]={free:0,used:0,total:0}),d="reserved"===d?"used":"free",r[c][d]=parseFloat(t[s]),l="used"===d?"free":"used",l in r[c]&&(r[c].total=this.sum(r[c].free,r[c].used));case 23:n++,e.next=8;break;case 26:return e.abrupt("return",this.parseBalance(r));case 27:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e,t){var r=t.symbol,i=1e3*parseInt(e.time),n=parseInt(e.status);n=4===n?"closed":3===n?"canceled":"open";var a=this.safeFloat(e,"amount_total"),s=this.safeFloat(e,"amount_over"),o=this.safeValue(e,"deals");return o=o?this.safeFloat(o,"sum_amount"):a-s,{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:n,symbol:r,type:"limit",side:e.type,price:this.safeFloat(e,"price"),cost:void 0,amount:a,filled:o,remaining:s,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),e.next=5,this.privatePostTradeAdd(this.extend({coin:a.baseId,type:i,number:n,price:c},l));case 5:return s=e.sent,u={id:s.id,time:this.seconds(),type:i,price:c,amount_total:n,amount_over:n,info:s},d=u.id,this.orders[d]=this.parseOrder(u,a),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostTradeCancel(this.extend({id:t,coin:r.baseId},a));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostTradeFetchtrust(this.extend({id:t,coin:r.baseId},a));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={coin:t.baseId},a&&(r.since=parseInt(a/1e3)),s&&(r.limit=s),e.next=8,this.privatePostTradeTrust(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i,t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(t,r,i,this.extend({type:"1"},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/"+e,o=void 0;if("public"===t)o=this.urlencode(i),o.length&&(s+="?"+o);else{this.checkRequiredCredentials(),a=this.urlencode(this.extend(i,{key:this.apiKey,nonce:this.nonce()}));var u=this.hash(this.secret);a+="&signature="+this.hmac(this.encode(a),this.encode(u)),n={"Content-type":"application/x-www-form-urlencoded"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,s,u,d,c,l);case 2:if(r=e.sent,i=this.safeString(r,"status"),r&&"nil"!==r&&!i){e.next=8;break}throw n=this.safeValue({100:O,101:O,104:_,105:_,106:O},i,C),a=this.safeString(r,"msg",this.json(r)),new n(a);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.ExchangeNotAvailable;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinone",name:"CoinOne",countries:"KR",rateLimit:667,version:"v2",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},markets:{"BCH/KRW":{id:"bch",symbol:"BCH/KRW",base:"BCH",quote:"KRW",baseId:"bch",quoteId:"krw"},"BTC/KRW":{id:"btc",symbol:"BTC/KRW",base:"BTC",quote:"KRW",baseId:"btc",quoteId:"krw"},"BTG/KRW":{id:"btg",symbol:"BTG/KRW",base:"BTG",quote:"KRW",baseId:"btg",quoteId:"krw"},"ETC/KRW":{id:"etc",symbol:"ETC/KRW",base:"ETC",quote:"KRW",baseId:"etc",quoteId:"krw"},"ETH/KRW":{id:"eth",symbol:"ETH/KRW",base:"ETH",quote:"KRW",baseId:"eth",quoteId:"krw"},"IOTA/KRW":{id:"iota",symbol:"IOTA/KRW",base:"IOTA",quote:"KRW",baseId:"iota",quoteId:"krw"},"LTC/KRW":{id:"ltc",symbol:"LTC/KRW",base:"LTC",quote:"KRW",baseId:"ltc",quoteId:"krw"},"OMG/KRW":{id:"omg",symbol:"OMG/KRW",base:"OMG",quote:"KRW",baseId:"omg",quoteId:"krw"},"QTUM/KRW":{id:"qtum",symbol:"QTUM/KRW",base:"QTUM",quote:"KRW",baseId:"qtum",quoteId:"krw"},"XRP/KRW":{id:"xrp",symbol:"XRP/KRW",base:"XRP",quote:"KRW",baseId:"xrp",quoteId:"krw"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001,tiers:{taker:[[0,.001],[1e8,9e-4],[1e9,8e-4],[5e9,7e-4],[1e10,6e-4],[2e10,5e-4],[3e10,4e-4],[4e10,3e-4],[5e10,2e-4]],maker:[[0,.001],[1e8,8e-4],[1e9,6e-4],[5e9,4e-4],[1e10,2e-4],[2e10,0],[3e10,0],[4e10,0],[5e10,0]]}}},exceptions:{405:_}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostAccountBalance();case 2:for(t=e.sent,r={info:t},i=this.omit(t,["errorCode","result","normalWallets"]),n=(0,o.default)(i),s=0;s<n.length;s++)u=n[s],d=i[u],c=u.toUpperCase(),u in this.currencies_by_id&&(c=this.currencies_by_id[u].code),l=parseFloat(d.avail),h=parseFloat(d.balance),f=h-l,p={free:l,used:f,total:h},r[c]=p;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetOrderbook(this.extend({currency:r.id,format:"json"},n));case 3:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bid","ask","price","qty"));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(this.extend({currency:"all",format:"json"},h));case 4:for(t=e.sent,r={},i=t,n=(0,o.default)(i),s=0;s<n.length;s++)u=n[s],d=u,c=void 0,u in this.markets_by_id&&(c=this.markets_by_id[u],d=c.symbol,l=i[u],r[d]=this.parseTicker(l,c));return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTicker(this.extend({currency:r.id,format:"json"},n));case 3:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=this.safeFloat(e,"last"),n=this.safeFloat(e,"yesterday_last"),a=void 0;return"undefined"!==typeof i&&"undefined"!==typeof n&&(a=n-i),{symbol:"undefined"!==typeof t?t.symbol:void 0,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:i,last:i,previousClose:n,change:a,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.timestamp),i="undefined"!==typeof t?t.symbol:void 0;return{id:void 0,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:i,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"qty"),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTrades(this.extend({currency:r.id,period:"hour",format:"json"},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i.completeOrders,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return s={price:c,currency:this.marketId(t),qty:n},o="privatePostOrder"+this.capitalize(r)+this.capitalize(i),e.next=8,this[o](this.extend(s,l));case 8:return u=e.sent,d=this.safeString(u,"orderId"),e.abrupt("return",{info:u,id:d});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrderCancel({orderID:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.implodeParams(e,i),u=this.omit(i,this.extractParams(e)),d=this.urls.api+"/";if("public"===t)d+=s,(0,o.default)(u).length&&(d+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),d+=this.version+"/"+s;var c=this.nonce().toString(),l=this.json(this.extend({access_token:this.apiKey,nonce:c},i)),h=this.stringToBase64(this.encode(l));a=this.decode(h);var f=this.secret.toUpperCase();n={"content-type":"application/json","X-COINONE-PAYLOAD":h,"X-COINONE-SIGNATURE":this.hmac(h,this.encode(f),"sha512")}}return{url:d,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("{"===a[0]||"["===a[0]){var s=JSON.parse(a);if(!("result"in s))throw new C(this.id+" "+a);if("success"!==s.result){var o=this.safeString(s,"errorCode"),u=this.id+" "+this.json(s),d=this.exceptions;throw o in d?new d[o](u):new C(u)}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinsecure",name:"Coinsecure",countries:"IN",rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766472-9cbd200a-5ed9-11e7-9551-2267ad7bac08.jpg",api:"https://api.coinsecure.in",www:"https://coinsecure.in",doc:["https://api.coinsecure.in","https://github.com/coinsecure/plugins"]},requiredCredentials:{apiKey:!0,secret:!1},api:{public:{get:["bitcoin/search/confirmation/{txid}","exchange/ask/low","exchange/ask/orders","exchange/bid/high","exchange/bid/orders","exchange/lastTrade","exchange/max24Hr","exchange/min24Hr","exchange/ticker","exchange/trades"]},private:{get:["mfa/authy/call","mfa/authy/sms","netki/search/{netkiName}","user/bank/otp/{number}","user/kyc/otp/{number}","user/profile/phone/otp/{number}","user/wallet/coin/address/{id}","user/wallet/coin/deposit/confirmed/all","user/wallet/coin/deposit/confirmed/{id}","user/wallet/coin/deposit/unconfirmed/all","user/wallet/coin/deposit/unconfirmed/{id}","user/wallet/coin/wallets","user/exchange/bank/fiat/accounts","user/exchange/bank/fiat/balance/available","user/exchange/bank/fiat/balance/pending","user/exchange/bank/fiat/balance/total","user/exchange/bank/fiat/deposit/cancelled","user/exchange/bank/fiat/deposit/unverified","user/exchange/bank/fiat/deposit/verified","user/exchange/bank/fiat/withdraw/cancelled","user/exchange/bank/fiat/withdraw/completed","user/exchange/bank/fiat/withdraw/unverified","user/exchange/bank/fiat/withdraw/verified","user/exchange/ask/cancelled","user/exchange/ask/completed","user/exchange/ask/pending","user/exchange/bid/cancelled","user/exchange/bid/completed","user/exchange/bid/pending","user/exchange/bank/coin/addresses","user/exchange/bank/coin/balance/available","user/exchange/bank/coin/balance/pending","user/exchange/bank/coin/balance/total","user/exchange/bank/coin/deposit/cancelled","user/exchange/bank/coin/deposit/unverified","user/exchange/bank/coin/deposit/verified","user/exchange/bank/coin/withdraw/cancelled","user/exchange/bank/coin/withdraw/completed","user/exchange/bank/coin/withdraw/unverified","user/exchange/bank/coin/withdraw/verified","user/exchange/bank/summary","user/exchange/coin/fee","user/exchange/fiat/fee","user/exchange/kycs","user/exchange/referral/coin/paid","user/exchange/referral/coin/successful","user/exchange/referral/fiat/paid","user/exchange/referrals","user/exchange/trade/summary","user/login/token/{token}","user/summary","user/wallet/summary","wallet/coin/withdraw/cancelled","wallet/coin/withdraw/completed","wallet/coin/withdraw/unverified","wallet/coin/withdraw/verified"],post:["login","login/initiate","login/password/forgot","mfa/authy/initiate","mfa/ga/initiate","signup","user/netki/update","user/profile/image/update","user/exchange/bank/coin/withdraw/initiate","user/exchange/bank/coin/withdraw/newVerifycode","user/exchange/bank/fiat/withdraw/initiate","user/exchange/bank/fiat/withdraw/newVerifycode","user/password/change","user/password/reset","user/wallet/coin/withdraw/initiate","wallet/coin/withdraw/newVerifycode"],put:["signup/verify/{token}","user/exchange/kyc","user/exchange/bank/fiat/deposit/new","user/exchange/ask/new","user/exchange/bid/new","user/exchange/instant/buy","user/exchange/instant/sell","user/exchange/bank/coin/withdraw/verify","user/exchange/bank/fiat/account/new","user/exchange/bank/fiat/withdraw/verify","user/mfa/authy/initiate/enable","user/mfa/ga/initiate/enable","user/netki/create","user/profile/phone/new","user/wallet/coin/address/new","user/wallet/coin/new","user/wallet/coin/withdraw/sendToExchange","user/wallet/coin/withdraw/verify"],delete:["user/gcm/{code}","user/logout","user/exchange/bank/coin/withdraw/unverified/cancel/{withdrawID}","user/exchange/bank/fiat/deposit/cancel/{depositID}","user/exchange/ask/cancel/{orderID}","user/exchange/bid/cancel/{orderID}","user/exchange/bank/fiat/withdraw/unverified/cancel/{withdrawID}","user/mfa/authy/disable/{code}","user/mfa/ga/disable/{code}","user/profile/phone/delete","user/profile/image/delete/{netkiName}","user/wallet/coin/withdraw/unverified/cancel/{withdrawID}"]}},markets:{"BTC/INR":{id:"BTC/INR",symbol:"BTC/INR",base:"BTC",quote:"INR"}},fees:{trading:{maker:.004,taker:.004}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserExchangeBankSummary();case 4:return t=e.sent,r=t.message,i={free:r.availableCoinBalance,used:r.pendingCoinBalance,total:r.totalCoinBalance},n={free:r.availableFiatBalance,used:r.pendingFiatBalance,total:r.totalFiatBalance},a={info:r,BTC:i,INR:n},e.abrupt("return",this.parseBalance(a));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetExchangeBidOrders(a);case 4:return r=e.sent,e.next=7,this.publicGetExchangeAskOrders(a);case 7:return i=e.sent,n={bids:r.message,asks:i.message},e.abrupt("return",this.parseOrderBook(n,void 0,"bids","asks","rate","vol"));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetExchangeTicker(l);case 4:return r=e.sent,i=r.message,n=i.timestamp,a=this.safeFloat(i,"coinvolume"),"BTC/INR"===t&&(s=1e-8,a*=s),u=this.safeFloat(i,"fiatvolume")/100,d=u/a,c=this.safeFloat(i,"lastPrice")/100,e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high")/100,low:this.safeFloat(i,"low")/100,bid:this.safeFloat(i,"bid")/100,bidVolume:void 0,ask:this.safeFloat(i,"ask")/100,askVolume:void 0,vwap:d,open:this.safeFloat(i,"open")/100,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:u,info:i});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.time,i="bid"===e.ordType?"buy":"sell";return{id:void 0,timestamp:r,datetime:this.iso8601(r),order:void 0,symbol:t,type:void 0,side:i,price:this.safeFloat(e,"rate")/100,amount:this.safeFloat(e,"vol")/1e8,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetExchangeTrades(a);case 5:if(!("message"in(i=e.sent))){e.next=9;break}return n=i.message,e.abrupt("return",this.parseTrades(n,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="privatePutUserExchange",s={},"market"===r?(a+="Instant"+this.capitalize(i),"buy"===i?s.maxFiat=n:s.maxVol=n):(u="buy"===i?"Bid":"Ask",a+=u+"New",s.rate=c,s.vol=n),e.next=7,this[a](this.extend(s,l));case 7:return d=e.sent,e.abrupt("return",{info:d,id:d.message.orderID});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:throw new _(this.id+" cancelOrder () is not fully implemented yet");case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));return"private"===t&&(this.checkRequiredCredentials(),n={Authorization:this.apiKey},(0,a.default)(u).length&&(s=this.json(u),n["Content-Type"]="application/json")),{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(200===e){if("{"!==a[0]&&"["!==a[0])throw new C(this.id+" returned a non-JSON reply: "+a);var s=JSON.parse(a);if(!("success"in s))throw new C(this.id+' malformed response: no "success" in response: '+a);if(!s.success)throw new C(this.id+" error returned: "+a);if(!("message"in s))throw new C(this.id+' malformed response: no "message" in response: '+a)}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.NotSupported;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"coinspot",name:"CoinSpot",countries:"AU",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel"]}},markets:{"BTC/AUD":{id:"BTC",symbol:"BTC/AUD",base:"BTC",quote:"AUD"},"LTC/AUD":{id:"LTC",symbol:"LTC/AUD",base:"LTC",quote:"AUD"},"DOGE/AUD":{id:"DOGE",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD"}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostMyBalances();case 2:if(t=e.sent,r={info:t},"balance"in t)for(i=t.balance,n=(0,o.default)(i),s=0;s<n.length;s++)u=n[s],d=u.toUpperCase(),c={free:i[u],used:0,total:i[u]},"DRK"===d&&(d="DASH"),r[d]=c;return e.abrupt("return",this.parseBalance(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.privatePostOrders(this.extend({cointype:r.id},n));case 3:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"buyorders","sellorders","rate","amount"));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetLatest(u);case 2:return r=e.sent,i=this.marketId(t),i=i.toLowerCase(),n=r.prices[i],s=this.milliseconds(),o=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(n,"bid"),bidVolume:void 0,ask:this.safeFloat(n,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:n});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return this.privatePostOrdersHistory(this.extend({cointype:this.marketId(e)},t))}},{key:"createOrder",value:function(e,t,r,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s="privatePostMy"+this.capitalize(r);if("market"===t)throw new C(this.id+" allows limit orders only");var o={cointype:this.marketId(e),amount:i,rate:n};return this[s](this.extend(o,a))}},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new O(this.id+" cancelOrder () is not fully implemented yet");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new _(this.id+" requires apiKey for all requests");var s=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();var o=this.nonce();a=this.json(this.extend({nonce:o},i)),n={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(532),T=r(437),C=T.ExchangeError,_=T.ExchangeNotAvailable,O=T.AuthenticationError,B=T.InvalidOrder,S=T.InsufficientFunds,M=T.OrderNotFound;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"cointiger",name:"CoinTiger",countries:"CN",hostname:"api.cointiger.pro",has:{fetchCurrencies:!1,fetchTickers:!0,fetchTradingLimits:!1,fetchOrder:!1},headers:{Language:"en_US"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39797261-d58df196-5363-11e8-9880-2ec78ec5bd25.jpg",api:{public:"https://api.cointiger.pro/exchange/trading/api/market",private:"https://api.cointiger.pro/exchange/trading/api",exchange:"https://www.cointiger.pro/exchange"},www:"https://www.cointiger.pro",referral:"https://www.cointiger.pro/exchange/register.html?refCode=FfvDtt",doc:"https://github.com/cointiger/api-docs-en/wiki"},api:{public:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},exchange:{get:["footer/tradingrule.html","api/public/market/detail"]},private:{get:["user/balance","order/new","order/history","order/trade"],post:["order"],delete:["order"]}},exceptions:{1:S,2:C,5:B,6:B,8:M,16:O,100001:C,100002:_,100003:C,100005:O}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"aacbtc",uppercaseId:"AACBTC",symbol:"AAC/BTC",base:"AAC",quote:"BTC",baseId:"aac",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"afcbtc",uppercaseId:"AFCBTC",symbol:"AFC/BTC",base:"AFC",quote:"BTC",baseId:"afc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"avhbtc",uppercaseId:"AVHBTC",symbol:"AVH/BTC",base:"AVH",quote:"BTC",baseId:"avh",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"baieth",uppercaseId:"BAIETH",symbol:"BAI/ETH",base:"BAI",quote:"ETH",baseId:"bai",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bchbtc",uppercaseId:"BCHBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbtbtc",uppercaseId:"BKBTBTC",symbol:"BKBT/BTC",base:"BKBT",quote:"BTC",baseId:"bkbt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbteth",uppercaseId:"BKBTETH",symbol:"BKBT/ETH",base:"BKBT",quote:"ETH",baseId:"bkbt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bptnbtc",uppercaseId:"BPTNBTC",symbol:"BPTN/BTC",base:"BPTN",quote:"BTC",baseId:"bptn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btcbitcny",uppercaseId:"BTCBITCNY",symbol:"BTC/BitCNY",base:"BTC",quote:"BitCNY",baseId:"btc",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmbtc",uppercaseId:"BTMBTC",symbol:"BTM/BTC",base:"BTM",quote:"BTC",baseId:"btm",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmeth",uppercaseId:"BTMETH",symbol:"BTM/ETH",base:"BTM",quote:"ETH",baseId:"btm",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbitcny",uppercaseId:"BTSBITCNY",symbol:"BTS/BitCNY",base:"BTS",quote:"BitCNY",baseId:"bts",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbtc",uppercaseId:"BTSBTC",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btseth",uppercaseId:"BTSETH",symbol:"BTS/ETH",base:"BTS",quote:"ETH",baseId:"bts",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxcbtc",uppercaseId:"CTXCBTC",symbol:"CTXC/BTC",base:"CTXC",quote:"BTC",baseId:"ctxc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxceth",uppercaseId:"CTXCETH",symbol:"CTXC/ETH",base:"CTXC",quote:"ETH",baseId:"ctxc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"elfbtc",uppercaseId:"ELFBTC",symbol:"ELF/BTC",base:"ELF",quote:"BTC",baseId:"elf",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eosbtc",uppercaseId:"EOSBTC",symbol:"EOS/BTC",base:"EOS",quote:"BTC",baseId:"eos",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eoseth",uppercaseId:"EOSETH",symbol:"EOS/ETH",base:"EOS",quote:"ETH",baseId:"eos",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"etcbtc",uppercaseId:"ETCBTC",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbitcny",uppercaseId:"ETHBITCNY",symbol:"ETH/BitCNY",base:"ETH",quote:"BitCNY",baseId:"eth",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbtc",uppercaseId:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gtobitcny",uppercaseId:"GTOBITCNY",symbol:"GTO/BitCNY",base:"GTO",quote:"BitCNY",baseId:"gto",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gusbtc",uppercaseId:"GUSBTC",symbol:"GUS/BTC",base:"GUS",quote:"BTC",baseId:"gus",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"icxbtc",uppercaseId:"ICXBTC",symbol:"ICX/BTC",base:"ICX",quote:"BTC",baseId:"icx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"incbtc",uppercaseId:"INCBTC",symbol:"INC/BTC",base:"INC",quote:"BTC",baseId:"inc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"inceth",uppercaseId:"INCETH",symbol:"INC/ETH",base:"INC",quote:"ETH",baseId:"inc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgbtc",uppercaseId:"KKGBTC",symbol:"KKG/BTC",base:"KKG",quote:"BTC",baseId:"kkg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgeth",uppercaseId:"KKGETH",symbol:"KKG/ETH",base:"KKG",quote:"ETH",baseId:"kkg",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ltcbtc",uppercaseId:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mexbtc",uppercaseId:"MEXBTC",symbol:"MEX/BTC",base:"MEX",quote:"BTC",baseId:"mex",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mtbtc",uppercaseId:"MTBTC",symbol:"MT/BTC",base:"MT",quote:"BTC",baseId:"mt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mteth",uppercaseId:"MTETH",symbol:"MT/ETH",base:"MT",quote:"ETH",baseId:"mt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbitcny",uppercaseId:"OCNBITCNY",symbol:"OCN/BitCNY",base:"OCN",quote:"BitCNY",baseId:"ocn",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbtc",uppercaseId:"OCNBTC",symbol:"OCN/BTC",base:"OCN",quote:"BTC",baseId:"ocn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"olebtc",uppercaseId:"OLEBTC",symbol:"OLE/BTC",base:"OLE",quote:"BTC",baseId:"ole",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"oleeth",uppercaseId:"OLEETH",symbol:"OLE/ETH",base:"OLE",quote:"ETH",baseId:"ole",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"omgbtc",uppercaseId:"OMGBTC",symbol:"OMG/BTC",base:"OMG",quote:"BTC",baseId:"omg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"repbtc",uppercaseId:"REPBTC",symbol:"REP/BTC",base:"REP",quote:"BTC",baseId:"rep",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdabtc",uppercaseId:"SDABTC",symbol:"SDA/BTC",base:"SDA",quote:"BTC",baseId:"sda",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdaeth",uppercaseId:"SDAETH",symbol:"SDA/ETH",base:"SDA",quote:"ETH",baseId:"sda",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sntbtc",uppercaseId:"SNTBTC",symbol:"SNT/BTC",base:"SNT",quote:"BTC",baseId:"snt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"socbtc",uppercaseId:"SOCBTC",symbol:"SOC/BTC",base:"SOC",quote:"BTC",baseId:"soc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sphbtc",uppercaseId:"SPHBTC",symbol:"SPH/BTC",base:"SPH",quote:"BTC",baseId:"sph",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"storjbtc",uppercaseId:"STORJBTC",symbol:"STORJ/BTC",base:"STORJ",quote:"BTC",baseId:"storj",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbitcny",uppercaseId:"TCHBITCNY",symbol:"TCH/BitCNY",base:"TCH",quote:"BitCNY",baseId:"tch",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbtc",uppercaseId:"TCHBTC",symbol:"TCH/BTC",base:"TCH",quote:"BTC",baseId:"tch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbitcny",uppercaseId:"TRXBITCNY",symbol:"TRX/BitCNY",base:"TRX",quote:"BitCNY",baseId:"trx",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbtc",uppercaseId:"TRXBTC",symbol:"TRX/BTC",base:"TRX",quote:"BTC",baseId:"trx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxeth",uppercaseId:"TRXETH",symbol:"TRX/ETH",base:"TRX",quote:"ETH",baseId:"trx",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdbtc",uppercaseId:"TUSDBTC",symbol:"TUSD/BTC",base:"TUSD",quote:"BTC",baseId:"tusd",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdeth",uppercaseId:"TUSDETH",symbol:"TUSD/ETH",base:"TUSD",quote:"ETH",baseId:"tusd",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"xembitcny",uppercaseId:"XEMBITCNY",symbol:"XEM/BitCNY",base:"XEM",quote:"BitCNY",baseId:"xem",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeebtc",uppercaseId:"YEEBTC",symbol:"YEE/BTC",base:"YEE",quote:"BTC",baseId:"yee",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeeeth",uppercaseId:"YEEETH",symbol:"YEE/ETH",base:"YEE",quote:"ETH",baseId:"yee",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"zrxbtc",uppercaseId:"ZRXBTC",symbol:"ZRX/BTC",base:"ZRX",quote:"BTC",baseId:"zrx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}}],this.options.marketsByUppercaseId=this.indexBy(t,"uppercaseId"),e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t&&(r=t.symbol);var i=this.safeInteger(e,"id"),n=this.safeFloat(e,"last"),a=this.safeFloat(e,"percentChange");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetDepth(this.extend({symbol:r.id,type:"step0"},u));case 5:if(i=e.sent,!("tick"in(n=i.data.depth_data))){e.next=13;break}if(n.tick){e.next=10;break}throw new C(this.id+" fetchOrderBook() returned empty response: "+this.json(i));case 10:return a=n.tick,s=n.ts,e.abrupt("return",this.parseOrderBook(a,s,"buys"));case 13:throw new C(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(i));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=r.uppercaseId,e.next=6,this.exchangeGetApiPublicMarketDetail(a);case 6:if(n=e.sent,i in n){e.next=9;break}throw new C(this.id+" fetchTicker symbol "+t+" ("+i+") not found");case 9:return e.abrupt("return",this.parseTicker(n[i],r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.exchangeGetApiPublicMarketDetail(c);case 4:for(t=e.sent,r={},i=(0,a.default)(t),n=0;n<i.length;n++)s=i[n],u=void 0,d=s,s in this.options.marketsByUppercaseId&&(d=this.options.marketsByUppercaseId[s].symbol,u=this.options.marketsByUppercaseId[s]),r[d]=this.parseTicker(t[s],u);return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"side"),i=void 0,n=void 0,a=void 0;"undefined"!==typeof r?(r=r.toLowerCase(),n=this.safeFloat(e,"price"),i=this.safeFloat(e,"amount")):(n=this.safeFloat(e.price,"amount"),i=this.safeFloat(e.volume,"amount"),a=this.safeFloat(e.deal_price,"amount")),"undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"===typeof a&&(a=i*n);var s=this.safeValue(e,"created_at");"undefined"===typeof s&&(s=this.safeValue(e,"ts"));var o="undefined"!==typeof s?this.iso8601(s):void 0,u=void 0;return"undefined"!==typeof t&&(u=t.symbol),{info:e,id:e.id.toString(),order:void 0,timestamp:s,datetime:o,symbol:u,type:void 0,side:r,price:n,amount:i,cost:a,fee:void 0}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof s&&(i.size=s),e.next=7,this.publicGetHistoryTrade(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n.data.trade_data,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof i){e.next=2;break}throw new C(this.id+" fetchOrders requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(i),"undefined"===typeof a&&(a=100),e.next=8,this.privateGetOrderTrade(this.extend({symbol:t.id,offset:1,limit:a},s));case 8:return r=e.sent,e.abrupt("return",this.parseTrades(r.data.list,t,n,a));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,period:this.timeframes[a]},"undefined"!==typeof u&&(i.size=u),e.next=7,this.publicGetHistoryKline(this.extend(i,d));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n.data.kline_data,r,a,s,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserBalance(c);case 4:for(t=e.sent,r=t.data,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.coin,u=s.toUpperCase(),u=this.commonCurrencyCode(u),s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),d=this.account(),d.used=parseFloat(a.lock),d.free=parseFloat(a.normal),d.total=this.sum(d.used,d.free),i[u]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrdersByStatus",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof a){e.next=2;break}throw new C(this.id+" fetchOrders requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(a),"undefined"===typeof u&&(u=100),r="open"===n?"privateGetOrderNew":"privateGetOrderHistory",e.next=9,this[r](this.extend({symbol:t.id,offset:1,limit:u},d));case 9:return i=e.sent,e.abrupt("return",this.parseOrders(i.data.list,t,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrdersByStatus("open",t,r,i,n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrdersByStatus("closed",t,r,i,n));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"side");r=r.toLowerCase();var i=void 0,n=void 0;"undefined"!==typeof t&&(n=t.symbol);var a=e.created_at,s=this.safeFloat(e.volume,"amount"),o="remain_volume"in e?this.safeFloat(e.remain_volume,"amount"):void 0,u="deal_volume"in e?this.safeFloat(e.deal_volume,"amount"):void 0,d="age_price"in e?this.safeFloat(e.age_price,"amount"):void 0;"undefined"===typeof d&&(d="price"in e?this.safeFloat(e.price,"amount"):void 0);var c=void 0,l=void 0;return"undefined"!==typeof s&&("undefined"!==typeof o?"undefined"===typeof u&&(u=s-o):"undefined"!==typeof u&&(c=u*d,l=parseFloat(c/u),"undefined"===typeof o&&(o=s-u))),"undefined"!==typeof o&&o>0&&(i="open"),{info:e,id:e.id.toString(),timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:n,type:void 0,side:r,price:d,average:l,cost:c,amount:s,filled:u,remaining:o,status:i,fee:void 0}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(this.password){e.next=4;break}throw new O(this.id+" createOrder requires exchange.password to be set to user trading password (not login password!)");case 4:if(this.checkRequiredCredentials(),a=this.market(t),s="limit"===r?1:2,u={symbol:a.id,side:i.toUpperCase(),type:s,volume:this.amountToPrecision(t,n),capital_password:this.password},"market"!==r||"buy"!==i){e.next=12;break}if("undefined"!==typeof l){e.next=11;break}throw new B(this.id+" createOrder requires price argument for market buy orders to calculate total cost according to exchange rules");case 11:u.volume=this.amountToPrecision(t,n*l);case 12:return u.price="limit"===r?this.priceToPrecision(t,l):"undefined"===typeof l?this.priceToPrecision(t,0):this.priceToPrecision(t,l),e.next=15,this.privatePostOrder(this.extend(u,h));case 15:return d=e.sent,c=this.milliseconds(),e.abrupt("return",{info:d,id:d.data.order_id.toString(),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:void 0,symbol:t,type:r,side:i,price:l,amount:n,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0});case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("undefined"!==typeof n){e.next=4;break}throw new C(this.id+" cancelOrder requires a symbol argument");case 4:return r=this.market(n),e.next=7,this.privateDeleteOrder(this.extend({symbol:r.id,order_id:t},a));case 7:return i=e.sent,e.abrupt("return",{id:t,symbol:n,info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.checkRequiredCredentials();var o=this.urls.api[t]+"/"+this.implodeParams(e,i);if("private"===t){for(var u=this.milliseconds().toString(),d=this.keysort(this.extend({time:u},i)),c=(0,a.default)(d),l="",h=0;h<c.length;h++)l+=c[h]+d[c[h]];l+=this.secret;var f=this.hmac(this.encode(l),this.encode(this.secret),"sha512"),p="order"===e&&"POST"===r,v=p?{}:d;o+="?"+this.urlencode(this.keysort(this.extend({api_key:this.apiKey,time:u},v))),o+="&sign="+this.decode(f),"POST"===r&&(s=this.urlencode(d),n={"Content-Type":"application/x-www-form-urlencoded"})}else"public"===t?o+="?"+this.urlencode(this.extend({api_key:this.apiKey},i)):(0,a.default)(i).length&&(o+="?"+this.urlencode(i));return{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("code"in s){var o=this.safeString(s,"code");if("undefined"!==typeof o&&"0"!==o){var u=this.safeString(s,"msg"),d=this.id+" "+this.json(s),c=this.exceptions;if(o in c){if(2===o){if("offsetNot Null"===u)throw new C(d);if("Parameter error"===u)throw new C(d)}throw new c[o](d)}throw new C(this.id+' unknown "error" value: '+this.json(s))}}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(623);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"coolcoin",name:"CoolCoin",countries:"HK",urls:{logo:"https://user-images.githubusercontent.com/1294454/36770529-be7b1a04-1c5b-11e8-9600-d11f1996b539.jpg",api:{web:"https://www.coolcoin.com/coin",rest:"https://www.coolcoin.com/api/v1"},www:"https://www.coolcoin.com",doc:"https://www.coolcoin.com/help.api.html",fees:"https://www.coolcoin.com/spend.price.html"},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,BCH:.002,ETH:.01,ETC:.01,LTC:.001,TBC:"1%",HSR:"1%",NEO:"1%",SDC:"1%",EOS:"1%",BTM:"1%",XAS:"1%",ACT:"1%",SAK:"1%",GCS:"1%",HCC:"1%",QTUM:"1%",GEC:"1%",TRX:"1%",IFC:"1%",PAY:"1%",PGC:"1%",KTC:"1%",INT:"1%",LSK:"0.5%",SKT:"1%",SSS:"1%",BT1:"1%",BT2:"1%"}}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.OrderNotFound,B=T.OrderNotCached;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"cryptopia",name:"Cryptopia",rateLimit:1500,countries:"NZ",has:{CORS:!1,createMarketOrder:!1,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:"emulated",fetchOrderBooks:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchTickers:!0,deposit:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29484394-7b4ea6e2-84c6-11e7-83e5-1fccf4b2dc81.jpg",api:{public:"https://www.cryptopia.co.nz/api",private:"https://www.cryptopia.co.nz/api",web:"https://www.cryptopia.co.nz"},www:"https://www.cryptopia.co.nz",referral:"https://www.cryptopia.co.nz/Register?referrer=kroitor",doc:["https://www.cryptopia.co.nz/Forum/Category/45","https://www.cryptopia.co.nz/Forum/Thread/255","https://www.cryptopia.co.nz/Forum/Thread/256"]},timeframes:{"15m":15,"30m":30,"1h":60,"2h":120,"4h":240,"12h":720,"1d":1440,"1w":10080},api:{web:{get:["Exchange/GetTradePairChart"]},public:{get:["GetCurrencies","GetTradePairs","GetMarkets","GetMarkets/{id}","GetMarkets/{hours}","GetMarkets/{id}/{hours}","GetMarket/{id}","GetMarket/{id}/{hours}","GetMarketHistory/{id}","GetMarketHistory/{id}/{hours}","GetMarketOrders/{id}","GetMarketOrders/{id}/{count}","GetMarketOrderGroups/{ids}","GetMarketOrderGroups/{ids}/{count}"]},private:{post:["CancelTrade","GetBalance","GetDepositAddress","GetOpenOrders","GetTradeHistory","GetTransactions","SubmitTip","SubmitTrade","SubmitTransfer","SubmitWithdraw"]}},commonCurrencies:{ACC:"AdCoin",BAT:"BatCoin",BLZ:"BlazeCoin",BTG:"Bitgem",CC:"CCX",CMT:"Comet",EPC:"ExperienceCoin",FCN:"Facilecoin",FUEL:"FC2",HAV:"Havecoin",LBTC:"LiteBitcoin",LDC:"LADACoin",MARKS:"Bitmark",NET:"NetCoin",QBT:"Cubits",WRC:"WarCoin"},options:{fetchTickersErrors:!0}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v,m,y,k;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetTradePairs();case 2:for(t=e.sent,r=[],i=t.Data,n=0;n<i.length;n++)a=i[n],s=a.Id,u=a.Label,d=a.Symbol,c=a.BaseSymbol,l=this.commonCurrencyCode(d),h=this.commonCurrencyCode(c),u=l+"/"+h,f={amount:8,price:8},p=a.MinimumTrade,v={min:a.MinimumPrice,max:a.MaximumPrice},m={min:p,max:a.MaximumTrade},y={amount:m,price:v,cost:{min:a.MinimumBaseTrade,max:void 0}},k="OK"===a.Status,r.push({id:s,symbol:u,label:a.Label,base:l,quote:h,baseId:d,quoteId:c,info:a,maker:a.TradeFee/100,taker:a.TradeFee/100,lot:y.amount.min,active:k,precision:f,limits:y});return this.options.marketsByLabel=this.indexBy(r,"label"),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetMarketOrdersId(this.extend({id:this.marketId(t)},n));case 4:return r=e.sent,i=r.Data,e.abrupt("return",this.parseOrderBook(i,void 0,"Buy","Sell","Price","Volume"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l,h,f,p,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"15m",m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,k=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,"undefined"!==typeof m)for(i=[86400,172800,604800,1209600,2592e3,7776e3,15552e3],n=i.length,a=this.seconds(),s=parseInt(m/1e3),u=1;u<n;u++)a-s>i[u]&&(r=u);return e.next=4,this.loadMarkets();case 4:return d=this.market(t),c={tradePairId:d.id,dataRange:r,dataGroup:this.timeframes[v]},e.next=8,this.webGetExchangeGetTradePairChart(this.extend(c,k));case 8:for(l=e.sent,h=l.Candle,f=l.Volume,p=0;p<h.length;p++)h[p].push(f[p].basev);return e.abrupt("return",this.parseOHLCVs(h,d,v,m,y));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"joinMarketIds",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=e[0].toString(),i=1;i<e.length;i++)r+=t+e[i].toString();return r}},{key:"fetchOrderBooks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("undefined"!==typeof h){e.next=4;break}throw new C(this.id+" fetchOrderBooks requires the symbols argument as of May 2018 (up to 5 symbols at max)");case 4:if(!((t=h.length)>5)){e.next=7;break}throw new C(this.id+" fetchOrderBooks accepts 5 symbols at max");case 7:return r=this.joinMarketIds(this.marketIds(h)),e.next=10,this.publicGetGetMarketOrderGroupsIds(this.extend({ids:r},f));case 10:for(i=e.sent,n=i.Data,a={},s=0;s<n.length;s++)u=n[s],d=this.safeInteger(u,"TradePairId"),c=d,d in this.markets_by_id&&(l=this.markets_by_id[d],c=l.symbol),a[c]=this.parseOrderBook(u,void 0,"Buy","Sell","Price","Volume");return e.abrupt("return",a);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"Open"),a=this.safeFloat(e,"LastPrice"),s=a-n,o=this.safeFloat(e,"Volume"),u=this.safeFloat(e,"BaseVolume"),d=void 0;return"undefined"!==typeof u&&"undefined"!==typeof o&&o>0&&(d=u/o),{symbol:i,info:e,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"AskPrice"),askVolume:void 0,vwap:d,open:n,close:a,last:a,previousClose:void 0,change:s,percentage:this.safeFloat(e,"Change"),average:this.sum(a,n)/2,baseVolume:o,quoteVolume:u}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetMarketId(this.extend({id:r.id},a));case 5:return i=e.sent,n=i.Data,e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetGetMarkets(h);case 4:t=e.sent,r={},i=t.Data,n=0;case 8:if(!(n<i.length)){e.next=23;break}if(a=i[n],s=a.TradePairId,u=s in this.markets_by_id){e.next=17;break}if(!this.options.fetchTickersErrors){e.next=15;break}throw new C(this.id+" fetchTickers() returned unrecognized pair id "+s.toString());case 15:e.next=20;break;case 17:d=this.markets_by_id[s],c=d.symbol,r[c]=this.parseTicker(a,d);case 20:n++,e.next=8;break;case 23:return e.abrupt("return",this.filterByArray(r,"symbol",l));case 24:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"Timestamp"in e?r=1e3*e.Timestamp:"TimeStamp"in e&&(r=this.parse8601(e.TimeStamp));var i=this.safeFloat(e,"Price");i||(i=this.safeFloat(e,"Rate"));var n=this.safeFloat(e,"Total"),a=this.safeString(e,"TradeId");t||"TradePairId"in e&&e.TradePairId in this.markets_by_id&&(t=this.markets_by_id[e.TradePairId]);var s=void 0,o=void 0;return t&&(s=t.symbol,"Fee"in e&&(o={currency:t.quote,cost:e.Fee})),{id:a,info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:s,type:"limit",side:e.Type.toLowerCase(),price:i,cost:n,amount:e.Amount,fee:o}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=24,"undefined"!==typeof c&&(n=this.milliseconds()-c,a=36e5,i=parseInt(Math.ceil(n/a))),s={id:r.id,hours:i},e.next=8,this.publicGetGetMarketHistoryIdHours(this.extend(s,h));case 8:return u=e.sent,d=u.Data,e.abrupt("return",this.parseTrades(d,r,c,l));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,n&&(r=this.market(n),t.TradePairId=r.id),"undefined"!==typeof s&&(t.Count=s),e.next=8,this.privatePostGetTradeHistory(this.extend(t,u));case 8:return i=e.sent,e.abrupt("return",this.parseTrades(i.Data,r,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetCurrencies(h);case 2:for(t=e.sent,r=t.Data,i={},n=0;n<r.length;n++)a=r[n],s=a.Symbol,u=8,d=this.commonCurrencyCode(s),c="Active"===a.ListingStatus,l=a.Status.toLowerCase(),"ok"!==l&&(c=!1),i[d]={id:s,code:d,info:a,name:a.Name,active:c,status:l,fee:a.WithdrawFee,precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:a.MinBaseTrade,max:void 0},withdraw:{min:a.MinWithdraw,max:a.MaxWithdraw}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetBalance(c);case 4:for(t=e.sent,r=t.Data,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.Symbol,u=this.commonCurrencyCode(s),d={free:a.Available,used:0,total:a.Total},d.used=d.total-d.free,i[u]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return a=this.market(t),s={TradePairId:a.id,Type:this.capitalize(i),Rate:p,Amount:n},e.next=8,this.privatePostSubmitTrade(this.extend(s,v));case 8:if(u=e.sent){e.next=11;break}throw new C(this.id+" createOrder returned unknown error: "+this.json(u));case 11:return d=void 0,c=0,l="open","Data"in u&&"OrderId"in u.Data&&(u.Data.OrderId?d=u.Data.OrderId.toString():(c=n,l="closed")),h=this.milliseconds(),f={id:d,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:l,symbol:t,type:r,side:i,price:p,cost:p*n,amount:n,remaining:n-c,filled:c,fee:void 0},d&&(this.orders[d]=f),e.abrupt("return",this.extend({info:u},f));case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,e.prev=3,e.next=6,this.privatePostCancelTrade(this.extend({Type:"Trade",OrderId:t},n));case 6:r=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(3),!this.last_json_response){e.next=17;break}if(!(i=this.safeString(this.last_json_response,"Error"))){e.next=17;break}if(!(i.indexOf("does not exist")>=0)){e.next=17;break}throw new O(this.id+" cancelOrder() error: "+this.last_http_response);case 17:throw e.t0;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this,[[3,10]])}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else if("Market"in e){var i=e.Market;i in this.markets_by_id?(t=this.markets_by_id[i],r=t.symbol):i in this.options.marketsByLabel&&(t=this.options.marketsByLabel[i],r=t.symbol)}var n=this.parse8601(e.TimeStamp),a=this.safeFloat(e,"Amount"),s=this.safeFloat(e,"Remaining"),o=a-s;return{id:e.OrderId.toString(),info:this.omit(e,"status"),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:e.status,symbol:r,type:"limit",side:e.Type.toLowerCase(),price:this.safeFloat(e,"Rate"),cost:this.safeFloat(e,"Total"),amount:a,filled:o,remaining:s,fee:void 0}}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},"undefined"!==typeof y&&(t=this.market(y),r.TradePairId=t.id),e.next=7,this.privatePostGetOpenOrders(this.extend(r,g));case 7:for(i=e.sent,n=[],s=0;s<i.Data.length;s++)n.push(this.extend(i.Data[s],{status:"open"}));for(u=this.parseOrders(n,t),d=0;d<u.length;d++)this.orders[u[d].id]=u[d];for(c=this.indexBy(u,"id"),l=(0,a.default)(this.orders),h=[],f=0;f<l.length;f++)p=l[f],p in c?this.orders[p]=this.extend(this.orders[p],c[p]):(v=this.orders[p],"open"===v.status&&("undefined"!==typeof y&&v.symbol!==y||(this.orders[p]=this.extend(v,{status:"closed",cost:v.amount*v.price,filled:v.amount,remaining:0})))),m=this.orders[p],"undefined"!==typeof y&&m.symbol!==y||h.push(m);return e.abrupt("return",this.filterBySinceLimit(h,k,b));case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.toString(),e.next=3,this.fetchOrders(n,void 0,void 0,a);case 3:r=e.sent,i=0;case 5:if(!(i<r.length)){e.next=11;break}if(r[i].id!==t){e.next=8;break}return e.abrupt("return",r[i]);case 8:i++,e.next=5;break;case 11:throw new B(this.id+" order "+t+" not found in cached .orders, fetchOrder requires .orders (de)serialization implemented for this method to work properly");case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(n,a,s,u);case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)"open"===t[i].status&&r.push(t[i]);return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(n,a,s,u);case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)"closed"===t[i].status&&r.push(t[i]);return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostGetDepositAddress(this.extend({Currency:r.id},a));case 5:return i=e.sent,n=this.safeString(i.Data,"BaseAddress"),n||(n=this.safeString(i.Data,"Address")),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:"ok",info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return n=this.currency(t),this.checkAddress(i),a={Currency:n.id,Amount:r,Address:i},u&&(a.PaymentId=u),e.next=8,this.privatePostSubmitWithdraw(this.extend(a,d));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.Data});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t]+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString();s=this.json(u,{convertArraysToObjects:!0});var c=this.hash(this.encode(s),"md5","base64"),l=this.base64ToBinary(this.secret),h=this.encodeURIComponent(o),f=h.toLowerCase();c=this.binaryToString(c);var p=this.apiKey+r+f+d+c,v=this.hmac(this.encode(p),l,"sha256","base64");n={"Content-Type":"application/json",Authorization:"amx "+this.apiKey+":"+this.binaryToString(v)+":"+d}}else(0,a.default)(u).length&&(o+="?"+this.urlencode(u));return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,n,a,s,u,d);case 2:if(r=e.sent,"web"!==n){e.next=5;break}return e.abrupt("return",r);case 5:if(!r){e.next=16;break}if(!("Success"in r)){e.next=16;break}if(!r.Success){e.next=11;break}return e.abrupt("return",r);case 11:if(!("Error"in r)){e.next=16;break}if("undefined"===typeof(i=this.safeString(r,"error"))){e.next=16;break}if(!(i.indexOf("Insufficient Funds")>=0)){e.next=16;break}throw new _(this.id+" "+this.json(r));case 16:throw new C(this.id+" "+this.json(r));case 17:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(507);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"dsx",name:"DSX",countries:"UK",rateLimit:1500,has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTickers:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27990275-1413158a-645a-11e7-931c-94717f7510e3.jpg",api:{public:"https://dsx.uk/mapi",private:"https://dsx.uk/tapi",dwapi:"https://dsx.uk/dwapi"},www:"https://dsx.uk",doc:["https://api.dsx.uk","https://dsx.uk/api_docs/public","https://dsx.uk/api_docs/private",""]},api:{public:{get:["barsFromMoment/{id}/{period}/{start}","depth/{pair}","info","lastBars/{id}/{period}/{amount}","periodBars/{id}/{period}/{start}/{end}","ticker/{pair}","trades/{pair}"]},private:{post:["getInfo","TransHistory","TradeHistory","OrderHistory","ActiveOrders","Trade","CancelOrder"]},dwapi:{post:["getCryptoDepositAddress","cryptoWithdraw","fiatWithdraw","getTransactionStatus","getTransactions"]}}})}},{key:"getBaseQuoteFromMarketId",value:function(e){var t=e.toUpperCase(),r=t.slice(0,3),i=t.slice(3,6);return r=this.commonCurrencyCode(r),i=this.commonCurrencyCode(i),[r,i]}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetInfo();case 4:for(t=e.sent,r=t.return,i={info:r},n=r.funds,s=(0,o.default)(n),u=0;u<s.length;u++)d=s[u],c=d.toUpperCase(),c=this.commonCurrencyCode(c),l={free:n[d],used:0,total:r.total[d]},l.used=l.total-l.free,i[c]=l;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"avg");"undefined"!==typeof n&&n>0&&(n=1/n);var a=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:n,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_cur"),info:e}}},{key:"getOrderIdKey",value:function(){return"orderId"}},{key:"signBodyWithSecret",value:function(e){return this.decode(this.hmac(this.encode(e),this.encode(this.secret),"sha512","base64"))}},{key:"getVersionString",value:function(){return""}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(621);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"ethfinex",name:"Ethfinex",countries:"VG",version:"v1",rateLimit:1500,has:{CORS:!1,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTradingFees:!0,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37555526-7018a77c-29f9-11e8-8835-8e415c038a18.jpg",api:"https://api.ethfinex.com",www:"https://www.ethfinex.com",doc:["https://bitfinex.readme.io/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node","https://www.ethfinex.com/api_docs"]}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.OrderNotFound,M=_.AuthenticationError,I=_.InsufficientFunds,E=_.InvalidOrder,F=_.InvalidNonce;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1",has:{CORS:!1,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOrderTrades:!0,fetchOrderBooks:!0,fetchMyTrades:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:"https://api.exmo.com",www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{public:{get:["currency","order_book","pair_settings","ticker","trades"]},private:{post:["user_info","order_create","order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","required_amount","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","wallet_history"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001,LTC:.01,DOGE:1,DASH:.01,ETH:.01,WAVES:.001,ZEC:.001,USDT:25,XMR:.05,XRP:.02,KICK:350,ETC:.01,BCH:.001},deposit:{USDT:15,KICK:50}}},exceptions:{40005:M,40009:F,40015:O,40016:B,40017:M,50052:I,50054:I,50304:S,50173:S,50319:E,50321:E}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetPairSettings();case 2:for(t=e.sent,r=(0,d.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=t[s],c=s.replace("_","/"),l=c.split("/"),h=(0,o.default)(l,2),f=h[0],p=h[1],i.push({id:s,symbol:c,base:f,quote:p,active:!0,limits:{amount:{min:this.safeFloat(u,"min_quantity"),max:this.safeFloat(u,"max_quantity")},price:{min:this.safeFloat(u,"min_price"),max:this.safeFloat(u,"max_price")},cost:{min:this.safeFloat(u,"min_amount"),max:this.safeFloat(u,"max_amount")}},precision:{amount:8,price:8},info:u});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostUserInfo();case 4:for(t=e.sent,r={info:t},i=(0,d.default)(this.currencies),n=0;n<i.length;n++)s=i[n],o=this.account(),s in t.balances&&(o.free=parseFloat(t.balances[s])),s in t.reserved&&(o.used=parseFloat(t.reserved[s])),o.total=this.sum(o.free,o.used),r[s]=o;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.extend({pair:r.id},u),"undefined"!==typeof o&&(i.limit=o),e.next=7,this.publicGetOrderBook(i);case 7:return n=e.sent,s=n[r.id],e.abrupt("return",this.parseOrderBook(s,void 0,"bid","ask"));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBooks",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(t=void 0,c){e.next=10;break}if(t=this.ids.join(","),!(t.length>2048)){e.next=8;break}throw r=this.ids.length,new O(this.id+" has "+r.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks");case 8:e.next=12;break;case 10:t=this.marketIds(c),t=t.join(",");case 12:return e.next=14,this.publicGetOrderBook(this.extend({pair:t},l));case 14:for(i=e.sent,n={},t=(0,d.default)(i),s=0;s<t.length;s++)o=t[s],u=this.findSymbol(o),n[u]=this.parseOrderBook(i[o],void 0,"bid","ask");return e.abrupt("return",n);case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last_trade");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_curr"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(l);case 4:for(t=e.sent,r={},i=(0,d.default)(t),n=0;n<i.length;n++)s=i[n],o=this.markets_by_id[s],u=o.symbol,c=t[s],r[u]=this.parseTicker(c,o);return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(n);case 4:return r=e.sent,i=this.market(t),e.abrupt("return",this.parseTicker(r[i.id],i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{id:e.trade_id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:this.safeString(e,"order_id"),type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"quantity"),cost:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({pair:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i[r.id],r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,"undefined"!==typeof n&&(r=this.market(n),t.pair=r.id),e.next=7,this.privatePostUserTrades(this.extend(t,u));case 7:return i=e.sent,"undefined"!==typeof r&&(i=i[r.id]),e.abrupt("return",this.parseTrades(i,r,s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c,l,h,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s="market"===r?r+"_":"",o=this.market(t),"market"===r&&"undefined"===typeof p&&(p=0),u={pair:o.id,quantity:this.amountToString(t,n),type:s+i,price:this.priceToPrecision(t,p)},e.next=8,this.privatePostOrderCreate(this.extend(u,v));case 8:return d=e.sent,c=this.safeString(d,"order_id"),l=this.milliseconds(),n=parseFloat(n),p=parseFloat(p),h="open",f={id:c,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:void 0,status:h,symbol:t,type:r,side:i,price:p,cost:p*n,amount:n,remaining:n,filled:0,fee:void 0,trades:void 0},this.orders[c]=f,e.abrupt("return",this.extend({info:d},f));case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderCancel({order_id:t});case 4:return r=e.sent,t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.prev=2,e.next=5,this.privatePostOrderTrades({order_id:t.toString()});case 5:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 9:if(e.prev=9,e.t0=e.catch(2),!(e.t0 instanceof S)){e.next=14;break}if(!(t in this.orders)){e.next=14;break}return e.abrupt("return",this.orders[t]);case 14:throw new S(this.id+" fetchOrder order id "+t.toString()+" not found in cache.");case 15:case"end":return e.stop()}},e,this,[[2,9]])}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;arguments.length>4&&void 0!==arguments[4]&&arguments[4];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,"undefined"!==typeof n&&(r=this.market(n)),e.next=4,this.privatePostOrderTrades({order_id:t.toString()});case 4:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,s,o));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"updateCachedOrders",value:function(e,t){for(var r=0;r<e.length;r++){var i=e[r].id;this.orders[i]=e[r]}for(var n=this.indexBy(e,"id"),a=(0,d.default)(this.orders),s=0;s<a.length;s++){var o=a[s],u=this.orders[o];if(!(o in n)){if("undefined"!==typeof t&&t!==u.symbol)continue;"open"===u.status&&(u=this.extend(u,{status:"closed",cost:void 0,filled:u.amount,remaining:0}),"undefined"===typeof u.cost&&"undefined"!==typeof u.filled&&(u.cost=u.filled*u.price),this.orders[o]=u)}}return this.toArray(this.orders)}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostUserOpenOrders(f);case 4:for(t=e.sent,r=(0,d.default)(t),i=[],n=0;n<r.length;n++)s=r[n],o=void 0,s in this.markets_by_id&&(o=this.markets_by_id[s]),u=this.parseOrders(t[s],o),i=this.arrayConcat(i,u);return this.updateCachedOrders(i,c),e.abrupt("return",this.filterBySymbolSinceLimit(this.toArray(this.orders),c,l,h));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,s);case 2:return t=this.filterBy(this.orders,"status","open"),e.abrupt("return",this.filterBySymbolSinceLimit(t,r,i,n));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,s);case 2:return t=this.filterBy(this.orders,"status","closed"),e.abrupt("return",this.filterBySymbolSinceLimit(t,r,i,n));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"order_id"),i=this.safeInteger(e,"created");"undefined"!==typeof i&&(i*=1e3);var n=void 0,a=void 0,s=this.safeString(e,"type");if("undefined"===typeof t){var o=void 0;"pair"in e?o=e.pair:"in_currency"in e&&"out_currency"in e&&(o="buy"===s?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),"undefined"!==typeof o&&o in this.markets_by_id&&(t=this.markets_by_id[o])}var u=this.safeFloat(e,"quantity");if("undefined"===typeof u){var d="buy"===s?"in_amount":"out_amount";u=this.safeFloat(e,d)}var c=this.safeFloat(e,"price"),l=this.safeFloat(e,"amount"),h=0,f=[],p=this.safeValue(e,"trades"),v=void 0;if("undefined"!==typeof p&&Array.isArray(p))for(var m=0;m<p.length;m++){var y=this.parseTrade(p[m],t);"undefined"===typeof r&&(r=y.order),"undefined"===typeof i&&(i=y.timestamp),i>y.timestamp&&(i=y.timestamp),h+=y.amount,"undefined"===typeof v&&(v=0),"undefined"===typeof l&&(l=0),l+=y.cost,f.push(y)}"undefined"!==typeof i&&(n=this.iso8601(i));var k=void 0;"undefined"!==typeof u&&(k=u-h);var b=this.safeString(e,"status");b=h>=u?"closed":"open","undefined"===typeof t&&(t=this.getMarketFromTrades(f));var g=void 0;return"undefined"!==typeof t&&(a=t.symbol,g=t.quote),"undefined"===typeof l?"undefined"!==typeof c&&(l=c*h):"undefined"===typeof c&&h>0&&(c=l/h),{id:r,datetime:n,timestamp:i,lastTradeTimestamp:void 0,status:b,symbol:a,type:"limit",side:s,price:c,cost:l,amount:u,filled:h,remaining:k,trades:f,fee:{cost:v,currency:g},info:e}}},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostDepositAddress(d);case 4:return r=e.sent,i=this.safeString(r,t),n="ok",s=void 0,o=void 0,i&&(u=i.split(","),s=u[0],o=u[1]),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,tag:o,status:n,info:r});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMarketFromTrades",value:function(e){var t=this.indexBy(e,"pair"),r=(0,d.default)(t);if(1===r.length)return this.markets[r[0]]}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=s[a],u=parseFloat(this.costToPrecision(e,i*o)),d="quote";return"sell"===r?u*=n:d="base",{type:a,currency:s[d],rate:o,cost:parseFloat(this.feeToPrecision(e,u))}}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i){var n,s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return n={amount:r,currency:t,address:i},"undefined"!==typeof o&&(n.invoice=o),e.next=6,this.privatePostWithdrawCrypt(this.extend(n,u));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.task_id});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)(0,d.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var o=this.nonce();a=this.urlencode(this.extend({nonce:o},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&("{"===a[0]||"["===a[0])){var s=JSON.parse(a);if("result"in s){var o=this.safeValue(s,"result",!1);if("string"===typeof o&&(o="true"===o||"1"===o),!o){var u=void 0,d=this.safeString(s,"error"),c=d.split(":");if(c.length>1){var l=c[0].split(" ");u=l.length>1?l[1]:l[0]}var h=this.id+" "+this.json(s),f=this.exceptions;throw u in f?new f[u](h):new O(h)}}}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.AuthenticationError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"exx",name:"EXX",countries:"CN",rateLimit:100,has:{fetchOrder:!0,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k,b,g,w,x;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=(0,d.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=t[s],c=s.split("_"),l=(0,o.default)(c,2),h=l[0],f=l[1],p=s.toUpperCase(),v=p.split("_"),m=(0,o.default)(v,2),y=m[0],k=m[1],y=this.commonCurrencyCode(y),k=this.commonCurrencyCode(k),b=y+"/"+k,g=!0===u.isOpen,w={amount:parseInt(u.amountScale),price:parseInt(u.priceScale)},x=Math.pow(10,-w.amount),i.push({id:s,symbol:b,base:y,quote:k,baseId:h,quoteId:f,active:g,lot:x,precision:w,limits:{amount:{min:x,max:Math.pow(10,w.amount)},price:{min:Math.pow(10,-w.price),max:Math.pow(10,w.price)},cost:{min:void 0,max:void 0}},info:u});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=parseInt(e.date);e=e.ticker;var n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker(this.extend({currency:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(h);case 4:t=e.sent,r={},i=this.milliseconds(),n=(0,d.default)(t),s=0;case 9:if(!(s<n.length)){e.next=20;break}if((o=n[s])in this.marketsById){e.next=13;break}return e.abrupt("continue",17);case 13:u=this.marketsById[o],c=u.symbol,l={date:i,ticker:t[o]},r[c]=this.parseTicker(l,u);case 17:s++,e.next=9;break;case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetDepth(this.extend({currency:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,r.timestamp));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=this.costToPrecision(a,i*n);return{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type,price:i,amount:n,cost:s,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({currency:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetGetBalance(l);case 4:for(t=e.sent,r={info:t},t=t.funds,i=(0,d.default)(t),n=0;n<i.length;n++)s=i[n],o=t[s],u=this.commonCurrencyCode(s),c={free:parseFloat(o.balance),used:parseFloat(o.freeze),total:parseFloat(o.total)},r[u]=c;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=parseInt(e.trade_date),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"trade_money"),s=this.safeFloat(e,"total_amount"),o=this.safeFloat(e,"trade_amount",0),u=this.amountToPrecision(r,s-o),d=this.safeInteger(e,"status");d=1===d?"canceled":2===d?"closed":"open";var c=void 0;return"fees"in e&&(c={cost:this.safeFloat(e,"fees"),currency:t.quote}),{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:"open",symbol:r,type:"limit",side:e.type,price:n,cost:a,amount:s,filled:o,remaining:u,trades:void 0,fee:c,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=this.market(t),e.next=5,this.privateGetOrder(this.extend({currency:s.id,type:i,price:c,amount:n},l));case 5:return o=e.sent,u=o.id,d=this.parseOrder({id:u,trade_date:this.milliseconds(),total_amount:n,price:c,type:i,info:o},s),this.orders[u]=d,e.abrupt("return",d);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateGetCancel(this.extend({id:t,currency:r.id},s));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privateGetGetOrder(this.extend({id:t,currency:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privateGetOpenOrders(this.extend({currency:t.id},o));case 5:return r=e.sent,e.abrupt("return",this.parseOrders(r,t,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/"+e;if("public"===t)(0,d.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var o=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},i)));s+="?"+o+"&signature="+this.hmac(this.encode(o),this.encode(this.secret),"sha512")}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,s,o,u,d,c);case 2:if(r=e.sent,i=this.safeInteger(r,"code"),n=this.safeString(r,"message"),!i||100===i||!n){e.next=9;break}if(103!==i){e.next=8;break}throw new B(n);case 8:throw new O(n);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=r(619),O=_.ROUND;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"flowbtc",name:"flowBTC",countries:"BR",version:"v1",rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28162465-cd815d4c-67cf-11e7-8e57-438bea0523a2.jpg",api:"https://api.flowbtc.com:8405/ajax",www:"https://trader.flowbtc.com",doc:"http://www.flowbtc.com.br/api/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0035,taker:.0035}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicPostGetProductPairs();case 2:for(t=e.sent,r=t.productPairs,i={},n=0;n<r.length;n++)a=r[n],s=a.name,u=a.product1Label,d=a.product2Label,c={amount:this.safeInteger(a,"product1DecimalPlaces"),price:this.safeInteger(a,"product2DecimalPlaces")},l=u+"/"+d,i[l]={id:s,symbol:l,base:u,quote:d,precision:c,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:a};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetAccountInfo();case 4:for(t=e.sent,r=t.currencies,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.name,u={free:a.balance,used:a.hold,total:0},u.total=this.sum(u.free,u.used),i[s]=u;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicPostGetOrderBook(this.extend({productPair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","px","qty"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicPostGetTicker(this.extend({productPair:r.id},s));case 5:return i=e.sent,n=this.milliseconds(),a=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"volume24hr"),quoteVolume:this.safeFloat(i,"volume24hrProduct2"),info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.unixtime,i=0===e.incomingOrderSide?"buy":"sell";return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:i,price:e.px,amount:e.qty}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicPostGetTrades(this.extend({ins:r.id,startIndex:-1},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.trades,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"priceToPrecision",value:function(e,t){return this.decimalToPrecision(t,O,this.markets[e].precision.price,this.precisionMode)}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="market"===r?1:0,s={ins:this.marketId(t),side:i,orderType:a,qty:n,px:this.priceToPrecision(t,d)},e.next=6,this.privatePostCreateOrder(this.extend(s,c));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.serverOrderId});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(!("ins"in r)){e.next=6;break}return e.next=5,this.privatePostCancelOrder(this.extend({serverOrderId:t},r));case 5:return e.abrupt("return",e.sent);case 6:throw new C(this.id+" requires `ins` symbol parameter for cancelling an order");case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+e;if("public"===t)(0,a.default)(i).length&&(s=this.json(i));else{this.checkRequiredCredentials();var u=this.nonce(),d=u.toString()+this.uid+this.apiKey,c=this.hmac(this.encode(d),this.encode(this.secret));s=this.json(this.extend({apiKey:this.apiKey,apiNonce:u,apiSig:c.toUpperCase()},i)),n={"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("isAccepted"in(r=e.sent))){e.next=6;break}if(!r.isAccepted){e.next=6;break}return e.abrupt("return",r);case 6:throw new C(this.id+" "+this.json(r));case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(736);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"fybsg",name:"FYB-SG",countries:"SG",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766513-3364d56a-5edb-11e7-9e6b-d5898bb89c81.jpg",api:"https://www.fybsg.com/api/SGD",www:"https://www.fybsg.com",doc:"http://docs.fyb.apiary.io"},markets:{"BTC/SGD":{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError,O=T.InvalidAddress,B=T.InsufficientFunds,S=T.OrderNotFound,M=T.InvalidOrder,I=T.PermissionDenied;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"gatecoin",name:"Gatecoin",rateLimit:2e3,countries:"HK",comment:"a regulated/licensed exchange",has:{CORS:!1,createDepositAddress:!0,fetchDepositAddress:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1m","15m":"15m","1h":"1h","6h":"6h","1d":"24h"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28646817-508457f2-726c-11e7-9eeb-3528d2413a58.jpg",api:"https://api.gatecoin.com",www:"https://gatecoin.com",doc:["https://gatecoin.com/api","https://github.com/Gatecoin/RESTful-API-Implementation","https://api.gatecoin.com/swagger-ui/index.html"]},api:{public:{get:["Public/ExchangeRate","Public/LiveTicker","Public/LiveTicker/{CurrencyPair}","Public/LiveTickers","Public/MarketDepth/{CurrencyPair}","Public/NetworkStatistics/{DigiCurrency}","Public/StatisticHistory/{DigiCurrency}/{Typeofdata}","Public/TickerHistory/{CurrencyPair}/{Timeframe}","Public/Transactions/{CurrencyPair}","Public/TransactionsHistory/{CurrencyPair}","Reference/BusinessNatureList","Reference/Countries","Reference/Currencies","Reference/CurrencyPairs","Reference/CurrentStatusList","Reference/IdentydocumentTypes","Reference/IncomeRangeList","Reference/IncomeSourceList","Reference/VerificationLevelList","Stream/PublicChannel"],post:["Export/Transactions","Ping","Public/Unsubscribe/{EmailCode}","RegisterUser"]},private:{get:["Account/CorporateData","Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/FeeRate","Account/Level","Account/PersonalInformation","Account/Phone","Account/Profile","Account/Questionnaire","Account/Referral","Account/ReferralCode","Account/ReferralNames","Account/ReferralReward","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","APIKey/APIKey","Auth/ConnectionHistory","Balance/Balances","Balance/Balances/{Currency}","Balance/Deposits","Balance/Withdrawals","Bank/Accounts/{Currency}/{Location}","Bank/Transactions","Bank/UserAccounts","Bank/UserAccounts/{Currency}","ElectronicWallet/DepositWallets","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions","ElectronicWallet/Transactions/{DigiCurrency}","ElectronicWallet/UserWallets","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage","Notification/Messages","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrdersHistory","Trade/Trades","Trade/UserTrades"],post:["Account/DocumentAddress","Account/DocumentCorporation","Account/DocumentID","Account/Email/RequestVerify","Account/Email/Verify","Account/GoogleAuth","Account/Level","Account/Questionnaire","Account/Referral","APIKey/APIKey","Auth/ChangePassword","Auth/ForgotPassword","Auth/ForgotUserID","Auth/Login","Auth/Logout","Auth/LogoutOtherSessions","Auth/ResetPassword","Bank/Transactions","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}","ElectronicWallet/Transactions/Deposits/{DigiCurrency}","ElectronicWallet/Transactions/Withdrawals/{DigiCurrency}","ElectronicWallet/UserWallets/{DigiCurrency}","ElectronicWallet/Withdrawals/{DigiCurrency}","Notification/Messages","Notification/Messages/{ID}","Trade/Orders","Trade/StopOrders"],put:["Account/CorporateData","Account/DocumentID","Account/DocumentInformation","Account/Email","Account/PersonalInformation","Account/Phone","Account/Questionnaire","Account/ReferredCode","Account/ResidentInformation","Account/SecuritySettings","Account/User","Bank/UserAccounts","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}","Info/ReferenceCurrency","Info/ReferenceLanguage"],delete:["APIKey/APIKey/{PublicKey}","Bank/Transactions/{RequestID}","Bank/UserAccounts/{Currency}/{Label}","ElectronicWallet/DepositWallets/{DigiCurrency}/{AddressName}","ElectronicWallet/UserWallets/{DigiCurrency}/{AddressName}","Trade/Orders","Trade/Orders/{OrderID}","Trade/StopOrders","Trade/StopOrders/{ID}"]}},fees:{trading:{maker:.0025,taker:.0035}},commonCurrencies:{BCP:"BCPT",FLI:"FLIXX",MAN:"MANA",SLT:"SALT",TRA:"TRAC",WGS:"WINGS"},exceptions:{1005:B,1008:S,1057:M,1044:S}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetReferenceCurrencyPairs();case 2:for(t=e.sent,r=t.currencyPairs,i=[],n=0;n<r.length;n++)a=r[n],s=a.tradingCode,u=a.baseCurrency,d=a.quoteCurrency,c=this.commonCurrencyCode(u),l=this.commonCurrencyCode(d),h=c+"/"+l,f={amount:8,price:a.priceDecimalPlaces},p={amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:Math.pow(10,-f.amount),max:void 0},cost:{min:void 0,max:void 0}},i.push({id:s,symbol:h,base:c,quote:l,baseId:u,quoteId:d,active:!0,precision:f,limits:p,info:a});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalanceBalances();case 4:for(t=e.sent,r=t.balances,i={info:r},n=0;n<r.length;n++)a=r[n],s=a.currency,u=s,s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),d={free:a.availableBalance,used:this.sum(a.pendingIncoming,a.pendingOutgoing,a.openOrder),total:a.balance},i[u]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPublicMarketDepthCurrencyPair(this.extend({CurrencyPair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","volume"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTradeOrdersOrderID(this.extend({OrderID:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r.order));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.createDateTime),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"volume"),a=this.safeFloat(e,"vwap"),s=n*a,o=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(e,"open"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:s,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetPublicLiveTickers(c);case 4:for(t=e.sent,r=t.tickers,i={},n=0;n<r.length;n++)a=r[n],s=a.currencyPair,u=this.markets_by_id[s],d=u.symbol,i[d]=this.parseTicker(a,u);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPublicLiveTickerCurrencyPair(this.extend({CurrencyPair:r.id},a));case 5:return i=e.sent,n=i.ticker,e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0;if("way"in e){r="bid"===e.way?"buy":"sell";var n=e.way+"OrderId";i=this.safeString(e,n)}var a=1e3*parseInt(e.transactionTime);if("undefined"===typeof t){var s=this.safeString(e,"currencyPair");"undefined"!==typeof s&&(t=this.findMarket(s))}var o=void 0,u=this.safeFloat(e,"feeAmount"),d=e.price,c=e.quantity,l=d*c,h=void 0,f=void 0;return"undefined"!==typeof t&&(f=t.symbol,h=t.quote),"undefined"!==typeof u&&(o={cost:u,currency:h,rate:this.safeFloat(e,"feeRate")}),{info:e,id:this.safeString(e,"transactionId"),order:i,timestamp:a,datetime:this.iso8601(a),symbol:f,type:void 0,side:r,price:d,amount:c,cost:l,fee:o}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPublicTransactionsCurrencyPair(this.extend({CurrencyPair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.transactions,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*parseInt(e.createDateTime),e.open,e.high,e.low,void 0,e.volume]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={CurrencyPair:r.id,Timeframe:this.timeframes[s]},"undefined"!==typeof d&&(i.Count=d),i=this.extend(i,c),e.next=8,this.publicGetPublicTickerHistoryCurrencyPairTimeframe(i);case 8:return n=e.sent,a=this.parseOHLCVs(n.tickers,r,s,u,d),e.abrupt("return",this.sortBy(a,0));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(a={Code:this.marketId(t),Way:"buy"===i?"Bid":"Ask",Amount:n},"limit"===r&&(a.Price=u),!this.twofa){e.next=10;break}if(!("ValidationCode"in d)){e.next=9;break}a.ValidationCode=d.ValidationCode,e.next=10;break;case 9:throw new _(this.id+" two-factor authentication requires a missing ValidationCode parameter");case 10:return e.next=12,this.privatePostTradeOrders(this.extend(a,d));case 12:return s=e.sent,e.abrupt("return",{info:s,status:"open",id:this.safeString(s,"clOrderId")});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteTradeOrdersOrderID({OrderID:t});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={1:"open",2:"open",4:"canceled",6:"closed"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0===e.side?"buy":"sell",i=0===e.type?"limit":"market",n=void 0;if("undefined"===typeof t){var a=this.safeString(e,"code");a in this.markets_by_id&&(t=this.markets_by_id[a])}"undefined"!==typeof t&&(n=t.symbol);var s=1e3*parseInt(e.date),o=e.initialQuantity,u=e.remainingQuantity,d=o-u,c=e.price,l=c*d,h=e.clOrderId,f=this.parseOrderStatus(this.safeString(e,"status")),p=void 0,v=void 0;if("closed"===f){var m=void 0,y=void 0;p=[];var k=this.safeValue(e,"trades"),b=void 0,g=void 0,w=void 0;if("undefined"!==typeof k&&Array.isArray(k)){for(var x=0;x<k.length;x++){var T=this.parseTrade(k[x]);"undefined"===typeof m&&(m=0),"undefined"===typeof y&&(y=0),m+=T.amount,y+=T.amount*T.price,"fee"in T&&("undefined"!==typeof T.fee.cost&&("undefined"===typeof b&&(b=0),b+=T.fee.cost),g=T.fee.currency,"undefined"!==typeof T.fee.rate&&("undefined"===typeof w&&(w=0),w+=T.fee.rate)),p.push(T)}if("undefined"!==typeof m&&m>0&&(c=y/m),"undefined"!==typeof w){var C=p.length;C>0&&(w/=C)}"undefined"!==typeof b&&(v={cost:b,currency:g,rate:w})}}return{id:h,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:f,symbol:n,type:i,side:r,price:c,amount:o,filled:d,remaining:u,cost:l,trades:p,fee:v,info:e}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTradeOrders();case 4:if(t=e.sent,r=this.parseOrders(t.orders,void 0,n,a),"undefined"===typeof i){e.next=8;break}return e.abrupt("return",this.filterBySymbol(r,i));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce(),c=d.toString(),l="GET"===r?"":"application/json",h=r+o+l+c;h=h.toLowerCase();var f=this.hmac(this.encode(h),this.encode(this.secret),"sha256","base64");n={API_PUBLIC_KEY:this.apiKey,API_REQUEST_SIGNATURE:this.decode(f),API_REQUEST_DATE:c},"GET"!==r&&(n["Content-Type"]=l,s=this.json(this.extend({nonce:d},i)))}return{url:o,method:r,body:s,headers:n}}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),a={DigiCurrency:n.id,Address:i,Amount:r},e.next=7,this.privatePostElectronicWalletWithdrawalsDigiCurrency(this.extend(a,u));case 7:return s=e.sent,e.abrupt("return",{info:s,id:this.safeString(s,"id")});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),i={DigiCurrency:r.id},e.next=6,this.privateGetElectronicWalletDepositWalletsDigiCurrency(this.extend(i,d));case 6:if(n=e.sent,a=n.addresses,!((s=a.length)<1)){e.next=11;break}throw new O(this.id+" privateGetElectronicWalletDepositWalletsDigiCurrency() returned no addresses");case 11:return u=this.safeString(a[0],"address"),this.checkAddress(u),e.abrupt("return",{currency:t,address:u,status:"ok",info:n});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),i={DigiCurrency:r.id},e.next=6,this.privatePostElectronicWalletDepositWalletsDigiCurrency(this.extend(i,s));case 6:return n=e.sent,a=n.address,this.checkAddress(a),e.abrupt("return",{currency:t,address:a,status:"ok",info:n});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"createUserWallet",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.currency(t),s={DigiCurrency:a.id,AddressName:i,Address:r,Password:n},e.next=6,this.privatePostElectronicWalletUserWalletsDigiCurrency(this.extend(s,d));case 6:return u=e.sent,e.abrupt("return",{status:"ok",info:u});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)){if(a.indexOf("You are not authorized")>=0)throw new I(a);if("{"===a[0]){var s=JSON.parse(a);if("responseStatus"in s){var o=this.safeString(s.responseStatus,"errorCode"),u=this.safeString(s.responseStatus,"message"),d=this.id+" "+a;if("undefined"!==typeof o){var c=this.exceptions;if(o in c)throw new c[o](d);throw new C(d)}if("undefined"!==typeof u&&"OK"!==u)throw new C(d)}}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(439),o=i(s),u=r(436),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.InvalidAddress,S=_.OrderNotFound,M=_.NotSupported,I=_.DDoSProtection,E=_.InsufficientFunds;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"gateio",name:"Gate.io",countries:"CN",version:"2",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,withdraw:!0,createDepositAddress:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"]},api:{public:{get:["pairs","marketinfo","marketlist","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{4:I,7:M,8:M,9:M,15:I,16:S,17:S,21:E},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k,b,g,w;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketinfo();case 2:if(t=e.sent,r=this.safeValue(t,"pairs")){e.next=6;break}throw new O(this.id+" fetchMarkets got an unrecognized response");case 6:for(i=[],n=0;n<r.length;n++)s=r[n],u=(0,d.default)(s),c=u[0],l=s[c],h=c.split("_"),f=(0,o.default)(h,2),p=f[0],v=f[1],p=p.toUpperCase(),v=v.toUpperCase(),p=this.commonCurrencyCode(p),v=this.commonCurrencyCode(v),m=p+"/"+v,y={amount:8,price:l.decimal_places},k={min:l.min_amount,max:void 0},b={min:Math.pow(10,-l.decimal_places),max:void 0},g={min:k.min*b.min,max:void 0},w={amount:k,price:b,cost:g},i.push({id:c,symbol:m,base:p,quote:v,info:s,maker:l.fee/100,taker:l.fee/100,precision:y,limits:w});return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,o,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalances();case 4:for(t=e.sent,r={info:t},i=(0,d.default)(this.currencies),n=0;n<i.length;n++)s=i[n],o=this.commonCurrencyCode(s),u=this.account(),"available"in t&&s in t.available&&(u.free=parseFloat(t.available[s])),"locked"in t&&s in t.locked&&(u.used=parseFloat(t.locked[s])),u.total=this.sum(u.free,u.used),r[o]=u;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderBookId(this.extend({id:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(!(a.length<=0)&&"{"===a[0]){var s=JSON.parse(a);if("false"===this.safeString(s,"result","")){var o=this.safeString(s,"code");if("undefined"!==typeof o){var u=this.exceptions,d=this.errorCodeNames;if(o in u){var c="";throw c=o in d?d[o]:this.safeString(s,"message","(unknown)"),new u[o](c)}}}}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p,v,m,y,k=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(k);case 4:for(t=e.sent,r={},i=(0,d.default)(t),n=0;n<i.length;n++)s=i[n],u=s.split("_"),c=(0,o.default)(u,2),l=c[0],h=c[1],f=l.toUpperCase(),p=h.toUpperCase(),f=this.commonCurrencyCode(f),p=this.commonCurrencyCode(p),v=f+"/"+p,m=t[s],y=void 0,v in this.markets&&(y=this.markets[v]),s in this.markets_by_id&&(y=this.markets_by_id[s]),r[v]=this.parseTicker(m,y);return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerId(this.extend({id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.date)-288e5;return{id:e.tradeID,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"rate"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradeHistoryId(this.extend({id:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.data,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOpenOrders(n);case 2:return t=e.sent,e.abrupt("return",this.parseOrders(t.result.orders,void 0,r,i));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetOrder(this.extend({orderNumber:t,currencyPair:this.marketId(i)},n));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r.order));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={cancelled:"canceled"};return e in t?t[e]:e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeString(e,"orderNumber"),i=void 0;if("undefined"===typeof t){var n=this.safeString(e,"currencyPair");n in this.markets_by_id&&(t=this.markets_by_id[n])}"undefined"!==typeof t&&(i=t.symbol);var a=this.safeInteger(e,"timestamp");"undefined"!==typeof a&&(a*=1e3);var s=this.safeString(e,"status");"undefined"!==typeof s&&(s=this.parseOrderStatus(s));var o=this.safeString(e,"type"),u=this.safeFloat(e,"filledRate"),d=this.safeFloat(e,"initialAmount"),c=this.safeFloat(e,"filledAmount"),l=this.safeFloat(e,"leftAmount"),h=this.safeFloat(e,"feeValue"),f=this.safeString(e,"feeCurrency");return"undefined"!==typeof f&&f in this.currencies_by_id&&(f=this.currencies_by_id[f].code),{id:r,datetime:this.iso8601(a),timestamp:a,status:s,symbol:i,type:"limit",side:o,price:u,cost:void 0,amount:d,filled:c,remaining:l,trades:void 0,fee:{cost:h,currency:f},info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new O(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return s="privatePost"+this.capitalize(i),o=this.market(t),u={currencyPair:o.id,rate:c,amount:n},e.next=9,this[s](this.extend(u,l));case 9:return d=e.sent,e.abrupt("return",this.parseOrder(this.extend({status:"open",type:i,initialAmount:n}),d,o));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder({orderNumber:t,currencyPair:this.marketId(r)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"queryDepositAddress",value:function(){function e(e,r){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r){var i,n,s,o,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return i=this.currency(r),t="privatePost"+t+"Address",e.next=6,this[t](this.extend({currency:i.id},d));case 6:if(n=e.sent,s=this.safeString(n,"addr"),o=void 0,!("undefined"!==typeof s&&s.indexOf("address")>=0)){e.next=11;break}throw new B(this.id+" queryDepositAddress "+s);case 11:return"XRP"===r&&(u=s.split("/",2),s=u[0],o=u[1]),e.abrupt("return",{currency:i,address:s,tag:o,status:"undefined"!==typeof s?"ok":"none",info:n});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryDepositAddress("New",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryDepositAddress("Deposit",t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,"undefined"!==typeof i&&(t=this.market(i)),r=this.privatePostOpenOrders(),e.abrupt("return",this.parseOrders(r.orders,t,n,s));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new O(this.id+" fetchMyTrades requires symbol param");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r=t.id,i=this.privatePostTradeHistory(this.extend({currencyPair:r},u)),e.abrupt("return",this.parseTrades(i.trades,t,s,o));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t,r,i){var n,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),amount:r,address:i},s));case 5:return n=e.sent,e.abrupt("return",{info:n,id:void 0});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s="private"===t?t+"/":"",o=this.urls.api[t]+this.version+"/1/"+s+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,d.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c=this.nonce(),l={nonce:c};a=this.urlencode(this.extend(l,u));var h=this.hmac(this.encode(a),this.encode(this.secret),"sha512");n={Key:this.apiKey,Sign:h,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,s,o,u,d,c);case 2:if(!("result"in(r=e.sent))){e.next=15;break}if(i=r.result,n=this.id+" "+this.json(r),"undefined"!==typeof i){e.next=8;break}throw new O(n);case 8:if("string"!==typeof i){e.next=13;break}if("true"===i){e.next=11;break}throw new O(n);case 11:e.next=15;break;case 13:if(i){e.next=15;break}throw new O(n);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.InsufficientFunds,_=T.ExchangeError,O=T.InvalidOrder,B=T.AuthenticationError,S=T.NotSupported,M=T.OrderNotFound;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"gdax",name:"GDAX",countries:"US",rateLimit:1e3,userAgent:this.userAgents.chrome,has:{CORS:!0,fetchOHLCV:!0,deposit:!0,withdraw:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},urls:{test:"https://api-public.sandbox.gdax.com",logo:"https://user-images.githubusercontent.com/1294454/27766527-b1be41c6-5edb-11e7-95f6-5b496c469e2c.jpg",api:"https://api.gdax.com",www:"https://www.gdax.com",doc:"https://docs.gdax.com",fees:["https://www.gdax.com/fees","https://support.gdax.com/customer/en/portal/topics/939402-depositing-and-withdrawing-funds/articles"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","fills","funding","orders","orders/{id}","payment-methods","position","reports/{id}","users/self/trailing-volume"],post:["deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","reports","withdrawals/coinbase","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/{id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:0,taker:.003},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetProducts();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.id,s=n.base_currency,u=n.quote_currency,d=s+"/"+u,c={min:this.safeFloat(n,"quote_increment"),max:void 0},l={amount:8,price:this.precisionFromString(this.safeString(n,"quote_increment"))},h=this.fees.trading.taker,"ETH"!==s&&"LTC"!==s||(h=.003),f="online"===n.status,r.push(this.extend(this.fees.trading,{id:a,symbol:d,base:s,quote:u,precision:l,limits:{amount:{min:this.safeFloat(n,"base_min_size"),max:this.safeFloat(n,"base_max_size")},price:c,cost:{min:this.safeFloat(n,"min_market_funds"),max:this.safeFloat(n,"max_market_funds")}},taker:h,active:f,info:n}));return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccounts();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency,s={free:this.safeFloat(n,"available"),used:this.safeFloat(n,"hold"),total:this.safeFloat(n,"balance")},r[a]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetProductsIdBook(this.extend({id:this.marketId(t),level:2},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.extend({id:r.id},c),e.next=6,this.publicGetProductsIdTicker(i);case 6:return n=e.sent,a=this.parse8601(n.time),s=void 0,u=void 0,"bid"in n&&(s=this.safeFloat(n,"bid")),"ask"in n&&(u=this.safeFloat(n,"ask")),d=this.safeFloat(n,"price"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:s,bidVolume:void 0,ask:u,askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(n,"volume"),quoteVolume:void 0,info:n});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"time"in e?r=this.parse8601(e.time):"created_at"in e&&(r=this.parse8601(e.created_at));var i=void 0;"undefined"!==typeof r&&(i=this.iso8601(r));var n=void 0;if(!t&&"product_id"in e){var a=e.product_id;a in this.markets_by_id&&(t=this.markets_by_id[a])}t&&(n=t.symbol);var s=void 0,o=void 0;if(t&&(o=t.quote,"liquidity"in e)){s=t["T"===e.liquidity?"taker":"maker"]}var u=this.safeFloat(e,"fill_fees");"undefined"===typeof u&&(u=this.safeFloat(e,"fee"));var d={cost:u,currency:o,rate:s},c=this.safeString(e,"trade_id"),l="buy"===e.side?"sell":"buy",h=this.safeString(e,"order_id");return"undefined"!==typeof h&&(l="buy"===e.side?"buy":"sell"),{id:c,order:h,info:e,timestamp:r,datetime:i,symbol:n,type:void 0,side:l,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"size"),fee:d}}},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},"undefined"!==typeof n&&(t=this.market(n),r.product_id=t.id),"undefined"!==typeof s&&(r.limit=s),e.next=8,this.privateGetFills(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseTrades(i,t,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetProductsIdTrades(this.extend({id:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[3],e[2],e[1],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.timeframes[s],n={id:r.id,granularity:i},"undefined"!==typeof u&&(n.start=this.ymdhms(u),"undefined"===typeof d&&(d=300),n.end=this.ymdhms(this.sum(d*i*1e3,u))),e.next=8,this.publicGetProductsIdCandles(this.extend(n,c));case 8:return a=e.sent,e.abrupt("return",this.parseOHLCVs(a,r,s,u,d));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTime",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTime();case 2:return t=e.sent,e.abrupt("return",this.parse8601(t.iso));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled"};return this.safeString(t,e,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),i=void 0;t||e.product_id in this.markets_by_id&&(t=this.markets_by_id[e.product_id]);var n=this.parseOrderStatus(e.status),a=this.safeFloat(e,"price"),s=this.safeFloat(e,"size");"undefined"===typeof s&&(s=this.safeFloat(e,"funds")),"undefined"===typeof s&&(s=this.safeFloat(e,"specified_funds"));var o=this.safeFloat(e,"filled_size"),u=void 0;"undefined"!==typeof s&&"undefined"!==typeof o&&(u=s-o);var d=this.safeFloat(e,"executed_value"),c={cost:this.safeFloat(e,"fill_fees"),currency:void 0,rate:void 0};return t&&(i=t.symbol),{id:e.id,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:n,symbol:i,type:e.type,side:e.side,price:a,cost:d,amount:s,filled:o,remaining:u,fee:c}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrdersId(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={status:"all"},r=void 0,n&&(r=this.market(n),t.product_id=r.id),e.next=7,this.privateGetOrders(this.extend(t,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,n&&(r=this.market(n),t.product_id=r.id),e.next=7,this.privateGetOrders(this.extend(t,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={status:"done"},r=void 0,n&&(r=this.market(n),t.product_id=r.id),e.next=7,this.privateGetOrders(this.extend(t,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={product_id:this.marketId(t),side:i,size:n,type:r},"limit"===r&&(a.price=u),e.next=6,this.privatePostOrders(this.extend(a,d));case 6:return s=e.sent,e.abrupt("return",this.parseOrder(s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteOrdersId({id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"feeToPrecision",value:function(e,t){return parseFloat(t).toFixed(this.currencies[e].precision)}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o=s[a],u=i*n,d=s.quote;return{type:a,currency:d,rate:o,cost:parseFloat(this.feeToPrecision(d,o*u))}}},{key:"getPaymentMethods",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetPaymentMethods();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"deposit",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(n={currency:t,amount:r},a="privatePostDeposits",!("payment_method_id"in u)){e.next=8;break}a+="PaymentMethod",e.next=13;break;case 8:if(!("coinbase_account_id"in u)){e.next=12;break}a+="CoinbaseAccount",e.next=13;break;case 12:throw new S(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");case 13:return e.next=15,this[a](this.extend(n,u));case 15:if(s=e.sent){e.next=18;break}throw new _(this.id+" deposit() error: "+this.json(s));case 18:return e.abrupt("return",{info:s,id:s.id});case 19:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n={currency:t,amount:r},a="privatePostWithdrawals","payment_method_id"in u?a+="PaymentMethod":"coinbase_account_id"in u?a+="CoinbaseAccount":(a+="Crypto",n.crypto_address=i),e.next=8,this[a](this.extend(n,u));case 8:if(s=e.sent){e.next=11;break}throw new _(this.id+" withdraw() error: "+this.json(s));case 11:return e.abrupt("return",{info:s,id:s.id});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));"GET"===r&&(0,a.default)(u).length&&(o+="?"+this.urlencode(u));var d=this.urls.api+o;if("private"===t){this.checkRequiredCredentials();var c=this.nonce().toString(),l="";"GET"!==r&&(0,a.default)(u).length&&(s=this.json(u),l=s);var h=c+r+o+l,f=this.base64ToBinary(this.secret),p=this.hmac(this.encode(h),f,"sha256","base64");n={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":this.decode(p),"CB-ACCESS-TIMESTAMP":c,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:d,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(400===e||404===e){if("{"===a[0]){var s=JSON.parse(a),o=s.message,u=this.id+" "+o;if(o.indexOf("price too small")>=0)throw new O(u);if(o.indexOf("price too precise")>=0)throw new O(u);if("Insufficient funds"===o)throw new C(u);if("NotFound"===o)throw new M(u);if("Invalid API Key"===o)throw new B(u);throw new _(this.id+" "+o)}throw new _(this.id+" "+a)}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("message"in(r=e.sent))){e.next=5;break}throw new _(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"gemini",name:"Gemini",countries:"US",rateLimit:1500,version:"v1",has:{fetchDepositAddress:!1,createDepositAddress:!0,CORS:!1,fetchBidsAsks:!1,fetchTickers:!1,fetchMyTrades:!0,fetchOrder:!1,fetchOrders:!1,fetchOpenOrders:!1,fetchClosedOrders:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:"https://api.gemini.com",www:"https://gemini.com",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:"https://api.sandbox.gemini.com",fees:["https://gemini.com/fee-schedule/","https://gemini.com/transfer-fees/"]},api:{public:{get:["symbols","pubticker/{symbol}","book/{symbol}","trades/{symbol}","auction/{symbol}","auction/{symbol}/history"]},private:{post:["order/new","order/cancel","order/cancel/session","order/cancel/all","order/status","orders","mytrades","tradevolume","balances","deposit/{currency}/newAddress","withdraw/{currency}","heartbeat"]}},fees:{trading:{taker:.0025,maker:.0025}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbols();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n,s=a.toUpperCase(),u=s.slice(0,3),d=s.slice(3,6),c=u+"/"+d,r.push({id:n,symbol:c,base:u,quote:d,info:a});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetBookSymbol(this.extend({symbol:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"bids","asks","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPubtickerSymbol(this.extend({symbol:r.id},d));case 5:return i=e.sent,n=i.volume.timestamp,a=r.base,s=r.quote,u=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:void 0,low:void 0,bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(i.volume[a]),quoteVolume:parseFloat(i.volume[s]),info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=e.timestampms,i=void 0;"order_id"in e&&(i=e.order_id.toString());var n=this.safeFloat(e,"fee_amount");if("undefined"!==typeof n){var a=this.safeString(e,"fee_currency");"undefined"!==typeof a&&(a in this.currencies_by_id&&(a=this.currencies_by_id[a].code),a=this.commonCurrencyCode(a)),n={cost:this.safeFloat(e,"fee_amount"),currency:a}}var s=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");return{id:e.tid.toString(),order:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:s,cost:s*o,amount:o,fee:n}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradesSymbol(this.extend({symbol:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalances();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency,s={free:parseFloat(n.available),used:0,total:parseFloat(n.amount)},s.used=s.total-s.free,r[a]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("market"!==r){e.next=4;break}throw new C(this.id+" allows limit orders only");case 4:return a=this.nonce(),s={client_order_id:a.toString(),symbol:this.marketId(t),amount:n.toString(),price:d.toString(),side:i,type:"exchange limit"},e.next=8,this.privatePostOrderNew(this.extend(s,c));case 8:return u=e.sent,e.abrupt("return",{info:u,id:u.order_id});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderCancel({order_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" fetchMyTrades requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r={symbol:t.id},"undefined"!==typeof s&&(r.limit=s),e.next=9,this.privatePostMytrades(this.extend(r,u));case 9:return i=e.sent,e.abrupt("return",this.parseTrades(i,t,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostWithdrawCurrency(this.extend({currency:n.id,amount:r,address:i},s));case 6:return a=e.sent,e.abrupt("return",{info:a,id:this.safeString(a,"txHash")});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce(),c=this.extend({request:o,nonce:d},u),l=this.json(c);l=this.stringToBase64(this.encode(l));var h=this.hmac(l,this.encode(this.secret),"sha384");n={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(l),"X-GEMINI-SIGNATURE":h}}return o=this.urls.api+o,{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("result"in(r=e.sent))){e.next=6;break}if("error"!==r.result){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostDepositCurrencyNewAddress(this.extend({currency:r.id},a));case 5:return i=e.sent,n=this.safeString(i,"address"),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:"ok",info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(732);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"getbtc",name:"GetBTC",countries:["VC","RU"],rateLimit:1e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/33801902-03c43462-dd7b-11e7-992e-077e4cd015b9.jpg",api:"https://getbtc.org/api",www:"https://getbtc.org",doc:"https://getbtc.org/api-docs.php"},has:{fetchTrades:!1,fetchOHLCV:!1},fees:{trading:{taker:.002,maker:.002}},markets:{"BTC/USD":{lot:1e-8,symbol:"BTC/USD",quote:"USD",base:"BTC",precision:{amount:8,price:8},id:"USD",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}},"BTC/EUR":{lot:1e-8,symbol:"BTC/EUR",quote:"EUR",base:"BTC",precision:{amount:8,price:8},id:"EUR",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}},"BTC/RUB":{lot:1e-8,symbol:"BTC/RUB",quote:"RUB",base:"BTC",precision:{amount:8,price:8},id:"RUB",limits:{amount:{max:void 0,min:1e-8},price:{max:"undefined",min:1e-8}}}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(532),y=r(437),k=y.PermissionDenied;e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"hadax",name:"HADAX",countries:"CN",hostname:"api.hadax.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/38059952-4756c49e-32f1-11e8-90b9-45c1eccba9cd.jpg",api:"https://api.hadax.com",www:"https://www.hadax.com",doc:"https://github.com/huobiapi/API_Docs/wiki"},has:{fetchCurrencies:!1},api:{public:{get:["hadax/common/symbols","hadax/common/currencys","common/timestamp","hadax/settings/currencys"]},private:{get:["account/accounts","hadax/account/accounts/{id}/balance","order/orders/{id}","order/orders/{id}/matchresults","order/orders","order/matchresults","dw/withdraw-virtual/addresses","dw/deposit-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance"],post:["hadax/order/orders/place","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay"]}},exceptions:{"not-allow-entry-hadax":k},options:{fetchMarketsMethod:"publicGetHadaxCommonSymbols",fetchBalanceMethod:"privateGetHadaxAccountAccountsIdBalance",createOrderMethod:"privatePostHadaxOrderOrdersPlace"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(505),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(737),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.OrderNotFound,M=_.InsufficientFunds,I=_.InvalidOrder;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"hitbtc2",name:"HitBTC v2",countries:"HK",rateLimit:1500,version:"2",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!0,editOrder:!0,fetchCurrencies:!0,fetchOHLCV:!0,fetchTickers:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://api.hitbtc.com",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["symbol","symbol/{symbol}","currency","currency/{currency}","ticker","ticker/{symbol}","trades/{symbol}","orderbook/{symbol}","candles/{symbol}"]},private:{get:["order","order/{clientOrderId}","trading/balance","trading/fee/{symbol}","history/trades","history/order","history/order/{id}/trades","account/balance","account/transactions","account/transactions/{id}","account/crypto/address/{currency}"],post:["order","account/crypto/withdraw","account/crypto/address/{currency}","account/transfer"],put:["order/{clientOrderId}","account/crypto/withdraw/{id}"],delete:["order","order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-1e-4,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00958,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,XRP:.509,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMM:14,AMP:342,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,BET:124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTCA:351.21,BTM:40,BTX:.04,BUS:.004,CAPP:97,CCT:6,CDT:100,CDX:30,CFI:61,CL:13.85,CLD:.88,CND:574,CNX:.04,COSS:65,CPAY:5.487,CSNO:16,CTR:15,CTX:146,CVC:8.46,DATA:12.949,DBIX:.0168,DCN:1280,DCT:.02,DDF:342,DENT:1e3,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,EKO:1136.36,ELE:.00172,ELM:.004,EMC:.03,MGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FCN:5e-6,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GAME:.004,GNO:.0034,GUP:4,GVT:1.2,HSR:.04,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:790,ITS:15.0012,IXT:11,KBR:143,KICK:112,KMD:4,LA:41,LEND:388,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LOC:11.076,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MCO:.357,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NGC:2.368,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RLC:1.21,RVT:14,SC:30,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SWFTC:352.94,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STAR:.144,STORM:153.19,STEEM:.01,STRAT:.01,SPF:14.4,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TGT:173,TKR:84,TNT:90,TRST:1.6,TRX:270,UET:480,UGT:15,UTT:3,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,WRC:48,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,BET:0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},options:{defaultTimeInForce:"FOK"},exceptions:{2010:I,2011:I,2020:I,20002:S,20001:M}})}},{key:"feeToPrecision",value:function(e,t){return this.truncate(t,8)}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetSymbol();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.id,s=n.baseCurrency,u=n.quoteCurrency,c=this.commonCurrencyCode(s),l=this.commonCurrencyCode(u),h=c+"/"+l,f=this.safeFloat(n,"quantityIncrement"),p=this.safeFloat(n,"tickSize"),v={price:this.precisionFromString(n.tickSize),amount:-1*(0,d.default)(f)},m=this.safeFloat(n,"takeLiquidityRate"),y=this.safeFloat(n,"provideLiquidityRate"),r.push(this.extend(this.fees.trading,{info:n,id:a,symbol:h,base:c,quote:l,baseId:s,quoteId:u,active:!0,taker:m,maker:y,precision:v,limits:{amount:{min:f,max:void 0},price:{min:p,max:void 0},cost:{min:f*p,max:void 0}}}));return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrency(v);case 2:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.id,s=8,u=this.commonCurrencyCode(a),d=this.safeValue(n,"payinEnabled"),c=this.safeValue(n,"payoutEnabled"),l=this.safeValue(n,"transferEnabled"),h=d&&c&&l,f="ok","disabled"in n&&n.disabled&&(f="disabled"),p="fiat","crypto"in n&&n.crypto&&(p="crypto"),r[u]={id:a,code:u,type:p,payin:d,payout:c,transfer:l,info:n,name:n.fullName,active:h,status:f,fee:this.safeFloat(n,"payoutFee"),precision:s,limits:{amount:{min:Math.pow(10,-s),max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,s)}}};return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.safeString(l,"type","trading"),r="privateGet"+this.capitalize(t)+"Balance",e.next=6,this[r]();case 6:for(i=e.sent,n={info:i},a=0;a<i.length;a++)s=i[a],u=s.currency,d=this.commonCurrencyCode(u),c={free:parseFloat(s.available),used:parseFloat(s.reserved),total:0},c.total=this.sum(c.free,c.used),n[d]=c;return e.abrupt("return",this.parseBalance(n));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[this.parse8601(e.timestamp),parseFloat(e.open),parseFloat(e.max),parseFloat(e.min),parseFloat(e.close),parseFloat(e.volume)]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,period:this.timeframes[a]},"undefined"!==typeof u&&(i.limit=u),e.next=7,this.publicGetCandlesSymbol(this.extend(i,d));case 7:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,u));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={symbol:this.marketId(t)},"undefined"!==typeof n&&(r.limit=n),e.next=6,this.publicGetOrderbookSymbol(this.extend(r,a));case 6:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bid","ask","price","size"));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"volume"),a=this.safeFloat(e,"volumeQuote"),s=this.safeFloat(e,"open"),o=this.safeFloat(e,"last"),u=void 0,d=void 0,c=void 0;"undefined"!==typeof o&&"undefined"!==typeof s&&(u=o-s,c=this.sum(o,s)/2,s>0&&(d=u/s*100));var l=void 0;return"undefined"!==typeof a&&"undefined"!==typeof n&&n>0&&(l=a/n),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:l,open:s,close:o,last:o,previousClose:void 0,change:u,percentage:d,average:c,baseVolume:n,quoteVolume:a,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(d);case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.symbol,s=this.markets_by_id[a],u=s.symbol,r[u]=this.parseTicker(n,s);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerSymbol(this.extend({symbol:r.id},n));case 5:if(!("message"in(i=e.sent))){e.next=8;break}throw new O(this.id+" "+i.message);case 8:return e.abrupt("return",this.parseTicker(i,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.timestamp),i=void 0;if(t)i=t.symbol;else{var n=e.symbol;n in this.markets_by_id?(t=this.markets_by_id[n],i=t.symbol):i=n}var a=void 0;if("fee"in e){var s=t?t.quote:void 0;a={cost:this.safeFloat(e,"fee"),currency:s}}var o=void 0;"clientOrderId"in e&&(o=e.clientOrderId);var u=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity"),c=u*d;return{info:e,id:e.id.toString(),order:o,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:e.side,price:u,amount:d,cost:c,fee:a}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradesSymbol(this.extend({symbol:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h,f,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s=this.uuid(),u=s.split("-"),d=u.join(""),d=d.slice(0,32),n=parseFloat(n),c={clientOrderId:d,symbol:a.id,side:i,quantity:this.amountToPrecision(t,n),type:r},"limit"===r?c.price=this.priceToPrecision(t,p):c.timeInForce=this.options.defaultTimeInForce,e.next=12,this.privatePostOrder(this.extend(c,v));case 12:return l=e.sent,h=this.parseOrder(l),f=h.id,this.orders[f]=h,e.abrupt("return",h);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"editOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.uuid(),s=a.split("-"),u=s.join(""),u=u.slice(0,32),d={clientOrderId:t,requestClientId:u},"undefined"!==typeof h&&(d.quantity=this.amountToPrecision(r,parseFloat(h))),"undefined"!==typeof f&&(d.price=this.priceToPrecision(r,f)),e.next=11,this.privatePatchOrderClientOrderId(this.extend(d,p));case 11:return c=e.sent,l=this.parseOrder(c),this.orders[l.id]=l,e.abrupt("return",l);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteOrderClientOrderId(this.extend({clientOrderId:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"createdAt"in e&&(r=this.parse8601(e.createdAt));var i=void 0;"updatedAt"in e&&(i=this.parse8601(e.updatedAt)),t||(t=this.markets_by_id[e.symbol]);var n=t.symbol,a=this.safeFloat(e,"quantity"),s=this.safeFloat(e,"cumQuantity"),o=e.status;"new"===o?o="open":"suspended"===o?o="open":"partiallyFilled"===o?o="open":"filled"===o&&(o="closed");var u=e.clientOrderId.toString(),d=this.safeFloat(e,"price");"undefined"===typeof d&&u in this.orders&&(d=this.orders[u].price);var c=void 0,l=void 0;return"undefined"!==typeof a&&"undefined"!==typeof s&&(c=a-s,"undefined"!==typeof d&&(l=s*d)),{id:u,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:i,status:o,symbol:n,type:e.type,side:e.side,price:d,amount:a,cost:l,filled:s,remaining:c,fee:void 0,info:e}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetHistoryOrder(this.extend({clientOrderId:t},n));case 4:if(r=e.sent,!((i=r.length)>0)){e.next=8;break}return e.abrupt("return",this.parseOrder(r[0]));case 8:throw new S(this.id+" order "+t+" not found");case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrderClientOrderId(this.extend({clientOrderId:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},n&&(t=this.market(n),r.symbol=t.id),e.next=7,this.privateGetOrder(this.extend(r,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i,t,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},a&&(t=this.market(a),r.symbol=t.id),"undefined"!==typeof u&&(r.limit=u),"undefined"!==typeof s&&(r.from=this.iso8601(s)),e.next=9,this.privateGetHistoryOrder(this.extend(r,d));case 9:return i=e.sent,n=this.parseOrders(i,t),n=this.filterBy(n,"status","closed"),e.abrupt("return",this.filterBySinceLimit(n,s,u));case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},r=void 0,n&&(r=this.market(n),t.symbol=r.id),"undefined"!==typeof a&&(t.from=this.iso8601(a)),"undefined"!==typeof s&&(t.limit=s),e.next=9,this.privateGetHistoryTrades(this.extend(t,u));case 9:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,"undefined"!==typeof a&&(r=this.market(a)),e.next=6,this.privateGetHistoryOrderIdTrades(this.extend({id:t},d));case 6:if(i=e.sent,!((n=i.length)>0)){e.next=10;break}return e.abrupt("return",this.parseTrades(i,r,s,u));case 10:throw new S(this.id+" order "+t+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]');case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostAccountCryptoAddressCurrency({currency:r.id});case 5:return i=e.sent,n=i.address,this.checkAddress(n),a=this.safeString(i,"paymentId"),e.abrupt("return",{currency:r,address:n,tag:a,status:"ok",info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetAccountCryptoAddressCurrency({currency:r.id});case 5:return i=e.sent,n=i.address,this.checkAddress(n),a=this.safeString(i,"paymentId"),e.abrupt("return",{currency:r.code,address:n,tag:a,status:"ok",info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),n=this.currency(t),a={currency:n.id,amount:parseFloat(r),address:i},u&&(a.paymentId=u),e.next=6,this.privatePostAccountCryptoWithdraw(this.extend(a,d));case 6:return s=e.sent,e.abrupt("return",{info:s,id:s.id});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/api/"+this.version+"/",u=this.omit(i,this.extractParams(e));if("public"===t)o+=t+"/"+this.implodeParams(e,i),(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),o+=this.implodeParams(e,i),"GET"===r?(0,a.default)(u).length&&(o+="?"+this.urlencode(u)):(0,a.default)(u).length&&(s=this.json(u));var d=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(d);n={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return o=this.urls.api+o,{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&e>=400){var s=this.id+" "+a;if(503===e||504===e)throw new B(s);if("{"===a[0]){var o=JSON.parse(a);if("error"in o){var u=this.safeString(o.error,"code"),d=this.exceptions;if(u in d)throw new d[u](s);if("Duplicate clientOrderId"===this.safeString(o.error,"message"))throw new I(s)}}throw new O(s)}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"huobi",name:"Huobi",countries:"CN",rateLimit:2e3,version:"v3",has:{CORS:!1,fetchOHLCV:!0},timeframes:{"1m":"001","5m":"005","15m":"015","30m":"030","1h":"060","1d":"100","1w":"200","1M":"300","1y":"400"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"http://api.huobi.com",www:"https://www.huobi.com",doc:"https://github.com/huobiapi/API_Docs_en/wiki"},api:{staticmarket:{get:["{id}_kline_{period}","ticker_{id}","depth_{id}","depth_{id}_{length}","detail_{id}"]},usdmarket:{get:["{id}_kline_{period}","ticker_{id}","depth_{id}","depth_{id}_{length}","detail_{id}"]},trade:{post:["get_account_info","get_orders","order_info","buy","sell","buy_market","sell_market","cancel_order","get_new_deal_orders","get_order_id_by_trade_id","withdraw_coin","cancel_withdraw_coin","get_withdraw_coin_result","transfer","loan","repayment","get_loan_available","get_loans"]}},markets:{"BTC/CNY":{id:"btc",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"staticmarket",coinType:1},"LTC/CNY":{id:"ltc",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"staticmarket",coinType:2}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tradePostGetAccountInfo();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d=this.account(),c="available_"+u+"_display",l="frozen_"+u+"_display",h="loan_"+u+"_display",c in t&&(d.free=parseFloat(t[c])),l in t&&(d.used=parseFloat(t[l])),h in t&&(d.used=this.sum(d.used,parseFloat(t[h]))),d.total=this.sum(d.free,d.used),r[s]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),i=r.type+"GetDepthId",e.next=4,this[i](this.extend({id:r.id},s));case 4:return n=e.sent,e.abrupt("return",this.parseOrderBook(n));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),i=r.type+"GetTickerId",e.next=4,this[i](this.extend({id:r.id},u));case 4:return n=e.sent,s=n.ticker,o=1e3*parseInt(n.time),e.abrupt("return",{symbol:t,timestamp:o,datetime:this.iso8601(o),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),ask:this.safeFloat(s,"sell"),vwap:void 0,open:this.safeFloat(s,"open"),close:void 0,first:void 0,last:this.safeFloat(s,"last"),change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(s,"vol"),info:s});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=e.ts;return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.direction,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),i=r.type+"GetDetailId",e.next=4,this[i](this.extend({id:r.id},u));case 4:return n=e.sent,e.abrupt("return",this.parseTrades(n.trades,r,s,o));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e[0],e[1],e[2],e[3],e[4],e[6]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",o=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),i=r.type+"GetIdKlinePeriod",e.next=4,this[i](this.extend({id:r.id,period:this.timeframes[s]},o));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.market(t),o="tradePost"+this.capitalize(i),u={coin_type:s.coinType,amount:n,market:s.quote.toLowerCase()},"limit"===r?u.price=c:o+=this.capitalize(r),d=this[o](this.extend(u,l)),e.abrupt("return",{info:d,id:d.id});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tradePostCancelOrder({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api;if("trade"===t){this.checkRequiredCredentials(),s+="/api"+this.version;var u=this.keysort(this.extend({method:e,access_key:this.apiKey,created:this.nonce()},i)),d=this.urlencode(this.omit(u,"market"));d+="&secret_key="+this.secret,u.sign=this.hash(this.encode(d)),a=this.urlencode(u),n={"Content-Type":"application/x-www-form-urlencoded"}}else{s+="/"+t+"/"+this.implodeParams(e,i)+"_json.js";var c=this.omit(i,this.extractParams(e));(0,o.default)(c).length&&(s+="?"+this.urlencode(c))}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"trade",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("status"in(r=e.sent))){e.next=6;break}if("error"!==r.status){e.next=6;break}throw new C(this.id+" "+this.json(r));case 6:if(!("code"in r)){e.next=8;break}throw new C(this.id+" "+this.json(r));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(532);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"huobicny",name:"Huobi CNY",hostname:"be.huobi.com",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:"https://be.huobi.com",www:"https://www.huobi.com",doc:"https://github.com/huobiapi/API_Docs/wiki/REST_api_reference"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"ice3x",name:"ICE3X",countries:"ZA",rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38012176-11616c32-3269-11e8-9f05-e65cf885bb15.jpg",api:"https://ice3x.com/api/v1",www:["https://ice3x.com","https://ice3x.co.za"],doc:"https://ice3x.co.za/ice-cubed-bitcoin-exchange-api-documentation-1-june-2017",fees:["https://help.ice3.com/support/solutions/articles/11000033293-trading-fees","https://help.ice3.com/support/solutions/articles/11000033288-fees-explained","https://help.ice3.com/support/solutions/articles/11000008131-what-are-your-fiat-deposit-and-withdrawal-fees-","https://help.ice3.com/support/solutions/articles/11000033289-deposit-fees"]},api:{public:{get:["currency/list","currency/info","pair/list","pair/info","stats/marketdepthfull","stats/marketdepthbtcav","stats/marketdepth","orderbook/info","trade/list","trade/info"]},private:{post:["balance/list","balance/info","order/new","order/cancel","order/list","order/info","trade/list","trade/info","transaction/list","transaction/info","invoice/list","invoice/info","invoice/pdf"]}},fees:{trading:{maker:.01,taker:.01}},precision:{amount:8,price:8}})}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyList(c);case 2:for(t=e.sent,r=t.response.entities,i=this.precision.amount,n={},a=0;a<r.length;a++)s=r[a],u=s.currency_id,d=this.commonCurrencyCode(s.iso.toUpperCase()),n[d]={id:u,code:d,name:s.name,active:!0,status:"ok",precision:i,limits:{amount:{min:void 0,max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0}},info:s};return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,a.default)(this.currencies).length){e.next=4;break}return e.next=3,this.fetchCurrencies();case 3:this.currencies=e.sent;case 4:return this.currencies_by_id=this.indexBy(this.currencies,"id"),e.next=7,this.publicGetPairList();case 7:for(t=e.sent,r=t.response.entities,i=[],n=0;n<r.length;n++)s=r[n],u=s.pair_id,d=s.currency_id_from.toString(),c=s.currency_id_to.toString(),l=this.currencies_by_id[d],h=this.currencies_by_id[c],f=this.commonCurrencyCode(l.code),p=this.commonCurrencyCode(h.code),v=f+"/"+p,i.push({id:u,symbol:v,base:f,quote:p,baseId:d,quoteId:c,active:!0,lot:void 0,info:s});return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=t.symbol,n=this.safeFloat(e,"last_price");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"max_bid"),bidVolume:void 0,ask:this.safeFloat(e,"min_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetStatsMarketdepthfull(this.extend({pair_id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i.response.entity,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetStatsMarketdepthfull(d);case 4:for(t=e.sent,r=t.response.entities,i={},n=0;n<r.length;n++)a=r[n],s=this.marketsById[a.pair_id],u=s.symbol,i[u]=this.parseTicker(a,s);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbookInfo(this.extend({pair_id:this.marketId(t)},n));case 4:return r=e.sent,i=r.response.entities,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","amount"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*parseInt(e.created),i=this.safeFloat(e,"price"),n=this.safeFloat(e,"volume"),a=t.symbol,s=parseFloat(this.costToPrecision(a,i*n)),o=this.safeFloat(e,"fee");return o&&(o={cost:o,currency:t.quote}),{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"trade_id"),order:void 0,type:"limit",side:e.type,price:i,amount:n,cost:s,fee:o,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradeList(this.extend({pair_id:r.id},u));case 5:return i=e.sent,n=i.response.entities,e.abrupt("return",this.parseTrades(n,r,a,s));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalanceList(c);case 4:for(t=e.sent,r={info:t},i=t.response.entities,n=0;n<i.length;n++)a=i[n],(s=a.currency_id)in this.currencies_by_id&&(u=this.currencies_by_id[s],d=u.code,r[d]={free:0,used:0,total:parseFloat(a.balance)});return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"pair_id"),i=void 0;r&&!t&&r in this.marketsById&&(t=this.marketsById[r],i=t.symbol);var n=1e3*this.safeInteger(e,"created"),a=this.safeFloat(e,"price"),s=this.safeFloat(e,"volume"),o=this.safeInteger(e,"active"),u=this.safeFloat(e,"remaining"),d=void 0;1===o?o="open":(o="closed",u=0,d=s);var c=this.safeFloat(e,"fee");return c&&(c={cost:c},t&&(c.currency=t.quote)),{id:this.safeString(e,"order_id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:o,symbol:i,type:"limit",side:e.type,price:a,cost:void 0,amount:s,filled:d,remaining:u,trades:void 0,fee:c,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),e.next=5,this.privatePostOrderNew(this.extend({pair_id:a.id,type:i,amount:n,price:c},l));case 5:return s=e.sent,u=this.parseOrder({order_id:s.response.entity.order_id,created:this.seconds(),active:1,type:i,price:c,volume:n,remaining:n,info:s},a),d=u.id,this.orders[d]=u,e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrderCancel(this.extend({order_id:t},i));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderInfo(this.extend({"order _id":t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r.response.entity));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostOrderList();case 4:return t=e.sent,r=t.response.entities,e.abrupt("return",this.parseOrders(r,void 0,i,n));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(a),r={pair_id:t.id},u&&(r.items_per_page=u),s&&(r.date_from=parseInt(s/1e3)),e.next=8,this.privatePostTradeList(this.extend(r,d));case 8:return i=e.sent,n=i.response.entities,e.abrupt("return",this.parseTrades(n,t,s,u));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostBalanceInfo(this.extend({currency_id:r.id},u));case 5:return i=e.sent,n=i.response.entity,a=this.safeString(n,"address"),s=a?"ok":"none",e.abrupt("return",{currency:t,address:a,tag:void 0,status:s,info:i});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+e;return"public"===t?(i=this.urlencode(i),i.length&&(s+="?"+i)):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({nonce:this.nonce()},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,c,l,h,f,p);case 2:if(r=e.sent,i=this.safeValue(r,"errors"),n=this.safeValue(r,"response"),!i&&n){e.next=20;break}a=["Key","user_id","Sign"],s=0;case 8:if(!(s<a.length)){e.next=19;break}if(u=a[s],d=this.safeString(i,u)){e.next=13;break}return e.abrupt("continue",16);case 13:if(!("user_id"===u&&d.indexOf("authorization")<0)){e.next=15;break}return e.abrupt("continue",16);case 15:throw new _(d);case 16:s++,e.next=8;break;case 19:throw new C(this.json(i));case 20:return e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30521662-cf3f477c-9bcb-11e7-89bc-d1ac85012eda.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetTradeHistorySummary","GetRecentTrades","GetFxRates"]},private:{post:["PlaceLimitOrder","PlaceMarketOrder","CancelOrder","GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","SynchDigitalCurrencyDepositAddressWithBlockchain","WithdrawDigitalCurrency","RequestFiatWithdrawal","GetTrades"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetValidPrimaryCurrencyCodes();case 2:return t=e.sent,e.next=5,this.publicGetGetValidSecondaryCurrencyCodes();case 5:for(r=e.sent,i=[],n=0;n<t.length;n++)for(a=t[n],s=a.toUpperCase(),u=this.commonCurrencyCode(s),d=0;d<r.length;d++)c=r[d],l=c.toUpperCase(),h=this.commonCurrencyCode(l),f=a+"/"+c,p=u+"/"+h,i.push({id:f,symbol:p,base:u,quote:h,baseId:a,quoteId:c,info:f});return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetAccounts();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.CurrencyCode,s=a.toUpperCase(),u=this.commonCurrencyCode(s),d=this.account(),d.free=n.AvailableBalance,d.total=n.TotalBalance,d.used=d.total-d.free,r[u]=d;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetOrderBook(this.extend({primaryCurrencyCode:r.baseId,secondaryCurrencyCode:r.quoteId},a));case 5:return i=e.sent,n=this.parse8601(i.CreatedTimestampUtc),e.abrupt("return",this.parseOrderBook(i,n,"BuyOrders","SellOrders","Price","Volume"));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.CreatedTimestampUtc),i=void 0;t&&(i=t.symbol);var n=e.LastPrice;return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:e.DayHighestPrice,low:e.DayLowestPrice,bid:e.CurrentHighestBidPrice,bidVolume:void 0,ask:e.CurrentLowestOfferPrice,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:e.DayAvgPrice,baseVolume:e.DayVolumeXbtInSecondaryCurrrency,quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetMarketSummary(this.extend({primaryCurrencyCode:r.baseId,secondaryCurrencyCode:r.quoteId},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"undefined"===typeof t?r=t.symbol:t=this.findMarket(e.PrimaryCurrencyCode+"/"+e.SecondaryCurrencyCode);var i=this.safeValue(e,"Type");i.indexOf("Market")>=0?i="market":i.indexOf("Limit")>=0&&(i="limit");var n=void 0;i.indexOf("Bid")>=0?n="buy":i.indexOf("Offer")>=0&&(n="sell");var a=this.parse8601(e.CreatedTimestampUtc),s=this.safeFloat(e,"VolumeOrdered");"undefined"===typeof s&&(s=this.safeFloat(e,"Volume"));var o=this.safeFloat(e,"VolumeFilled"),u=void 0,d=this.safeFloat(e,"FeePercent"),c=void 0;"undefined"!==typeof s&&"undefined"!==typeof o&&(u=s-o,"undefined"!==typeof d&&(c=d*o));var l=void 0;"undefined"!==typeof t&&(r=t.symbol,l=t.base);var h={rate:d,cost:c,currency:l},f=e.OrderGuid,p=this.parseOrderStatus(e.Status),v=this.safeFloat(e,"Value"),m=this.safeFloat(e,"AvgPrice"),y=this.safeFloat(e,"Price",m);return{info:e,id:f,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:i,side:n,price:y,cost:v,average:m,amount:s,filled:o,remaining:u,status:p,fee:h}}},{key:"parseOrderStatus",value:function(e){var t={Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"};return e in t?t[e]:e}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetOrderDetails(this.extend({orderGuid:t},a));case 4:return r=e.sent,i=void 0,"undefined"!==typeof n&&(i=this.market(n)),e.abrupt("return",this.parseOrder(r,i));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.safeInteger(d,"pageIndex",1),r=this.ordered({pageIndex:t,pageSize:u}),e.next=6,this.privatePostGetTrades(this.extend(r,d));case 6:return i=e.sent,n=void 0,"undefined"!==typeof a&&(n=this.market(a)),e.abrupt("return",this.parseTrades(i.Data,n,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.TradeTimestampUtc),i=this.safeString(e,"TradeGuid"),n=this.safeString(e,"OrderGuid"),a=this.safeFloat(e,"Price");"undefined"===typeof a&&(a=this.safeFloat(e,"SecondaryCurrencyTradePrice"));var s=this.safeFloat(e,"VolumeTraded");"undefined"===typeof s&&(s=this.safeFloat(e,"PrimaryCurrencyAmount"));var o=void 0;"undefined"!==typeof t&&(o=t.symbol);var u=this.safeString(e,"OrderType");return"undefined"!==typeof u&&(u.indexOf("Bid")>=0?u="buy":u.indexOf("Offer")>=0&&(u="sell")),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,order:n,type:void 0,side:u,price:a,amount:s,fee:void 0}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetRecentTrades(this.extend({primaryCurrencyCode:r.baseId,secondaryCurrencyCode:r.quoteId,numberOfRecentTradesToRetrieve:50},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.Trades,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s=this.capitalize(r),u="privatePostPlace"+s+"Order",d=s,d+="sell"===i?"Offer":"Bid",c=this.ordered({primaryCurrencyCode:a.baseId,secondaryCurrencyCode:a.quoteId,orderType:d}),"limit"===r&&(c.price=h),c.volume=n,e.next=12,this[u](this.extend(c,f));case 12:return l=e.sent,e.abrupt("return",{info:l,id:l.OrderGuid});case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder({orderGuid:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t]+"/"+e;if("public"===t)(0,a.default)(i).length&&(o+="?"+this.urlencode(i));else{this.checkRequiredCredentials();for(var u=this.nonce(),d=[o,"apiKey="+this.apiKey,"nonce="+u.toString()],c=(0,a.default)(i),l=[],h=0;h<c.length;h++){var f=c[h];l.push(f+"="+i[f])}d=this.arrayConcat(d,l);var p=d.join(","),v=this.hmac(this.encode(p),this.encode(this.secret));s=this.json({apiKey:this.apiKey,nonce:u,signature:v}),n={"Content-Type":"application/json"}}return{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.InvalidOrder,B=T.OrderNotFound,S=T.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"indodax",name:"INDODAX",countries:"ID",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!1,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:!1,fetchCurrencies:!1,withdraw:!0},version:"1.8",urls:{logo:"https://user-images.githubusercontent.com/1294454/37443283-2fddd0e4-281c-11e8-9741-b4f1419001b5.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://indodax.com/downloads/BITCOINCOID-API-DOCUMENTATION.pdf"},api:{public:{get:["{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},markets:{"BTC/IDR":{id:"btc_idr",symbol:"BTC/IDR",base:"BTC",quote:"IDR",baseId:"btc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e-4,max:void 0}}},"BCH/IDR":{id:"bch_idr",symbol:"BCH/IDR",base:"BCH",quote:"IDR",baseId:"bch",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BTG/IDR":{id:"btg_idr",symbol:"BTG/IDR",base:"BTG",quote:"IDR",baseId:"btg",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETH/IDR":{id:"eth_idr",symbol:"ETH/IDR",base:"ETH",quote:"IDR",baseId:"eth",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETC/IDR":{id:"etc_idr",symbol:"ETC/IDR",base:"ETC",quote:"IDR",baseId:"etc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"IGNIS/IDR":{id:"ignis_idr",symbol:"IGNIS/IDR",base:"IGNIS",quote:"IDR",baseId:"ignis",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"LTC/IDR":{id:"ltc_idr",symbol:"LTC/IDR",base:"LTC",quote:"IDR",baseId:"ltc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"NXT/IDR":{id:"nxt_idr",symbol:"NXT/IDR",base:"NXT",quote:"IDR",baseId:"nxt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"TEN/IDR":{id:"ten_idr",symbol:"TEN/IDR",base:"TEN",quote:"IDR",baseId:"ten",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"WAVES/IDR":{id:"waves_idr",symbol:"WAVES/IDR",base:"WAVES",quote:"IDR",baseId:"waves",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"XRP/IDR":{id:"xrp_idr",symbol:"XRP/IDR",base:"XRP",quote:"IDR",baseId:"xrp",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:10,max:void 0}}},"XZC/IDR":{id:"xzc_idr",symbol:"XZC/IDR",base:"XZC",quote:"IDR",baseId:"xzc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"XLM/IDR":{id:"str_idr",symbol:"XLM/IDR",base:"XLM",quote:"IDR",baseId:"str",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:20,max:void 0}}},"BTS/BTC":{id:"bts_btc",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"DASH/BTC":{id:"drk_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"drk",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",precision:{amount:8,price:5},limits:{amount:{min:.001,max:void 0}}},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"NXT/BTC":{id:"nxt_btc",symbol:"NXT/BTC",base:"NXT",quote:"BTC",baseId:"nxt",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"TEN/BTC":{id:"ten_btc",symbol:"TEN/BTC",base:"TEN",quote:"BTC",baseId:"ten",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XLM/BTC":{id:"str_btc",symbol:"XLM/BTC",base:"XLM",quote:"BTC",baseId:"str",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XEM/BTC":{id:"nem_btc",symbol:"XEM/BTC",base:"XEM",quote:"BTC",baseId:"nem",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"XRP/BTC":{id:"xrp_btc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetInfo();case 4:for(t=e.sent,r=t.return,i={info:r},n=(0,o.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=this.currencies[u],c=d.id,l=this.account(),l.free=this.safeFloat(r.balance,c,0),l.used=this.safeFloat(r.balance_hold,c,0),l.total=this.sum(l.free,l.used),i[u]=l;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetPairDepth(this.extend({pair:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"buy","sell"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPairTicker(this.extend({pair:r.id},c));case 5:return i=e.sent,n=i.ticker,s=1e3*this.safeFloat(n,"server_time"),o="vol_"+r.baseId.toLowerCase(),u="vol_"+r.quoteId.toLowerCase(),d=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"buy"),bidVolume:void 0,ask:this.safeFloat(n,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(n[o]),quoteVolume:parseFloat(n[u]),info:n});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.tid,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.type,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPairTrades(this.extend({pair:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"type"in e&&(r=e.type);var i=this.safeString(e,"status","open");"filled"===i?i="closed":"calcelled"===i&&(i="canceled");var n=void 0,a=void 0,s=this.safeFloat(e,"price"),o=void 0,u=void 0,d=void 0;if(t){n=t.symbol;var c=t.quoteId,l=t.baseId;if("idr"===t.quoteId&&"order_rp"in e&&(c="rp"),"idr"===t.baseId&&"remain_rp"in e&&(l="rp"),a=this.safeFloat(e,"order_"+c)){o=a/s;var h=this.safeFloat(e,"remain_"+c);"undefined"!==typeof h&&(u=h/s,d=o-u)}else o=this.safeFloat(e,"order_"+l),a=s*o,u=this.safeFloat(e,"remain_"+l),d=o-u}var f=void 0;d&&(f=a/d);var p=parseInt(e.submit_time);return{info:e,id:e.order_id,timestamp:p,datetime:this.iso8601(p),lastTradeTimestamp:void 0,symbol:n,type:"limit",side:r,price:s,cost:a,average:f,amount:o,filled:d,remaining:u,status:i,fee:void 0}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}throw new C(this.id+" fetchOrder requires a symbol");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(o),e.next=7,this.privatePostGetOrder(this.extend({pair:r.id,order_id:t},u));case 7:return i=e.sent,n=i.return,s=this.parseOrder(this.extend({id:t},n.order),r),e.abrupt("return",this.extend({info:i},s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},f&&(t=this.market(f),r.pair=t.id),e.next=7,this.privatePostOpenOrders(this.extend(r,m));case 7:if(i=e.sent,n=i.return.orders){e.next=11;break}return e.abrupt("return",[]);case 11:if("undefined"===typeof f){e.next=13;break}return e.abrupt("return",this.parseOrders(n,t,p,v));case 13:for(s=(0,o.default)(n),u=[],d=0;d<s.length;d++)c=s[d],l=n[c],t=this.markets_by_id[c],h=this.parseOrders(l,t,p,v),u=this.arrayConcat(u,h);return e.abrupt("return",u);case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new C(this.id+" fetchOrders requires a symbol");case 2:return e.next=4,this.loadMarkets();case 4:return t={},r=void 0,s&&(r=this.market(s),t.pair=r.id),e.next=9,this.privatePostOrderHistory(this.extend(t,d));case 9:if(i=e.sent,n=this.parseOrders(i.return.orders,r,o,u),n=this.filterBy(n,"status","closed"),!s){e.next=14;break}return e.abrupt("return",this.filterBySymbol(n,s));case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return s=this.market(t),o={pair:s.id,type:i,price:c},u=s.baseId,"buy"===i?o[s.quoteId]=n*c:o[s.baseId]=n,o[u]=n,e.next=11,this.privatePostTrade(this.extend(o,l));case 11:return d=e.sent,e.abrupt("return",{info:d,id:d.return.order_id.toString()});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" cancelOrder requires a symbol argument");case 2:if("undefined"!==typeof(r=this.safeValue(s,"side"))){e.next=5;break}throw new C(this.id+' cancelOrder requires an extra "side" param');case 5:return e.next=7,this.loadMarkets();case 7:return i=this.market(n),e.next=10,this.privatePostCancelOrder(this.extend({order_id:t,pair:i.id,type:s.side},s));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o,u,d,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),s=this.milliseconds(),o={currency:n.id,withdraw_amount:r,withdraw_address:i,request_id:s.toString()},c&&(o.withdraw_memo=c),e.next=9,this.privatePostWithdrawCoin(this.extend(o,l));case 9:return u=e.sent,d=void 0,"txid"in u&&u.txid.length>0&&(d=u.txid),e.abrupt("return",{info:u,id:d});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t];return"public"===t?s+="/"+this.implodeParams(e,i):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,nonce:this.nonce()},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if("string"===typeof a&&("undefined"===typeof s&&("{"!==a[0]&&"["!==a[0]||(s=JSON.parse(a))),!Array.isArray(s)&&"success"in s)){if(1===s.success){if("return"in s)return;throw new C(this.id+": malformed response: "+this.json(s))}var o=s.error,u=this.id+" "+this.json(s);if("Insufficient balance."===o)throw new _(u);if("invalid order."===o)throw new B(u);if(o.indexOf("Minimum price ")>=0)throw new O(u);if(o.indexOf("Minimum order ")>=0)throw new O(u);if("Invalid credentials. API not found or session has expired."===o)throw new S(u);if("Invalid credentials. Bad sign."===o)throw new S(u);throw new C(this.id+": unknown error: "+this.json(s))}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=r(437),O=_.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"itbit",name:"itBit",countries:"US",rateLimit:2e3,version:"v1",has:{CORS:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:0,taker:.002}}})}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketsSymbolOrderBook(this.extend({symbol:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketsSymbolTicker(this.extend({symbol:this.marketId(t)},c));case 2:if(r=e.sent,i="serverTimeUTC"in r){e.next=6;break}throw new C(this.id+" fetchTicker returned a bad response: "+this.json(r));case 6:return n=this.parse8601(r.serverTimeUTC),a=this.safeFloat(r,"vwap24h"),s=this.safeFloat(r,"volume24h"),u=void 0,"undefined"!==typeof s&&"undefined"!==typeof a&&(u=s*a),d=this.safeFloat(r,"lastPrice"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(r,"high24h"),low:this.safeFloat(r,"low24h"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(r,"openToday"),close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:u,info:r});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.timestamp),i=e.matchNumber.toString();return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:i,order:i,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetMarketsSymbolTrades(this.extend({symbol:r.id},s));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i.recentTrades,r,n,a));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchWallets();case 2:for(t=e.sent,r=t[0].balances,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.currency,u={free:parseFloat(a.availableBalance),used:0,total:parseFloat(a.totalBalance)},u.used=u.total-u.free,i[s]=u;return e.abrupt("return",this.parseBalance(i));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchWallets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.userId){e.next=2;break}throw new O(this.id+" fetchWallets requires userId in API settings");case 2:return t={userId:this.userId},e.abrupt("return",this.privateGetWallets(t));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchWallet",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={walletId:t},e.abrupt("return",this.privateGetWalletsWalletId(this.extend(r,i)));case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:"open"},n)));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrders(t,r,i,this.extend({status:"filled"},n)));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="walletId"in u){e.next=3;break}throw new C(this.id+" fetchOrders requires a walletId parameter");case 3:return r=u.walletId,e.next=6,this.privateGetWalletsWalletIdOrders(this.extend({walletId:r},u));case 6:return i=e.sent,n=this.parseOrders(i,void 0,a,s),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.side),r=e.type,i=this.markets_by_id[e.instrument].symbol,n=this.parse8601(e.createdTime),a=this.safeFloat(e,"amount"),s=this.safeFloat(e,"amountFilled"),o=a-s,u=this.safeFloat(e,"price"),d=u*this.safeFloat(e,"volumeWeightedAveragePrice");return{id:e.id,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:e.status,symbol:i,type:r,side:t,price:u,cost:d,amount:a,filled:s,remaining:o,fee:void 0}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:if(a="walletId"in l){e.next=5;break}throw new C(this.id+" createOrder requires a walletId parameter");case 5:return n=n.toString(),c=c.toString(),s=this.market(t),u={side:i,type:r,currency:s.id.replace(s.quote,""),amount:n,display:n,price:c,instrument:s.id},e.next=11,this.privatePostWalletsWalletIdOrders(this.extend(u,l));case 11:return d=e.sent,e.abrupt("return",{info:d,id:d.id});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="walletId"in i){e.next=3;break}throw new C(this.id+" fetchOrder requires a walletId parameter");case 3:return e.next=5,this.privateGetWalletsWalletIdOrdersId(this.extend({id:t},i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="walletId"in i){e.next=3;break}throw new C(this.id+" cancelOrder requires a walletId parameter");case 3:return e.next=5,this.privateDeleteWalletsWalletIdOrdersId(this.extend({id:t},i));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("GET"===r&&(0,a.default)(u).length&&(o+="?"+this.urlencode(u)),s="POST"===r&&(0,a.default)(u).length?this.json(u):"","private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),c=d,l=[r,o,s,d,c],h=d+this.json(l).replace("\\/","/"),f=this.hash(this.encode(h),"sha256","binary"),p=this.binaryConcat(o,f),v=this.hmac(p,this.encode(this.secret),"sha512","base64");n={Authorization:this.apiKey+":"+v,"Content-Type":"application/json","X-Auth-Timestamp":c,"X-Auth-Nonce":d}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("code"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(734);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"jubi",name:"jubi.com",countries:"CN",rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766581-9d397d9a-5edd-11e7-8fb9-5d8236c0e692.jpg",api:"https://www.jubi.com/api",www:"https://www.jubi.com",doc:"https://www.jubi.com/help/api.html"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAllticker();case 2:for(t=e.sent,r=(0,o.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=s.toUpperCase(),d="CNY",c=u+"/"+d,u=this.commonCurrencyCode(u),d=this.commonCurrencyCode(d),i.push({id:s,symbol:c,base:u,quote:d,info:s});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeNotAvailable,_=T.ExchangeError,O=T.OrderNotFound,B=T.DDoSProtection,S=T.InvalidNonce,M=T.InsufficientFunds,I=T.CancelPending,E=T.InvalidOrder,F=T.InvalidAddress;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"kraken",name:"Kraken",countries:"US",version:"0",rateLimit:3e3,has:{createDepositAddress:!0,fetchDepositAddress:!0,fetchTradingFees:!0,CORS:!1,fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0},marketsByAltname:{},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"1440","1w":"10080","2w":"21600"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766599-22709304-5ede-11e7-9de1-9f33732e1509.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://support.kraken.com/hc/en-us/articles"},www:"https://www.kraken.com",doc:["https://www.kraken.com/en-us/help/api","https://github.com/nothingisdead/npm-kraken-api"],fees:"https://www.kraken.com/en-us/help/fees"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["205893708-What-is-the-minimum-order-size-","201396777-What-are-the-deposit-fees-","201893608-What-are-the-withdrawal-fees-"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","Balance","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{}},exceptions:{"EFunding:Unknown withdraw key":_,"EFunding:Invalid amount":M,"EService:Unavailable":C,"EDatabase:Internal error":C,"EService:Busy":C,"EAPI:Rate limit exceeded":B,"EQuery:Unknown asset":_,"EGeneral:Internal error":C}})}},{key:"costToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.price)}},{key:"feeToPrecision",value:function(e,t){return this.truncate(parseFloat(t),this.markets[e].precision.amount)}},{key:"fetchMinOrderSizes",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,this.parseJsonResponse=!1,e.next=5,this.zendeskGet205893708WhatIsTheMinimumOrderSize();case 5:t=e.sent,this.parseJsonResponse=!0,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),this.parseJsonResponse=!0,e.t0;case 13:for(r=t.split("ul>"),i=r[1],n=i.split("</li"),a={},s="): ",u=0;u<n.length;u++)d=n[u],c=d.split(s),(l=c.length)>1&&(h=parseFloat(c[1]),f=c[0],c=f.split("("),p=c[1],a[p]=h);return e.abrupt("return",a);case 20:case"end":return e.stop()}},e,this,[[1,9]])}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y,k;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssetPairs();case 2:return t=e.sent,e.next=5,this.fetchMinOrderSizes();case 5:for(r=e.sent,i=(0,a.default)(t.result),n=[],s=0;s<i.length;s++)u=i[s],d=t.result[u],c=d.base,l=d.quote,h=c,f=l,"X"!==h[0]&&"Z"!==h[0]||(h=h.slice(1)),"X"!==f[0]&&"Z"!==f[0]||(f=f.slice(1)),h=this.commonCurrencyCode(h),f=this.commonCurrencyCode(f),p=u.indexOf(".d")>=0,v=p?d.altname:h+"/"+f,m=void 0,"fees_maker"in d&&(m=parseFloat(d.fees_maker[0][1])/100),y={amount:d.lot_decimals,price:d.pair_decimals},k=Math.pow(10,-y.amount),h in r&&(k=r[h]),n.push({id:u,symbol:v,base:h,quote:f,baseId:c,quoteId:l,darkpool:p,info:d,altname:d.altname,maker:m,taker:parseFloat(d.fees[0][1])/100,active:!0,precision:y,limits:{amount:{min:k,max:Math.pow(10,y.amount)},price:{min:Math.pow(10,-y.price),max:void 0},cost:{min:0,max:void 0}}});return n=this.appendInactiveMarkets(n),this.marketsByAltname=this.indexBy(n,"altname"),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"appendInactiveMarkets",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={amount:8,price:8},r={min:0,max:void 0},i={min:Math.pow(10,-t.price),max:void 0},n={min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},a={amount:n,price:i,cost:r},s={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:a},o=[],u=0;u<o.length;u++)e.push(this.extend(s,o[u]));return e}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssets(h);case 2:for(t=e.sent,r=t.result,i=(0,a.default)(r),n={},s=0;s<i.length;s++)u=i[s],d=r[u],c=this.commonCurrencyCode(d.altname),l=d.decimals,n[c]={id:u,code:c,info:d,name:c,active:!0,status:"ok",fee:void 0,precision:l,limits:{amount:{min:Math.pow(10,-l),max:Math.pow(10,l)},price:{min:Math.pow(10,-l),max:Math.pow(10,l)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,l)}}};return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTradingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return this.checkRequiredCredentials(),e.next=5,this.privatePostTradeVolume(d);case 5:for(t=e.sent,r=this.safeFloat(t.result,"volume"),i=this.fees.trading.tiers,n=i.taker[1],a=i.maker[1],s=0;s<i.taker.length;s++)r>=i.taker[s][0]&&(n=i.taker[s][1]);for(u=0;u<i.maker.length;u++)r>=i.maker[u][0]&&(a=i.maker[u][1]);return e.abrupt("return",{info:t,maker:a,taker:n});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(r=this.market(t),!r.darkpool){e.next=5;break}throw new _(this.id+" does not provide an order book for darkpool symbol "+t);case 5:return i={pair:r.id},"undefined"!==typeof s&&(i.count=s),e.next=9,this.publicGetDepth(this.extend(i,u));case 9:return n=e.sent,a=n.result[r.id],e.abrupt("return",this.parseOrderBook(a));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=parseFloat(e.v[1]),a=parseFloat(e.p[1]),s=n*a,o=parseFloat(e.c[0]);return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:a,open:this.safeFloat(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:s,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:for(t=[],r=0;r<this.symbols.length;r++)i=this.symbols[r],n=this.markets[i],n.active&&(n.darkpool||t.push(n.id));return s=t.join(","),e.next=7,this.publicGetTicker(this.extend({pair:s},y));case 7:for(u=e.sent,d=u.result,c=(0,a.default)(d),l={},h=0;h<c.length;h++)f=c[h],p=this.markets_by_id[f],v=p.symbol,m=d[f],l[v]=this.parseTicker(m,p);return e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(!(r=t.indexOf(".d")>=0)){e.next=5;break}throw new _(this.id+" does not provide a ticker for darkpool symbol "+t);case 5:return i=this.market(t),e.next=8,this.publicGetTicker(this.extend({pair:i.id},s));case 8:return n=e.sent,a=n.result[i.id],e.abrupt("return",this.parseTicker(a,i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[6])]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={pair:r.id,interval:this.timeframes[s]},"undefined"!==typeof u&&(i.since=parseInt(u/1e3)),e.next=7,this.publicGetOHLC(this.extend(i,c));case 7:return n=e.sent,a=n.result[r.id],e.abrupt("return",this.parseOHLCVs(a,r,s,u,d));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0,n=void 0,a=void 0,s=void 0,o=void 0,u=void 0,d=void 0;if(t||(t=this.findMarketByAltnameOrId(e.pair)),"ordertxid"in e){if(u=e.ordertxid,o=e.id,r=parseInt(1e3*e.time),i=e.type,n=e.ordertype,a=this.safeFloat(e,"price"),s=this.safeFloat(e,"vol"),"fee"in e){var c=void 0;t&&(c=t.quote),d={cost:this.safeFloat(e,"fee"),currency:c}}}else{r=parseInt(1e3*e[2]),i="s"===e[3]?"sell":"buy",n="l"===e[4]?"limit":"market",a=parseFloat(e[0]),s=parseFloat(e[1]);e.length>6&&(o=e[6])}var l=t?t.symbol:void 0;return{id:o,order:u,info:e,timestamp:r,datetime:this.iso8601(r),symbol:l,type:n,side:i,price:a,amount:s,cost:a*s,fee:d}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=r.id,e.next=6,this.publicGetTrades(this.extend({pair:i},f));case 6:if(n=e.sent,a=n.result,s=a[i],!((u=s.length)<=0)){e.next=12;break}return e.abrupt("return",[]);case 12:return d=s[u-1],c=this.safeString(a,"last"),d.push(c),e.abrupt("return",this.parseTrades(s,r,l,h));case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostBalance();case 4:if(t=e.sent,"undefined"!==typeof(r=this.safeValue(t,"result"))){e.next=8;break}throw new C(this.id+" fetchBalance failed due to a malformed response "+this.json(t));case 8:for(i={info:r},n=(0,a.default)(r),s=0;s<n.length;s++)u=n[s],d=u,d in this.currencies_by_id?d=this.currencies_by_id[d].code:("X"===d[0]?d=d.slice(1):"Z"===d[0]&&(d=d.slice(1)),d=this.commonCurrencyCode(d)),c=parseFloat(r[u]),l={free:c,used:0,total:c},i[d]=l;return e.abrupt("return",this.parseBalance(i));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s={pair:a.id,type:i,ordertype:r,volume:this.amountToPrecision(t,n)},"limit"===r&&(s.price=this.priceToPrecision(t,l)),e.next=7,this.privatePostAddOrder(this.extend(s,h));case 7:return u=e.sent,d=this.safeValue(u.result,"txid"),"undefined"!==typeof d&&Array.isArray(d)&&(c=d.length,d=c>1?d:d[0]),e.abrupt("return",{info:u,id:d});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"findMarketByAltnameOrId",value:function(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.descr,i=r.type,n=r.ordertype,a=void 0;"undefined"===typeof t&&(t=this.findMarketByAltnameOrId(r.pair));var s=parseInt(1e3*e.opentm),o=this.safeFloat(e,"vol"),u=this.safeFloat(e,"vol_exec"),d=o-u,c=void 0,l=this.safeFloat(e,"cost"),h=this.safeFloat(r,"price");if(h||(h=this.safeFloat(e,"price")),"undefined"!==typeof t&&(a=t.symbol,"fee"in e)){var f=e.oflags;c={cost:this.safeFloat(e,"fee"),rate:void 0},f.indexOf("fciq")>=0?c.currency=t.quote:f.indexOf("fcib")>=0&&(c.currency=t.base)}return{id:e.id,info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:e.status,symbol:a,type:n,side:i,price:h,cost:l,amount:o,filled:u,remaining:d,fee:c}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=[],s=(0,a.default)(e),o=0;o<s.length;o++){var u=s[o],d=this.extend({id:u},e[u]);n.push(this.parseOrder(d,t))}return this.filterBySinceLimit(n,r,i)}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostQueryOrders(this.extend({trades:!0,txid:t},a));case 4:return r=e.sent,i=r.result,n=this.parseOrder(this.extend({id:t},i[t])),e.abrupt("return",this.extend({info:r},n));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},"undefined"!==typeof c&&(t.start=parseInt(c/1e3)),e.next=6,this.privatePostTradesHistory(this.extend(t,h));case 6:for(r=e.sent,i=r.result.trades,n=(0,a.default)(i),s=0;s<n.length;s++)i[n[s]].id=n[s];if(u=this.parseTrades(i,void 0,c,l),"undefined"!==typeof d){e.next=13;break}return e.abrupt("return",u);case 13:return e.abrupt("return",this.filterBySymbol(u,d));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,e.prev=3,e.next=6,this.privatePostCancelOrder(this.extend({txid:t},i));case 6:r=e.sent,e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(3),!this.last_http_response){e.next=14;break}if(!(this.last_http_response.indexOf("EOrder:Unknown order")>=0)){e.next=14;break}throw new O(this.id+" cancelOrder() error "+this.last_http_response);case 14:throw e.t0;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this,[[3,9]])}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},"undefined"!==typeof a&&(t.start=parseInt(a/1e3)),e.next=6,this.privatePostOpenOrders(this.extend(t,u));case 6:if(r=e.sent,i=this.parseOrders(r.result.open,void 0,a,s),"undefined"!==typeof n){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",this.filterBySymbol(i,n));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},"undefined"!==typeof a&&(t.start=parseInt(a/1e3)),e.next=6,this.privatePostClosedOrders(this.extend(t,u));case 6:if(r=e.sent,i=this.parseOrders(r.result.closed,void 0,a,s),"undefined"!==typeof n){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",this.filterBySymbol(i,n));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositMethods",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostDepositMethods(this.extend({asset:r.id},n));case 5:return i=e.sent,e.abrupt("return",i.result);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={new:"true"},e.next=3,this.fetchDepositAddress(t,this.extend(r,a));case 3:return i=e.sent,n=this.safeString(i,"address"),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:"ok",info:i});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if(r=this.currency(t),"undefined"!==typeof(i=this.safeString(c,"method"))){e.next=14;break}if(!this.options.cacheDepositMethodsOnFetchDepositAddress){e.next=13;break}if(t in this.options.depositMethods){e.next=10;break}return e.next=9,this.fetchDepositMethods(t);case 9:this.options.depositMethods[t]=e.sent;case 10:i=this.options.depositMethods[t][0].method,e.next=14;break;case 13:throw new _(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+t+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');case 14:return n={asset:r.id,method:i},e.next=17,this.privatePostDepositAddresses(this.extend(n,c));case 17:if(a=e.sent,s=a.result,!((u=s.length)<1)){e.next=22;break}throw new F(this.id+" privatePostDepositAddresses() returned no addresses");case 22:return d=this.safeString(s[0],"address"),this.checkAddress(d),e.abrupt("return",{currency:t,address:d,status:"ok",info:a});case 25:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkAddress(i),!("key"in a)){e.next=8;break}return e.next=4,this.loadMarkets();case 4:return e.next=6,this.privatePostWithdraw(this.extend({asset:t,amount:r},a));case 6:return n=e.sent,e.abrupt("return",{info:n,id:n.result});case 8:throw new _(this.id+" withdraw requires a 'key' parameter (withdrawal key name, as set up on your account)");case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.version+"/"+t+"/"+e;if("public"===t)(0,a.default)(i).length&&(o+="?"+this.urlencode(i));else if("private"===t){this.checkRequiredCredentials();var u=this.nonce().toString();s=this.urlencode(this.extend({nonce:u},i));var d=this.encode(u+s),c=this.hash(d,"sha256","binary"),l=this.stringToBinary(this.encode(o)),h=this.binaryConcat(l,c),f=this.base64ToBinary(this.secret),p=this.hmac(h,f,"sha512","base64");n={"API-Key":this.apiKey,"API-Sign":this.decode(p),"Content-Type":"application/x-www-form-urlencoded"}}else o="/"+e;return o=this.urls.api[t]+o,{url:o,method:r,body:s,headers:n}}},{key:"nonce",value:function(){return this.milliseconds()}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(a.indexOf("Invalid order")>=0)throw new E(this.id+" "+a);if(a.indexOf("Invalid nonce")>=0)throw new S(this.id+" "+a);if(a.indexOf("Insufficient funds")>=0)throw new M(this.id+" "+a);if(a.indexOf("Cancel pending")>=0)throw new I(this.id+" "+a);if(a.indexOf("Invalid arguments:volume")>=0)throw new E(this.id+" "+a);if("{"===a[0]){var s=JSON.parse(a);if("string"!==typeof s&&"error"in s){if(s.error.length){for(var o=this.id+" "+this.json(s),u=0;u<s.error.length;u++)if(s.error[u]in this.exceptions)throw new this.exceptions[s.error[u]](o);throw new _(o)}}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.InvalidNonce,O=T.InvalidOrder,B=T.AuthenticationError,S=T.InsufficientFunds,M=T.OrderNotFound;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"kucoin",name:"Kucoin",countries:"HK",version:"v1",rateLimit:2e3,userAgent:this.userAgents.chrome,has:{CORS:!1,cancelOrders:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:"emulated",fetchCurrencies:!0,withdraw:!0},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"8h":480,"1d":"D","1w":"W"},urls:{logo:"https://user-images.githubusercontent.com/1294454/33795655-b3c46e48-dcf6-11e7-8abe-dc4588ba7901.jpg",api:{public:"https://api.kucoin.com",private:"https://api.kucoin.com",kitchen:"https://kitchen.kucoin.com","kitchen-2":"https://kitchen-2.kucoin.com"},www:"https://www.kucoin.com",referral:"https://www.kucoin.com/?r=E5wkqe",doc:"https://kucoinapidocs.docs.apiary.io",fees:"https://news.kucoin.com/en/fee"},api:{kitchen:{get:["open/chart/history"]},public:{get:["open/chart/config","open/chart/history","open/chart/symbol","open/currencies","open/deal-orders","open/kline","open/lang-list","open/orders","open/orders-buy","open/orders-sell","open/tick","market/open/coin-info","market/open/coins","market/open/coins-trending","market/open/symbols"]},private:{get:["account/balance","account/{coin}/wallet/address","account/{coin}/wallet/records","account/{coin}/balance","account/promotion/info","account/promotion/sum","deal-orders","order/active","order/active-map","order/dealt","order/detail","referrer/descendant/count","user/info"],post:["account/{coin}/withdraw/apply","account/{coin}/withdraw/cancel","account/promotion/draw","cancel-order","order","order/cancel-all","user/change-lang"]}},fees:{trading:{maker:.001,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{KCS:2,BTC:5e-4,USDT:10,ETH:.01,LTC:.001,NEO:0,GAS:0,KNC:.5,BTM:5,QTUM:.1,EOS:.5,CVC:3,OMG:.1,PAY:.5,SNT:20,BHC:1,HSR:.01,WTC:.1,VEN:2,MTH:10,RPX:1,REQ:20,EVX:.5,MOD:.5,NEBL:.1,DGB:.5,CAG:2,CFD:.5,RDN:.5,UKG:5,BCPT:5,PPT:.1,BCH:5e-4,STX:2,NULS:1,GVT:.1,HST:2,PURA:.5,SUB:2,QSP:5,POWR:1,FLIXX:10,LEND:20,AMB:3,RHOC:2,R:2,DENT:50,DRGN:1,ACT:.1},deposit:{}}},options:{fetchOrderBookWarning:!0,timeDifference:0,adjustForTimeDifference:!1}})}},{key:"nonce",value:function(){return this.milliseconds()-this.options.timeDifference}},{key:"loadTimeDifference",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOpenTick();case 2:return t=e.sent,r=this.milliseconds(),this.options.timeDifference=parseInt(r-t.timestamp),e.abrupt("return",this.options.timeDifference);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketOpenSymbols();case 2:if(t=e.sent,!this.options.adjustForTimeDifference){e.next=6;break}return e.next=6,this.loadTimeDifference();case 6:for(r=t.data,i=[],n=0;n<r.length;n++)a=r[n],s=a.symbol,u=a.coinType,d=a.coinTypePair,u=this.commonCurrencyCode(u),d=this.commonCurrencyCode(d),c=u+"/"+d,l={amount:8,price:8},h=a.trading,i.push({id:s,symbol:c,base:u,quote:d,active:h,taker:this.safeFloat(a,"feeRate"),maker:this.safeFloat(a,"feeRate"),info:a,lot:Math.pow(10,-l.amount),precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:void 0},price:{min:void 0,max:void 0}}});return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetAccountCoinWalletAddress(this.extend({coin:r.id},u));case 5:return i=e.sent,n=i.data,a=this.safeString(n,"address"),this.checkAddress(a),s=this.safeString(n,"userOid"),e.abrupt("return",{currency:t,address:a,tag:s,status:"ok",info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketOpenCoins(f);case 2:for(t=e.sent,r=t.data,i={},n=0;n<r.length;n++)a=r[n],s=a.coin,u=this.commonCurrencyCode(s),d=a.tradePrecision,c=a.enableDeposit,l=a.enableWithdraw,h=c&&l,i[u]={id:s,code:u,info:a,name:a.name,active:h,status:"ok",fee:a.withdrawMinFee,precision:d,limits:{amount:{min:Math.pow(10,-d),max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:void 0,max:void 0},withdraw:{min:a.withdrawMinAmount,max:Math.pow(10,d)}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAccountBalance(this.extend({},m));case 4:for(t=e.sent,r=t.data,i={info:r},n=this.indexBy(r,"coinType"),s=(0,a.default)(n),u=0;u<s.length;u++)d=s[u],c=this.commonCurrencyCode(d),l=this.account(),h=n[d],f=parseFloat(h.freezeBalance),p=parseFloat(h.balance),v=this.sum(p,f),l.free=p,l.used=f,l.total=v,i[c]=l;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id},"undefined"!==typeof d&&(i.limit=d),e.next=7,this.publicGetOpenOrders(this.extend(i,c));case 7:if(n=e.sent,a="data"in n,s=void 0,u=void 0,a){e.next=17;break}if(!this.options.fetchOrderBookWarning){e.next=14;break}throw new C(this.id+" fetchOrderBook returned an null response. Set exchange.options['fetchOrderBookWarning'] = false to silence this warning");case 14:s={BUY:[],SELL:[]},e.next=19;break;case 17:s=n.data,u=n.data.timestamp;case 19:return e.abrupt("return",this.parseOrderBook(s,u,"BUY","SELL"));case 20:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeValue(e,"direction");"undefined"===typeof r&&(r=e.type),"undefined"!==typeof r&&(r=r.toLowerCase());var i=this.safeString(e,"orderOid");"undefined"===typeof i&&(i=this.safeString(e,"oid"));var n=void 0;if("dealOrders"in e&&(n=this.safeValue(e.dealOrders,"datas")),"undefined"!==typeof n){n=this.parseTrades(n,t);for(var a=0;a<n.length;a++)n[a].side=r,n[a].order=i}var s=void 0;s="undefined"!==typeof t?t.symbol:e.coinType+"/"+e.coinTypePair;var o=this.safeValue(e,"createdAt"),u=this.safeFloat(e,"pendingAmount"),d=this.safeValue(e,"status"),c=this.safeFloat(e,"dealAmount"),l=this.safeFloat(e,"amount"),h=this.safeFloat(e,"dealValue");if("undefined"===typeof h&&(h=this.safeFloat(e,"dealValueTotal")),"undefined"===typeof d&&"undefined"!==typeof u&&(d=u>0?"open":"closed"),"undefined"===typeof c)"undefined"!==typeof d&&"closed"===d&&(c=this.safeFloat(e,"amount"));else if(0===c&&"undefined"!==typeof n){h=0;for(var f=0;f<n.length;f++)c+=n[f].amount,h+=n[f].cost}var p=void 0;"undefined"!==typeof c&&(c>0?(p=this.safeFloat(e,"price"),"undefined"===typeof p&&(p=this.safeFloat(e,"dealPrice")),"undefined"===typeof p&&(p=this.safeFloat(e,"dealPriceAverage"))):"undefined"===typeof(p=this.safeFloat(e,"orderPrice"))&&(p=this.safeFloat(e,"price")),"undefined"!==typeof p&&"undefined"===typeof h&&(h=p*c),"undefined"===typeof l?"undefined"!==typeof u&&(l=this.sum(c,u)):"undefined"===typeof u&&(u=l-c)),"open"===d&&("undefined"!==typeof h&&0!==h||"undefined"!==typeof p&&"undefined"!==typeof l&&(h=l*p));var v=void 0;if("undefined"!==typeof t)v="sell"===r?t.quote:t.base;else{var m="sell"===r?"coinTypePair":"coinType",y=this.safeString(e,m);"undefined"!==typeof y&&y in this.currencies_by_id&&(y=this.currencies_by_id[y].code)}var k=this.safeFloat(e,"fee"),b={cost:this.safeFloat(e,"feeTotal",k),rate:this.safeFloat(e,"feeRate"),currency:v};return{info:e,id:i,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:s,type:"limit",side:r,price:p,amount:l,cost:h,filled:c,remaining:u,status:d,fee:b,trades:n}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof s){e.next=2;break}throw new C(this.id+" fetchOrder requires a symbol argument");case 2:if("undefined"!==typeof(r=this.safeValue(u,"type"))){e.next=5;break}throw new C(this.id+' fetchOrder requires a type parameter ("BUY" or "SELL")');case 5:return e.next=7,this.loadMarkets();case 7:return i=this.market(s),n={symbol:i.id,type:r,orderOid:t},e.next=11,this.privateGetOrderDetail(this.extend(n,u));case 11:if(a=e.sent,a.data){e.next=14;break}throw new M(this.id+" "+this.json(a));case 14:return e.abrupt("return",this.parseOrder(a.data,i));case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrdersByStatus",value:function(e,t,r,i,n){for(var a=[],s=0;s<e.length;s++){var o=this.parseOrder(this.extend(e[s],{status:n}),t);a.push(o)}var u="undefined"!==typeof t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,u,r,i)}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new C(this.id+" fetchOpenOrders requires a symbol");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(u),r={symbol:t.id},e.next=8,this.privateGetOrderActiveMap(this.extend(r,l));case 8:return i=e.sent,n=this.safeValue(i.data,"SELL"),"undefined"===typeof n&&(n=[]),a=this.safeValue(i.data,"BUY"),"undefined"===typeof a&&(a=[]),s=this.arrayConcat(n,a),e.abrupt("return",this.parseOrdersByStatus(s,t,d,c,"open"));case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,this.loadMarkets();case 3:return r=void 0,"undefined"!==typeof a&&(r=this.market(a),t.symbol=r.id),"undefined"!==typeof s&&(t.since=s),"undefined"!==typeof u&&(t.limit=u),e.next=9,this.privateGetOrderDealt(this.extend(t,d));case 9:return i=e.sent,n=i.data.datas,e.abrupt("return",this.parseOrdersByStatus(n,r,s,u,"closed"));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h,f,p,v,m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("limit"===r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return a=this.market(t),s=a.quote,u=a.base,d={symbol:a.id,type:i.toUpperCase(),price:this.truncate(m,this.currencies[s].precision),amount:this.truncate(n,this.currencies[u].precision)},m=parseFloat(m),n=parseFloat(n),c=m*n,e.next=13,this.privatePostOrder(this.extend(d,y));case 13:return l=e.sent,h=this.safeString(l.data,"orderOid"),f=this.safeInteger(l,"timestamp"),p=void 0,"undefined"!==typeof f&&(p=this.iso8601(f)),v={info:l,id:h,timestamp:f,datetime:p,lastTradeTimestamp:void 0,symbol:a.symbol,type:r,side:i,amount:n,filled:void 0,remaining:void 0,price:m,cost:c,status:"open",fee:void 0,trades:void 0},this.orders[h]=v,e.abrupt("return",v);case 21:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!i){e.next=6;break}return e.next=4,this.loadMarkets();case 4:r=this.market(i),t.symbol=r.id;case 6:return"type"in n&&(t.type=n.type.toUpperCase(),n=this.omit(n,"type")),e.next=9,this.privatePostOrderCancelAll(this.extend(t,n));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof n){e.next=2;break}throw new C(this.id+" cancelOrder requires a symbol");case 2:return e.next=4,this.loadMarkets();case 4:if(r=this.market(n),i={symbol:r.id,orderOid:t},!("type"in a)){e.next=11;break}i.type=a.type.toUpperCase(),a=this.omit(a,"type"),e.next=12;break;case 11:throw new C(this.id+' cancelOrder requires parameter type=["BUY"|"SELL"]');case 12:return e.next=14,this.privatePostCancelOrder(this.extend(i,a));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.datetime,i=void 0;i=t?t.symbol:e.coinType+"/"+e.coinTypePair;var n=this.safeFloat(e,"change"),a=this.safeFloat(e,"lastDealPrice"),s=void 0;"undefined"!==typeof a&&"undefined"!==typeof n&&(s=a-n);var o=this.safeFloat(e,"changeRate");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volValue"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarketOpenSymbols(u);case 2:for(t=e.sent,r=t.data,i={},n=0;n<r.length;n++)a=this.parseTicker(r[n]),s=a.symbol,i[s]=a;return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetOpenTick(this.extend({symbol:r.id},a));case 5:return i=e.sent,n=i.data,e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=void 0,n=e,a=void 0,s=void 0,o=void 0,u=void 0,d=void 0,c=void 0,l=void 0;if(Array.isArray(e))a=e[0],s="limit","BUY"===e[1]?o="buy":"SELL"===e[1]&&(o="sell"),u=e[2],c=e[3];else{a=this.safeValue(e,"createdAt"),i=this.safeString(e,"orderOid"),r=this.safeString(e,"oid"),o=this.safeString(e,"direction"),"undefined"!==typeof o&&(o=o.toLowerCase()),u=this.safeFloat(e,"dealPrice"),c=this.safeFloat(e,"amount"),d=this.safeFloat(e,"dealValue");var h=void 0;if("undefined"!==typeof t)h="sell"===o?t.quote:t.base;else{var f="sell"===o?"coinTypePair":"coinType",p=this.safeString(i,f);"undefined"!==typeof p&&p in this.currencies_by_id&&(p=this.currencies_by_id[p].code)}l={cost:this.safeFloat(e,"fee"),currency:h}}var v=void 0;return"undefined"!==typeof t&&(v=t.symbol),{id:r,order:i,info:n,timestamp:a,datetime:this.iso8601(a),symbol:v,type:s,side:o,price:u,cost:d,amount:c,fee:l}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetOpenDealOrders(this.extend({symbol:r.id,limit:a},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.data,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new C(this.id+" fetchMyTrades is deprecated and requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(n),r={symbol:t.id},s&&(r.limit=s),e.next=9,this.privateGetDealOrders(this.extend(r,u));case 9:return i=e.sent,e.abrupt("return",this.parseTrades(i.data.datas,t,a,s));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTradingViewOHLCV",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1m",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(a,t,r,i,n)}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i=this.seconds(),n=this.timeframes[c],a=n,"D"===a?("undefined"===typeof h&&(h=30),a=1440):"W"===a?("undefined"===typeof h&&(h=52),a=10080):"undefined"===typeof h&&(h=1440),s=i-h*a*60,"undefined"!==typeof l&&(s=parseInt(l/1e3),i=Math.min(i,this.sum(s,h*a*60))),u={symbol:r.id,resolution:n,from:s,to:i},e.next=12,this.publicGetOpenChartHistory(this.extend(u,f));case 12:return d=e.sent,e.abrupt("return",this.parseTradingViewOHLCV(d,r,c,l,h));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),this.checkAddress(i),e.next=7,this.privatePostAccountCoinWithdrawApply(this.extend({coin:n.id,amount:r,address:i},s));case 7:return a=e.sent,e.abrupt("return",{info:a,id:void 0});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o="/"+this.version+"/"+this.implodeParams(e,i),u=this.urls.api[t]+o,d=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var c=this.nonce(),l="";c=c.toString(),(0,a.default)(d).length&&(l=this.rawencode(this.keysort(d)),u+="?"+l,"GET"!==r&&(s=l));var h=o+"/"+c+"/"+l,f=this.stringToBase64(this.encode(h)),p=this.hmac(f,this.encode(this.secret),"sha256");n={"KC-API-KEY":this.apiKey,"KC-API-NONCE":c,"KC-API-SIGNATURE":p}}else(0,a.default)(d).length&&(u+="?"+this.urlencode(d));return{url:u,method:r,body:s,headers:n}}},{key:"throwExceptionOnError",value:function(e){if("success"in e&&!0!==e.success){if(!("code"in e)||!("msg"in e))throw new C(this.id+": malformed response: "+this.json(e));var t=this.safeString(e,"code"),r=this.safeString(e,"msg"),i=this.id+" "+this.json(e);if("UNAUTH"===t){if("Invalid nonce"===r)throw new _(i);throw new B(i)}if("ERROR"===t){if(r.indexOf("The precision of amount")>=0)throw new O(i);if(r.indexOf("Min amount each order")>=0)throw new O(i);if(r.indexOf("Min price:")>=0)throw new O(i);if(r.indexOf("Max price:")>=0)throw new O(i);if(r.indexOf("The precision of price")>=0)throw new O(i)}else if("NO_BALANCE"===t&&r.indexOf("Insufficient balance")>=0)throw new S(i);throw new C(this.id+": unknown response: "+this.json(e))}}},{key:"handleErrors",value:function(e,t,r,i,n,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;"undefined"!==typeof s?this.throwExceptionOnError(s):a&&"{"===a[0]&&this.throwExceptionOnError(JSON.parse(a))}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(620),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"kuna",name:"Kuna",countries:"UA",rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/31697638-912824fa-b3c1-11e7-8c36-cf9606eb94ac.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},fees:{trading:{taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m,y;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:"btcuah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"ethuah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"gbguah",symbol:"GBG/UAH",base:"GBG",quote:"UAH",baseId:"gbg",quoteId:"uah",precision:{amount:3,price:2},lot:.001,limits:{amount:{min:1e-6,max:void 0},price:{min:.01,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"kunbtc",symbol:"KUN/BTC",base:"KUN",quote:"BTC",baseId:"kun",quoteId:"btc",precision:{amount:6,price:6},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1e-6,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"bchbtc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",precision:{amount:6,price:6},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1e-6,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"bchuah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"wavesuah",symbol:"WAVES/UAH",base:"WAVES",quote:"UAH",baseId:"waves",quoteId:"uah",precision:{amount:6,price:0},lot:1e-6,limits:{amount:{min:1e-6,max:void 0},price:{min:1,max:void 0},cost:{min:1e-6,max:void 0}}},{id:"arnbtc",symbol:"ARN/BTC",base:"ARN",quote:"BTC",baseId:"arn",quoteId:"btc"},{id:"b2bbtc",symbol:"B2B/BTC",base:"B2B",quote:"BTC",baseId:"b2b",quoteId:"btc"},{id:"evrbtc",symbol:"EVR/BTC",base:"EVR",quote:"BTC",baseId:"evr",quoteId:"btc"},{id:"golgbg",symbol:"GOL/GBG",base:"GOL",quote:"GBG",baseId:"gol",quoteId:"gbg"},{id:"rbtc",symbol:"R/BTC",base:"R",quote:"BTC",baseId:"r",quoteId:"btc"},{id:"rmcbtc",symbol:"RMC/BTC",base:"RMC",quote:"BTC",baseId:"rmc",quoteId:"btc"}],r=[],e.next=4,this.publicGetTickers();case 4:for(i=e.sent,n=0;n<t.length;n++)s=t[n],s.id in i&&r.push(s);for(u=this.indexBy(r,"id"),d=(0,o.default)(i),c=0;c<d.length;c++)(l=d[c])in u||(h=l.replace("btc",""),h=h.replace("uah",""),h=h.replace("gbg",""),h.length>0&&(f=h.length-0,p=l.slice(f),v=h.toUpperCase(),m=p.toUpperCase(),v=this.commonCurrencyCode(v),m=this.commonCurrencyCode(m),y=v+"/"+m,r.push({id:l,symbol:y,base:v,quote:m,baseId:h,quoteId:p})));return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetOrderBook(this.extend({market:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","price","remaining_volume"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchL3OrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchOrderBook(t,r,i));case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new C(this.id+" fetchOpenOrders requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(i),e.next=7,this.privateGetOrders(this.extend({market:t.id},o));case 7:return r=e.sent,e.abrupt("return",this.parseOrders(r,t,n,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at),i=void 0;t&&(i=t.symbol);var n=this.safeString(e,"side");n={ask:"sell",bid:"buy"}[n];var a=this.safeFloat(e,"funds"),s=this.safeString(e,"order_id");return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:a,order:s,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTrades(this.extend({market:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new C(this.id+" fetchOpenOrders requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return t=this.market(i),e.next=7,this.privateGetTradesMy({market:t.id});case 7:return r=e.sent,e.abrupt("return",this.parseTrades(r,t,n,s));case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"lakebtc",name:"LakeBTC",countries:"US",version:"api_v2",has:{CORS:!0,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28074120-72b7c38a-6660-11e7-92d9-d9027502281d.jpg",api:"https://api.lakebtc.com",www:"https://www.lakebtc.com",doc:["https://www.lakebtc.com/s/api_v2","https://www.lakebtc.com/s/api"]},api:{public:{get:["bcorderbook","bctrades","ticker"]},private:{post:["buyOrder","cancelOrders","getAccountInfo","getExternalAccounts","getOrders","getTrades","openOrders","sellOrder"]}},fees:{trading:{maker:.0015,taker:.002}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker();case 2:for(t=e.sent,r=[],i=(0,o.default)(t),n=0;n<i.length;n++)s=i[n],u=t[s],d=s.slice(0,3),c=s.slice(3,6),l=d.toUpperCase(),h=c.toUpperCase(),f=l+"/"+h,r.push({id:s,symbol:f,base:l,quote:h,baseId:d,quoteId:c,info:u});return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetAccountInfo();case 4:for(t=e.sent,r=t.balance,i={info:t},n=(0,o.default)(r),s=0;s<n.length;s++)u=n[s],d=u,u in this.currencies_by_id&&(c=this.currencies_by_id[u],d=c.code),l=parseFloat(r[u]),h={free:l,used:0,total:l},i[d]=h;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetBcorderbook(this.extend({symbol:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;"undefined"!==typeof t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(c);case 4:for(t=e.sent,r=(0,o.default)(t),i={},n=0;n<r.length;n++)s=r[n],u=t[s],d=void 0,s in this.markets_by_id&&(d=this.markets_by_id[s],s=d.symbol),i[s]=this.parseTicker(u,d);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker(n);case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i[r.id],r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetBctrades(this.extend({symbol:r.id},o));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("market"!==r){e.next=4;break}throw new C(this.id+" allows limit orders only");case 4:return s="privatePost"+this.capitalize(i)+"Order",o=this.market(t),u={params:[c,n,o.id]},e.next=9,this[s](this.extend(u,l));case 9:return d=e.sent,e.abrupt("return",{info:d,id:d.id.toString()});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder({params:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.microseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version;if("public"===t)s+="/"+e,(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce(),d="";"params"in i&&(d=i.params.join());var c=this.urlencode({tonce:u,accesskey:this.apiKey,requestmethod:r.toLowerCase(),id:u,method:e,params:d});a=this.json({method:e,params:d,id:u});var l=this.hmac(this.encode(c),this.encode(this.secret),"sha1"),h=this.encode(this.apiKey+":"+l);n={"Json-Rpc-Tonce":u.toString(),Authorization:"Basic "+this.decode(this.stringToBase64(h)),"Content-Type":"application/json"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("error"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.DDoSProtection,S=_.AuthenticationError,M=_.InvalidOrder;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"lbank",name:"LBank",countries:"CN",version:"v1",has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!1,fetchClosedOrders:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://www.lbank.info/api/api-overview",fees:"https://lbankinfo.zendesk.com/hc/zh-cn/articles/115002295114--%E8%B4%B9%E7%8E%87%E8%AF%B4%E6%98%8E"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairs();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.split("_"),s=(0,d.default)(a,2),u=s[0],c=s[1],l=this.commonCurrencyCode(u.toUpperCase()),h=this.commonCurrencyCode(c.toUpperCase()),f=l+"/"+h,p={amount:8,price:8},v=Math.pow(10,-p.amount),r.push({id:n,symbol:f,base:l,quote:h,baseId:u,quoteId:c,active:!0,lot:v,precision:p,limits:{amount:{min:v,max:void 0},price:{min:Math.pow(10,-p.price),max:Math.pow(10,p.price)},cost:{min:void 0,max:void 0}},info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=this.safeInteger(e,"timestamp"),n=e;e=n.ticker;var a=this.safeFloat(e,"latest");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(e,"change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"turnover"),info:n}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(this.extend({symbol:"all"},d));case 4:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.symbol,s=this.marketsById[a],u=s.symbol,r[u]=this.parseTicker(n,s);return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetDepth(this.extend({symbol:this.marketId(t),size:Math.min(i,60)},n));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=t.symbol,i=parseInt(e.date_ms),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),s=this.costToPrecision(r,n*a);return{timestamp:i,datetime:this.iso8601(i),symbol:r,id:this.safeString(e,"tid"),order:void 0,type:void 0,side:e.type,price:n,amount:a,cost:parseFloat(s),fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,size:100},a&&(i.time=parseInt(a/1e3)),s&&(i.size=s),e.next=8,this.publicGetTrades(this.extend(i,u));case 8:return n=e.sent,e.abrupt("return",this.parseTrades(n,r,a,s));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={symbol:r.id,type:this.timeframes[a],size:1e3},s&&(i.time=parseInt(s/1e3)),u&&(i.size=u),e.next=8,this.publicGetKline(this.extend(i,d));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,u));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostUserInfo(h);case 4:for(t=e.sent,r={info:t},i=(0,a.default)(this.extend(t.info.free,t.info.freeze)),n=0;n<i.length;n++)s=i[n],u=s,s in this.currencies_by_id&&(u=this.currencies_by_id[s].code),d=this.safeFloat(t.info.free,s,0),c=this.safeFloat(t.info.freeze,s,0),l={free:d,used:c,total:0},l.total=this.sum(l.free,l.used),r[u]=l;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){var t={"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"};return this.safeString(t,e)}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0,i=this.safeValue(this.marketsById,e.symbol);"undefined"!==typeof i?r=i.symbol:"undefined"!==typeof t&&(r=t.symbol);var n=this.safeInteger(e,"create_time"),a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount",0),o=this.safeFloat(e,"deal_amount",0),u=this.safeFloat(e,"avg_price"),d=void 0;"undefined"!==typeof u&&(d=o*u);var c=this.parseOrderStatus(this.safeString(e,"status"));return{id:this.safeString(e,"order_id"),datetime:this.iso8601(n),timestamp:n,lastTradeTimestamp:void 0,status:c,symbol:r,type:this.safeString(e,"order_type"),side:e.type,price:a,cost:d,amount:s,filled:o,remaining:s-o,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s={symbol:a.id,type:i,amount:n},"market"===r?s.type+="_market":s.price=c,e.next=7,this.privatePostCreateOrder(this.extend(s,l));case 7:return u=e.sent,s=this.omit(s,"type"),s.order_id=u.order_id,s.type=i,s.order_type=r,s.create_time=this.milliseconds(),s.info=u,s=this.parseOrder(s,a),d=s.id,this.orders[d]=s,e.abrupt("return",s);case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(n),e.next=5,this.privatePostCancelOrder(this.extend({symbol:r.id,order_id:t},a));case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(a),e.next=5,this.privatePostOrdersInfo(this.extend({symbol:r.id,order_id:t},s));case 5:if(i=e.sent,n=this.parseOrders(i.orders,r),1!==n.length){e.next=11;break}return e.abrupt("return",n[0]);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(i),e.next=5,this.privatePostOrdersInfoHistory(this.extend({symbol:t.id,current_page:1,page_length:100},s));case 5:return r=e.sent,e.abrupt("return",this.parseOrders(r.orders,void 0,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(n,a,s,u);case 2:return t=e.sent,r=this.filterBy(t,"status","closed"),i=this.filterBy(t,"status","cancelled"),e.abrupt("return",r+i);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.omit(i,this.extractParams(e)),u=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i);if(u+=".do","public"===t)(0,a.default)(o).length&&(u+="?"+this.urlencode(o));else{this.checkRequiredCredentials();var d=this.keysort(this.extend({api_key:this.apiKey},i)),c=this.rawencode(d)+"&secret_key="+this.secret;d.sign=this.hash(this.encode(c)).toUpperCase(),s=this.urlencode(d),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:u,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,u,d,c,l,h);case 2:if(r=e.sent,"false"!==(i=this.safeString(r,"result"))){e.next=9;break}throw n=this.safeString(r,"error_code"),a=this.safeString({10000:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001"},n,this.json(r)),new(s=this.safeValue({10002:S,10004:B,10005:S,10006:S,10007:S,10009:M,10010:M,10011:M,10012:M,10013:M,10014:M,10015:M,10016:M},n,O))(a);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.AuthenticationError,S=_.NotSupported,M=_.InvalidOrder,I=_.OrderNotFound,E=_.ExchangeNotAvailable,F=_.DDoSProtection,P=_.InsufficientFunds;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"livecoin",name:"LiveCoin",countries:["US","UK","RU"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{fetchDepositAddress:!0,CORS:!1,fetchTickers:!0,fetchCurrencies:!0,fetchTradingFees:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27980768-f22fc424-638a-11e7-89c9-6010a54ff9be.jpg",api:"https://api.livecoin.net",www:"https://www.livecoin.net",doc:"https://www.livecoin.net/api?lang=en"},api:{public:{get:["exchange/all/order_book","exchange/last_trades","exchange/maxbid_minask","exchange/order_book","exchange/restrictions","exchange/ticker","info/coinInfo"]},private:{get:["exchange/client_orders","exchange/order","exchange/trades","exchange/commission","exchange/commissionCommonInfo","payment/balances","payment/balance","payment/get/address","payment/history/size","payment/history/transactions"],post:["exchange/buylimit","exchange/buymarket","exchange/cancellimit","exchange/selllimit","exchange/sellmarket","payment/out/capitalist","payment/out/card","payment/out/coin","payment/out/okpay","payment/out/payeer","payment/out/perfectmoney","payment/voucher/amount","payment/voucher/make","payment/voucher/redeem"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0018,taker:.0018}},commonCurrencies:{CPC:"Capricoin",CRC:"CryCash",ORE:"Orectic",RUR:"RUB",XBT:"Bricktox"},exceptions:{1:O,10:B,100:O,101:B,102:B,103:M,104:M,105:M,11:B,12:B,2:B,20:B,30:B,31:S,32:O,429:F,503:E}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k,b;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetExchangeTicker();case 2:return t=e.sent,e.next=5,this.publicGetExchangeRestrictions();case 5:for(r=e.sent,i=this.indexBy(r.restrictions,"currencyPair"),n=[],a=0;a<t.length;a++)s=t[a],u=s.symbol,c=u,l=c.split("/"),h=(0,d.default)(l,2),f=h[0],p=h[1],v=this.commonCurrencyCode(f),m=this.commonCurrencyCode(p),y=this.safeValue(i,c),k={price:5,amount:8,cost:8},b={amount:{min:Math.pow(10,-k.amount),max:Math.pow(10,k.amount)}},y&&(k.price=this.safeInteger(y,"priceScale",5),b.amount.min=this.safeFloat(y,"minLimitQuantity",b.amount.min)),b.price={min:Math.pow(10,-k.price),max:Math.pow(10,k.price)},n.push({id:u,symbol:c,base:v,quote:m,baseId:f,quoteId:p,active:!0,precision:k,limits:b,info:s});return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetInfoCoinInfo(l);case 2:for(t=e.sent,r=t.info,i={},n=0;n<r.length;n++)a=r[n],s=a.symbol,u=this.commonCurrencyCode(s),d=8,c="normal"===a.walletStatus,i[u]={id:s,code:u,info:a,name:a.name,active:c,status:"ok",fee:a.withdrawFee,precision:d,limits:{amount:{min:a.minOrderAmount,max:Math.pow(10,d)},price:{min:Math.pow(10,-d),max:Math.pow(10,d)},cost:{min:a.minOrderAmount,max:void 0},withdraw:{min:a.minWithdrawAmount,max:Math.pow(10,d)},deposit:{min:a.minDepositAmount,max:void 0}}};return i=this.appendFiatCurrencies(i),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"appendFiatCurrencies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={info:void 0,active:!0,status:"ok",fee:void 0,precision:8,limits:{withdraw:{min:void 0,max:void 0},deposit:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},price:{min:Math.pow(10,-8),max:Math.pow(10,8)}}},r=[{id:"USD",code:"USD",name:"US Dollar"},{id:"EUR",code:"EUR",name:"Euro"}];r.push({id:"RUR",code:this.commonCurrencyCode("RUR"),name:"Russian ruble"});for(var i=0;i<r.length;i++){var n=r[i];e[n.code]=this.extend(t,n)}return e}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetPaymentBalances();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.currency,s=void 0,s=a in r?r[a]:this.account(),"total"===n.type&&(s.total=parseFloat(n.value)),"available"===n.type&&(s.free=parseFloat(n.value)),"trade"===n.type&&(s.used=parseFloat(n.value)),r[a]=s;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTradingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetExchangeCommissionCommonInfo(i);case 4:return t=e.sent,r=this.safeFloat(t,"commission"),e.abrupt("return",{info:t,maker:r,taker:r});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={currencyPair:this.marketId(t),groupByPrice:"false"},"undefined"!==typeof a&&(r.depth=a),e.next=6,this.publicGetExchangeOrderBook(this.extend(r,s));case 6:return i=e.sent,n=i.timestamp,e.abrupt("return",this.parseOrderBook(i,n));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"vwap"),a=this.safeFloat(e,"volume"),s=a*n,o=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetExchangeTicker(h);case 4:for(t=e.sent,r=this.indexBy(t,"symbol"),i=(0,a.default)(r),n={},s=0;s<i.length;s++)u=i[s],d=this.markets_by_id[u],c=d.symbol,l=r[u],n[c]=this.parseTicker(l,d);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetExchangeTicker(this.extend({currencyPair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.time;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.id.toString(),order:void 0,type:void 0,side:e.type.toLowerCase(),price:e.price,amount:e.quantity}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetExchangeLastTrades(this.extend({currencyPair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.safeInteger(e,"lastModificationTime"));t||(t=this.parse8601(e.lastModificationTime));var r=void 0;"trades"in e&&(r=void 0);var i=void 0;i="OPEN"===e.orderStatus||"PARTIALLY_FILLED"===e.orderStatus?"open":"EXECUTED"===e.orderStatus||"PARTIALLY_FILLED_AND_CANCELLED"===e.orderStatus?"closed":"canceled";var n=e.currencyPair,a=n.split("/"),s=a[1],o=void 0,u=void 0;o=e.type.indexOf("MARKET")>=0?"market":"limit",u=e.type.indexOf("SELL")>=0?"sell":"buy";var d=this.safeFloat(e,"price",0),c=this.safeFloat(e,"commissionByTrade",0),l=this.safeFloat(e,"remainingQuantity",0),h=this.safeFloat(e,"quantity",l),f=h-l;return{info:e,id:e.id,timestamp:t,datetime:this.iso8601(t),lastTradeTimestamp:void 0,status:i,symbol:n,type:o,side:u,price:d,cost:c,amount:h,filled:f,remaining:l,trades:r,fee:{cost:c,currency:s}}}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},"undefined"!==typeof d&&(t=this.market(d),r.currencyPair=t.id),"undefined"!==typeof c&&(r.issuedFrom=parseInt(c)),"undefined"!==typeof l&&(r.endRow=l-1),e.next=9,this.privateGetExchangeClientOrders(this.extend(r,h));case 9:for(i=e.sent,n=[],a=[],i.data&&(a=i.data),s=0;s<a.length;s++)u=a[s],n.push(this.parseOrder(u,t));return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,this.extend({openClosed:"OPEN"},a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,this.extend({openClosed:"CLOSED"},a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="privatePostExchange"+this.capitalize(i)+r,s=this.market(t),u={quantity:this.amountToPrecision(t,n),currencyPair:s.id},"limit"===r&&(u.price=this.priceToPrecision(t,h)),e.next=8,this[a](this.extend(u,f));case 8:return d=e.sent,c={info:d,id:d.orderId.toString()},l=this.safeValue(d,"success"),l&&(c.status="open"),e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}throw new O(this.id+" cancelOrder requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(s),i=r.id,e.next=8,this.privatePostExchangeCancellimit(this.extend({orderId:t,currencyPair:i},u));case 8:if(n=e.sent,a=this.safeString(n,"message",this.json(n)),!("success"in n)){e.next=21;break}if(n.success){e.next=15;break}throw new M(a);case 15:if(!("cancelled"in n)){e.next=21;break}if(!n.cancelled){e.next=20;break}return e.abrupt("return",{status:"canceled",info:n});case 20:throw new I(a);case 21:throw new O(this.id+" cancelOrder() failed: "+this.json(n));case 22:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return this.checkAddress(i),n=i,"undefined"!==typeof d&&(n+="::"+d),a={amount:this.truncate(r,this.currencies[t].precision),currency:this.commonCurrencyCode(t),wallet:n},e.next=8,this.privatePostPaymentOutCoin(this.extend(a,c));case 8:if(s=e.sent,"undefined"!==typeof(u=this.safeInteger(s,"id"))){e.next=12;break}throw new P(this.id+" insufficient funds to cover requested withdrawal amount post fees "+this.json(s));case 12:return e.abrupt("return",{info:s,id:u});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={currency:t},e.next=3,this.privateGetPaymentGetAddress(this.extend(r,u));case 3:return i=e.sent,n=this.safeString(i,"wallet"),a=void 0,n.indexOf(":")>=0&&(s=n.split(":"),n=s[0],a=s[2]),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,tag:a,status:"ok",info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+e,u=this.urlencode(this.keysort(i));if("GET"===r&&(0,a.default)(i).length&&(o+="?"+u),"private"===t){this.checkRequiredCredentials(),"POST"===r&&(s=u);var d=this.hmac(this.encode(u),this.encode(this.secret),"sha256");n={"Api-Key":this.apiKey,Sign:d.toUpperCase(),"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&"{"===a[0]){var s=JSON.parse(a);if(e>=300){var o=this.safeString(s,"errorCode");if(o in this.exceptions){throw new(0,this.exceptions[o])(this.id+" "+a)}throw new O(this.id+" "+a)}if(!this.safeValue(s,"success",!0)){if(this.safeString(s,"message","").indexOf("Cannot find order")>=0)throw new I(this.id+" "+a);throw new O(this.id+" "+a)}}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e4,version:"1",has:{CORS:!1,fetchTickers:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:"https://api.mybitx.com/api",www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{public:{get:["orderbook","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}"],post:["accounts","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTickers();case 2:for(t=e.sent,r=[],i=0;i<t.tickers.length;i++)n=t.tickers[i],a=n.pair,s=a.slice(0,3),u=a.slice(3,6),s=this.commonCurrencyCode(s),u=this.commonCurrencyCode(u),d=s+"/"+u,r.push({id:a,symbol:d,base:s,quote:u,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalance();case 4:for(t=e.sent,r=t.balance,i={info:t},n=0;n<r.length;n++)a=r[n],s=this.commonCurrencyCode(a.asset),u=parseFloat(a.reserved),d=parseFloat(a.unconfirmed),c={free:0,used:this.sum(u,d),total:parseFloat(a.balance)},c.free=c.total-c.used,i[s]=c;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbook(this.extend({pair:this.marketId(t)},n));case 4:return r=e.sent,i=r.timestamp,e.abrupt("return",this.parseOrderBook(r,i,"bids","asks","price","volume"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.creation_timestamp,i="PENDING"===e.state?"open":"closed",n="ASK"===e.type?"sell":"buy",a=void 0;t&&(a=t.symbol);var s=this.safeFloat(e,"limit_price"),o=this.safeFloat(e,"limit_volume"),u=this.safeFloat(e,"fee_counter"),d=this.safeFloat(e,"fee_base"),c={currency:void 0};return u?(c.side="quote",c.cost=u):(c.side="base",c.cost=d),{id:e.order_id,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:i,symbol:a,type:void 0,side:n,price:s,amount:o,filled:void 0,remaining:void 0,trades:void 0,fee:c,info:e}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrdersId(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.timestamp,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last_trade");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickers(h);case 4:for(t=e.sent,r=this.indexBy(t.tickers,"pair"),i=(0,a.default)(r),n={},s=0;s<i.length;s++)u=i[s],d=this.markets_by_id[u],c=d.symbol,l=r[u],n[c]=this.parseTicker(l,d);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTicker(this.extend({pair:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=e.is_buy?"buy":"sell";return{info:e,id:void 0,order:void 0,timestamp:e.timestamp,datetime:this.iso8601(e.timestamp),symbol:t.symbol,type:void 0,side:r,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={pair:r.id},"undefined"!==typeof a&&(i.since=a),e.next=7,this.publicGetTrades(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n.trades,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a="privatePost",s={pair:this.marketId(t)},"market"===r?(a+="Marketorder",s.type=i.toUpperCase(),"buy"===i?s.counter_volume=n:s.base_volume=n):(a+="Postorder",s.volume=n,s.price=d,s.type="buy"===i?"BID":"ASK"),e.next=7,this[a](this.extend(s,c));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.order_id});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostStoporder({order_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if((0,a.default)(u).length&&(o+="?"+this.urlencode(u)),"private"===t){this.checkRequiredCredentials();var d=this.encode(this.apiKey+":"+this.secret);d=this.stringToBase64(d),n={Authorization:"Basic "+this.decode(d)}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("error"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"lykke",name:"Lykke",countries:"CH",version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api",test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"}},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["Market/{market}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetWallets();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.AssetId,s=n.Balance,u=n.Reserved,d=s-u,r[a]={free:d,used:u,total:s};return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostOrdersIdCancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s={AssetPairId:a.id,OrderAction:this.capitalize(i),Volume:n},"market"===r?s.Asset="buy"===i?a.base:a.quote:"limit"===r&&(s.Price=c),u="privatePostOrders"+this.capitalize(r),e.next=8,this[u](this.extend(s,l));case 8:return d=e.sent,e.abrupt("return",{id:void 0,info:d});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetAssetPairs();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.Id,s=n.BaseAssetId,u=n.QuotingAssetId,s=this.commonCurrencyCode(s),u=this.commonCurrencyCode(u),d=n.Name,c={amount:n.Accuracy,price:n.InvertedAccuracy},r.push({id:a,symbol:d,base:s,quote:u,active:!0,info:n,lot:Math.pow(10,-c.amount),precision:c,limits:{amount:{min:Math.pow(10,-c.amount),max:Math.pow(10,c.amount)},price:{min:Math.pow(10,-c.price),max:Math.pow(10,c.price)}}});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=parseFloat(e.lastPrice);return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:parseFloat(e.bid),bidVolume:void 0,ask:parseFloat(e.ask),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(e.volume24H),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.mobileGetMarketMarket(this.extend({market:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrderStatus",value:function(e){return"Pending"===e?"open":"InOrderBook"===e?"open":"Processing"===e?"open":"Matched"===e?"closed":"Cancelled"===e?"canceled":"NotEnoughFunds"===e?"NotEnoughFunds":"NoLiquidity"===e?"NoLiquidity":"UnknownAsset"===e?"UnknownAsset":"LeadToNegativeSpread"===e?"LeadToNegativeSpread":e}},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parseOrderStatus(e.Status),i=void 0;t||"AssetPairId"in e&&e.AssetPairId in this.markets_by_id&&(t=this.markets_by_id[e.AssetPairId]),t&&(i=t.symbol);var n=void 0;"LastMatchTime"in e&&e.LastMatchTime?n=this.parse8601(e.LastMatchTime):"Registered"in e&&e.Registered?n=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(n=this.parse8601(e.CreatedAt));var a=this.safeFloat(e,"Price"),s=this.safeFloat(e,"Volume"),o=this.safeFloat(e,"RemainingVolume"),u=s-o,d=u*a;return{info:e,id:e.Id,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:i,type:void 0,side:void 0,price:a,cost:d,average:void 0,amount:s,filled:u,remaining:o,status:r,fee:void 0}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrdersId(this.extend({id:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrders();case 4:return t=e.sent,e.abrupt("return",this.parseOrders(t,void 0,r,i));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrders(this.extend({status:"InOrderBook"},n));case 4:return t=e.sent,e.abrupt("return",this.parseOrders(t,void 0,r,i));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetOrders(this.extend({status:"Matched"},n));case 4:return t=e.sent,e.abrupt("return",this.parseOrders(t,void 0,r,i));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(t)},d));case 4:for(r=e.sent,i={timestamp:void 0,bids:[],asks:[]},n=void 0,a=0;a<r.length;a++)s=r[a],s.IsBuy?i.bids=this.arrayConcat(i.bids,s.Prices):i.asks=this.arrayConcat(i.asks,s.Prices),u=this.parse8601(s.Timestamp),n="undefined"===typeof n?u:Math.max(n,u);return e.abrupt("return",this.parseOrderBook(i,n,"bids","asks","Price","Volume"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseBidAsk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=parseFloat(e[t]),n=parseFloat(e[r]);return n<0&&(n=-n),[i,n]}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t]+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));return"public"===t?(0,a.default)(u).length&&(o+="?"+this.urlencode(u)):"private"===t&&("GET"===r&&(0,a.default)(u).length&&(o+="?"+this.urlencode(u)),this.checkRequiredCredentials(),n={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===r&&(0,a.default)(i).length&&(s=this.json(i))),{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"mercado",name:"Mercado Bitcoin",countries:"BR",rateLimit:1e3,version:"v3",has:{CORS:!0,createMarketOrder:!1,fetchOrder:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","withdraw_coin"]}},markets:{"BTC/BRL":{id:"BRLBTC",symbol:"BTC/BRL",base:"BTC",quote:"BRL",suffix:"Bitcoin"},"LTC/BRL":{id:"BRLLTC",symbol:"LTC/BRL",base:"LTC",quote:"BRL",suffix:"Litecoin"},"BCH/BRL":{id:"BRLBCH",symbol:"BCH/BRL",base:"BCH",quote:"BRL",suffix:"BCash"}},fees:{trading:{maker:.003,taker:.7/100}}})}},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetCoinOrderbook(this.extend({coin:r.base},n));case 3:return i=e.sent,e.abrupt("return",this.parseOrderBook(i));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetCoinTicker(this.extend({coin:r.base},u));case 3:return i=e.sent,n=i.ticker,a=1e3*parseInt(n.date),s=this.safeFloat(n,"last"),e.abrupt("return",{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(n,"high"),low:this.safeFloat(n,"low"),bid:this.safeFloat(n,"buy"),bidVolume:void 0,ask:this.safeFloat(n,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(n,"vol"),quoteVolume:void 0,info:n});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.date;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:e.type,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),i="publicGetCoinTrades",n={coin:r.base},"undefined"!==typeof u&&(i+="From",n.from=parseInt(u/1e3)),a=this.safeInteger(c,"to"),"undefined"!==typeof a&&(i+="To"),e.next=8,this[i](this.extend(n,c));case 8:return s=e.sent,e.abrupt("return",this.parseTrades(s,r,u,d));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostGetAccountInfo();case 2:for(t=e.sent,r=t.response_data.balance,i={info:t},n=(0,a.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=u.toLowerCase(),c=this.account(),d in r&&(c.free=parseFloat(r[d].available),c.total=parseFloat(r[d].total),c.used=c.total-c.free),i[u]=c;return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new C(this.id+" allows limit orders only");case 2:return a="privatePostPlace"+this.capitalize(i)+"Order",s={coin_pair:this.marketId(t),quantity:n,limit_price:d},e.next=6,this[a](this.extend(s,c));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.response_data.order.order_id.toString()});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new C(this.id+" cancelOrder() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(i),e.next=7,this.privatePostCancelOrder(this.extend({coin_pair:r.id,order_id:t},n));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;"order_type"in e&&(r=1===e.order_type?"buy":"sell");var i=e.status,n=void 0;t||"coin_pair"in e&&e.coin_pair in this.markets_by_id&&(t=this.markets_by_id[e.coin_pair]),t&&(n=t.symbol);var a=void 0;"created_timestamp"in e&&(a=1e3*parseInt(e.created_timestamp)),"updated_timestamp"in e&&(a=1e3*parseInt(e.updated_timestamp));var s={cost:this.safeFloat(e,"fee"),currency:t.quote},o=this.safeFloat(e,"limit_price"),u=this.safeFloat(e,"executed_price_avg"),d=this.safeFloat(e,"quantity"),c=this.safeFloat(e,"executed_quantity"),l=d-c,h=d*u;return{info:e,id:e.order_id.toString(),timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:n,type:"limit",side:r,price:o,cost:h,average:u,amount:d,filled:c,remaining:l,status:i,fee:s}}},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new C(this.id+" cancelOrder() requires a symbol argument");case 2:return e.next=4,this.loadMarkets();case 4:return r=this.market(n),i=void 0,e.next=8,this.privatePostGetOrder(this.extend({coin_pair:r.id,order_id:parseInt(t)},a));case 8:return i=e.sent,e.abrupt("return",this.parseOrder(i.response_data.order));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s,u,d=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if(n={coin:t,quantity:r.toFixed(10),address:i},"BRL"!==t){e.next=10;break}if(a="account_ref"in d){e.next=8;break}throw new C(this.id+" requires account_ref parameter to withdraw "+t);case 8:e.next=14;break;case 10:if("LTC"===t){e.next=14;break}if(s="tx_fee"in d){e.next=14;break}throw new C(this.id+" requires tx_fee parameter to withdraw "+t);case 14:return e.next=16,this.privatePostWithdrawCoin(this.extend(n,d));case 16:return u=e.sent,e.abrupt("return",{info:u,id:u.response_data.withdrawal.id});case 18:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t]+"/",u=this.omit(i,this.extractParams(e));if("public"===t)o+=this.implodeParams(e,i),(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),o+=this.version+"/";var d=this.nonce();s=this.urlencode(this.extend({tapi_method:e,tapi_nonce:d},i));var c="/tapi/"+this.version+"/?"+s;n={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(c),this.encode(this.secret),"sha512")}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("error_message"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30237212-ed29303c-9535-11e7-8af8-fcd381cfa20c.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker","trades","depth"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",maker:.0015,taker:.0025},"BCH/USD":{id:"bch_usd",symbol:"BCH/USD",base:"BCH",quote:"USD",maker:.001,taker:.0015},"ETH/USD":{id:"eth_usd",symbol:"ETH/USD",base:"ETH",quote:"USD",maker:.001,taker:.0015}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostInfo();case 2:for(t=e.sent,r=t.result.wallet,i={info:r},n=(0,o.default)(this.currencies),s=0;s<n.length;s++)u=n[s],d=u.toLowerCase(),c=this.account(),d in r&&(c.free=parseFloat(r[d].avail),c.used=parseFloat(r[d].lock),c.total=this.sum(c.free,c.used)),i[u]=c;return e.abrupt("return",this.parseBalance(i));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetDepth(this.extend({market:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r.result));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker(this.extend({market:this.marketId(t)},o));case 2:return r=e.sent,i=r.result,n=this.milliseconds(),s=this.safeFloat(i,"last"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"buy"),bidVolume:void 0,ask:this.safeFloat(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"vol"),quoteVolume:void 0,info:i});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{id:e.id.toString(),info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTrades(this.extend({market:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i.result,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={market:this.marketId(t),op:i,amount:n},"market"===r?(s.order_type=1,s.price=u):s.order_type=0,e.next=4,this.privatePostTrade(this.extend(s,d));case 4:return o=e.sent,e.abrupt("return",{info:o,id:o.result.id.toString()});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancel({id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)(0,o.default)(i).length&&(s+="?"+this.urlencode(i));else{this.checkRequiredCredentials();var u=this.nonce();a=this.urlencode(this.extend({nonce:u},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.secret,"sha512")}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("status"in(r=e.sent))){e.next=6;break}if(200!==r.status){e.next=6;break}return e.abrupt("return",r);case 6:throw new C(this.id+" "+this.json(r));case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"negociecoins",name:"NegocieCoins",countries:"BR",rateLimit:1e3,version:"v3",has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38008571-25a6246e-3258-11e8-969b-aeb691049245.jpg",api:{public:"https://broker.negociecoins.com.br/api/v3",private:"https://broker.negociecoins.com.br/tradeapi/v1"},www:"https://www.negociecoins.com.br",doc:["https://www.negociecoins.com.br/documentacao-tradeapi","https://www.negociecoins.com.br/documentacao-api"],fees:"https://www.negociecoins.com.br/comissoes"},api:{public:{get:["{PAR}/ticker","{PAR}/orderbook","{PAR}/trades","{PAR}/trades/{timestamp_inicial}","{PAR}/trades/{timestamp_inicial}/{timestamp_final}"]},private:{get:["user/balance","user/order/{orderId}"],post:["user/order","user/orders"],delete:["user/order/{orderId}"]}},markets:{"B2X/BRL":{id:"b2xbrl",symbol:"B2X/BRL",base:"B2X",quote:"BRL"},"BCH/BRL":{id:"bchbrl",symbol:"BCH/BRL",base:"BCH",quote:"BRL"},"BTC/BRL":{id:"btcbrl",symbol:"BTC/BRL",base:"BTC",quote:"BRL"},"BTG/BRL":{id:"btgbrl",symbol:"BTG/BRL",base:"BTG",quote:"BRL"},"DASH/BRL":{id:"dashbrl",symbol:"DASH/BRL",base:"DASH",quote:"BRL"},"LTC/BRL":{id:"ltcbrl",symbol:"LTC/BRL",base:"LTC",quote:"BRL"}},fees:{trading:{maker:.003,taker:.004},funding:{withdraw:{BTC:.001,BCH:3e-5,BTG:9e-5,LTC:.005}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,i="undefined"!==typeof t?t.symbol:void 0,n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPARTicker(this.extend({PAR:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetPAROrderbook(this.extend({PAR:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"bid","ask","price","quantity"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.date,i=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),a=t.symbol,s=parseFloat(this.costToPrecision(a,i*n));return{timestamp:r,datetime:this.iso8601(r),symbol:a,id:this.safeString(e,"tid"),order:void 0,type:"limit",side:e.type.toLowerCase(),price:i,amount:n,cost:s,fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),"undefined"===typeof a&&(a=0),i={PAR:r.id,timestamp_inicial:parseInt(a/1e3)},e.next=7,this.publicGetPARTradesTimestampInicial(this.extend(i,u));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserBalance(l);case 4:for(t=e.sent,r={info:t},i=(0,a.default)(t),n=0;n<i.length;n++)s=i[n],u=t[s],d=this.commonCurrencyCode(s),c={free:parseFloat(u.total),used:0,total:parseFloat(u.available)},c.used=c.total-c.free,r[d]=c;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;t||(t=this.safeValue(this.marketsById,e.pair))&&(r=t.symbol);var i=this.parse8601(e.created),n=this.safeFloat(e,"price"),a=this.safeFloat(e,"quantity"),s=this.safeFloat(e,"total"),o=this.safeFloat(e,"pending_quantity"),u=this.safeFloat(e,"executed_quantity"),d=e.status;d="filled"===d?"closed":"cancelled"===d?"canceled":"open";return{id:e.id.toString(),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:d,symbol:r,type:"limit",side:e.type,price:n,cost:s,amount:a,filled:u,remaining:o,trades:void 0,fee:{currency:t.quote,cost:this.safeFloat(e,"fee")},info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),e.next=5,this.privatePostUserOrder(this.extend({pair:a.id,price:this.priceToPrecision(t,c),volume:this.amountToPrecision(t,n),type:i},l));case 5:return s=e.sent,u=this.parseOrder(s[0],a),d=u.id,this.orders[d]=u,e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.markets[n],e.next=5,this.privateDeleteUserOrderOrderId(this.extend({orderId:t},a));case 5:return i=e.sent,e.abrupt("return",this.parseOrder(i[0],r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetUserOrderOrderId(this.extend({orderId:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrder(r[0]));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=this.market(n),r={pair:t.id},"undefined"!==typeof a&&(r.startDate=this.ymd(a)),"undefined"!==typeof s&&(r.pageSize=s),e.next=8,this.privatePostUserOrders(this.extend(r,u));case 8:return i=e.sent,e.abrupt("return",this.parseOrders(i,t));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(t,r,i,this.extend({status:"pending"},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(t,r,i,this.extend({status:"filled"},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t]+"/"+this.implodeParams(e,i),o=this.omit(i,this.extractParams(e)),u=this.urlencode(o);if("public"===t)u.length&&(s+="?"+u);else{this.checkRequiredCredentials();var d=this.seconds().toString(),c=this.nonce().toString(),l="";u.length?(a=this.json(o),l=this.hash(this.encode(a),"md5","base64")):a="";var h=this.encodeURIComponent(s).toLowerCase(),f=[this.apiKey,r,h,d,c,l].join(""),p=this.base64ToBinary(this.secret),v=this.hmac(this.encode(f),this.encode(p),"sha256","base64");v=this.binaryToString(v);n={Authorization:"amx "+[this.apiKey,v,c,d].join(":")},"POST"===r?(n["Content-Type"]="application/json; charset=UTF-8",n["Content-Length"]=a.length):u.length&&(s+="?"+u,a=void 0)}return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(439),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"nova",name:"Novaexchange",countries:"TZ",rateLimit:2e3,version:"v2",has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30518571-78ca0bca-9b8a-11e7-8840-64b83a4a94b2.jpg",api:"https://novaexchange.com/remote",www:"https://novaexchange.com",doc:"https://novaexchange.com/remote/faq"},api:{public:{get:["markets/","markets/{basecurrency}/","market/info/{pair}/","market/orderhistory/{pair}/","market/openorders/{pair}/buy/","market/openorders/{pair}/sell/","market/openorders/{pair}/both/","market/openorders/{pair}/{ordertype}/"]},private:{post:["getbalances/","getbalance/{currency}/","getdeposits/","getwithdrawals/","getnewdepositaddress/{currency}/","getdepositaddress/{currency}/","myopenorders/","myopenorders_market/{pair}/","cancelorder/{orderid}/","withdraw/{currency}/","trade/{pair}/","tradehistory/","getdeposithistory/","getwithdrawalhistory/","walletstatus/","walletstatus/{currency}/"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=t.markets,i=[],n=0;n<r.length;n++)a=r[n],s=a.marketname,u=s.split("_"),c=(0,d.default)(u,2),l=c[0],h=c[1],f=h+"/"+l,p=!0,a.disabled&&(p=!1),i.push({id:s,symbol:f,base:h,quote:l,active:p,info:a});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketOpenordersPairBoth(this.extend({pair:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"buyorders","sellorders","price","amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetMarketInfoPair(this.extend({pair:this.marketId(t)},s));case 4:return r=e.sent,i=r.markets[0],n=this.milliseconds(),a=this.safeFloat(i,"last_price"),e.abrupt("return",{symbol:t,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(i,"high24h"),low:this.safeFloat(i,"low24h"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:this.safeFloat(i,"change24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(i,"volume24h"),info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.unix_t_datestamp;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.tradetype.toLowerCase(),price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetMarketOrderhistoryPair(this.extend({pair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.items,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetbalances();case 4:for(t=e.sent,r=t.balances,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.currency,u=parseFloat(a.amount_lockbox),d=parseFloat(a.amount_trades),c={free:parseFloat(a.amount),used:this.sum(u,d),total:parseFloat(a.amount_total)},i[s]=c;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new O(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return n=n.toString(),d=d.toString(),a=this.market(t),s={tradetype:i.toUpperCase(),tradeamount:n,tradeprice:d,tradebase:1,pair:a.id},e.next=10,this.privatePostTradePair(this.extend(s,c));case 10:return u=e.sent,e.abrupt("return",{info:u,id:void 0});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelorder(this.extend({orderid:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/";"private"===t&&(o+=t+"/"),o+=this.implodeParams(e,i);var u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString();o+="?"+this.urlencode({nonce:d});var c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");s=this.urlencode(this.extend({apikey:this.apiKey,signature:c},u)),n={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("status"in(r=e.sent))){e.next=6;break}if("success"===r.status){e.next=6;break}throw new O(this.id+" "+this.json(r));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return e}()}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(531);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"okcoincny",name:"OKCoin CNY",countries:"CN",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766792-8be9157a-5ee5-11e7-926c-6d69b8d3378d.jpg",api:{web:"https://www.okcoin.cn",public:"https://www.okcoin.cn/api",private:"https://www.okcoin.cn/api"},www:"https://www.okcoin.cn",doc:"https://www.okcoin.cn/rest_getStarted.html"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"spot",spot:!0,future:!1},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"spot",spot:!0,future:!1},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",type:"spot",spot:!0,future:!1},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY",type:"spot",spot:!0,future:!1},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",type:"spot",spot:!0,future:!1}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(531);e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"okex",name:"OKEX",countries:["CN","US"],has:{CORS:!1,futures:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{web:"https://www.okex.com/v2",public:"https://www.okex.com/api",private:"https://www.okex.com/api"},www:"https://www.okex.com",doc:"https://github.com/okcoin-okex/API-docs-OKEx.com",fees:"https://www.okex.com/fees.html"},commonCurrencies:{FAIR:"FairGame",MAG:"Maggie",NANO:"XRB",YOYO:"YOYOW"}})}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",u=s[a],d=parseFloat(this.costToPrecision(e,i*u));return"sell"===r?d*=n:o="base",{type:a,currency:s[o],rate:u,cost:parseFloat(this.feeToPrecision(e,d))}}},{key:"fetchMarkets",value:function(){function e(){return r.apply(this,arguments)}var r=(0,o.default)(a.default.mark(function e(){var r,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"fetchMarkets",this).call(this);case 2:for(r=e.sent,i=0;i<r.length;i++)r[i].spot?(r[i].maker=.0015,r[i].taker=.002):(r[i].maker=3e-4,r[i].taker=5e-4);return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t={},e.next=5,this.publicGetTickers(this.extend(t,h));case 5:for(r=e.sent,i=r.tickers,n=1e3*parseInt(r.date),s={},o=0;o<i.length;o++)u=i[o],d=void 0,"symbol"in u&&(c=u.symbol)in this.markets_by_id&&(d=this.markets_by_id[c]),u=this.parseTicker(this.extend(i[o],{timestamp:n}),d),l=u.symbol,s[l]=u;return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return e}()}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27790564-a945a9d4-5ff9-11e7-9d2d-b635763f2f24.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"]},api:{public:{get:["countries","data/{id}/ticker","data/{id}/trades","data/{id}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["merchant/get_payment/{UUID}","user","user/addresses","user/addresses/{btc_address}","user/orders","user/orders/{UUID}","user/price_alerts"],post:["user/orders","user/addresses","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{UUID}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR"}},fees:{trading:{maker:.0059,taker:.0059}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetUser();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d=this.account(),c="balance_"+u,l="locked_"+u,c in t&&(d.free=t[c]),l in t&&(d.used=t[l]),d.total=this.sum(d.free,d.used),r[s]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetDataIdDepth(this.extend({id:this.marketId(t)},i));case 2:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"bids","asks","price","amount"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetDataIdTicker(this.extend({id:this.marketId(t)},d));case 2:return r=e.sent,i=1e3*r.at,n=this.safeFloat(r,"vwap"),s=this.safeFloat(r,"volume"),o=s*n,u=this.safeFloat(r,"price"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:this.safeFloat(r,"open"),close:u,last:u,previousClose:void 0,change:void 0,percentage:this.safeFloat(r,"variation"),average:void 0,baseVolume:s,quoteVolume:o,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.created_at_int),i="traded_"+t.base.toLowerCase();return{info:e,id:e.uuid,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e[i]}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetDataIdTrades(this.extend({id:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={type:this.capitalize(r)+"Order",currency:this.marketId(t),direction:i,amount:n},"market"!==r&&(s.price=u),e.next=4,this.privatePostUserOrders(this.extend(s,d));case 4:return o=e.sent,e.abrupt("return",{info:o,id:o.uuid});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateDeleteUserOrdersUUIDCancel(this.extend({UUID:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("public"===t)(0,o.default)(u).length&&(s+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var d=this.nonce().toString(),c=d+s;"POST"===r&&(0,o.default)(u).length&&(a=this.json(u),c+=a),n={"Api-Key":this.apiKey,"Api-Signature":this.hmac(this.encode(c),this.encode(this.secret)),"Api-Nonce":d,"Content-Type":"application/json"}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if(!("errors"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(439),a=i(n),s=r(436),o=i(s),u=r(19),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.ExchangeError,B=_.ExchangeNotAvailable,S=_.RequestTimeout,M=_.AuthenticationError,I=_.DDoSProtection,E=_.InsufficientFunds,F=_.OrderNotFound,P=_.OrderNotCached,A=_.InvalidOrder,G=_.AccountSuspended,D=_.CancelPending,R=_.InvalidNonce;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"poloniex",name:"Poloniex",countries:"US",rateLimit:1e3,has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!1,editOrder:!0,createMarketOrder:!1,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchTradingFees:!0,fetchCurrencies:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://poloniex.com",doc:["https://poloniex.com/support/api/","http://pastebin.com/dMX7mZE0"],fees:"https://poloniex.com/fees"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{maker:.0015,taker:.0025},funding:{}},limits:{amount:{min:1e-8,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{BTM:"Bitmark",STR:"XLM",BCC:"BTCtalkcoin"}})}},{key:"calculateFee",value:function(e,t,r,i,n){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"taker",s=(arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.markets[e]),o="quote",u=s[a],d=parseFloat(this.costToPrecision(e,i*u));return"sell"===r?d*=n:o="base",{type:a,currency:s[o],rate:u,cost:parseFloat(this.feeToPrecision(e,d))}}},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e.date,e.open,e.high,e.low,e.close,e.quoteVolume]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),s||(s=0),i={currencyPair:r.id,period:this.timeframes[a],start:parseInt(s/1e3)},"undefined"!==typeof o&&(i.end=this.sum(i.start,o*this.timeframes[a])),e.next=8,this.publicGetReturnChartData(this.extend(i,u));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,s,u,c,l,h,f,p;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetReturnTicker();case 2:for(t=e.sent,r=(0,o.default)(t),i=[],n=0;n<r.length;n++)s=r[n],u=t[s],c=s.split("_"),l=(0,a.default)(c,2),h=l[0],f=l[1],f=this.commonCurrencyCode(f),h=this.commonCurrencyCode(h),p=f+"/"+h,i.push(this.extend(this.fees.trading,{id:s,symbol:p,base:f,quote:h,active:!0,precision:{amount:8,price:8},limits:{amount:{min:1e-8,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},info:u}));return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostReturnCompleteBalances(this.extend({account:"all"},l));case 4:for(t=e.sent,r={info:t},i=(0,o.default)(t),n=0;n<i.length;n++)a=i[n],s=t[a],u=this.commonCurrencyCode(a),c={free:parseFloat(s.available),used:parseFloat(s.onOrders),total:0},c.total=this.sum(c.free,c.used),r[u]=c;return e.abrupt("return",this.parseBalance(r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTradingFees",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostReturnFeeInfo();case 4:return t=e.sent,e.abrupt("return",{info:t,maker:this.safeFloat(t,"makerFee"),taker:this.safeFloat(t,"takerFee"),withdraw:{},deposit:{}});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={currencyPair:this.marketId(t)},"undefined"!==typeof a&&(r.depth=a),e.next=6,this.publicGetReturnOrderBook(this.extend(r,s));case 6:return i=e.sent,n=this.parseOrderBook(i),n.nonce=this.safeInteger(i,"sec"),e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=void 0,a=void 0,s=void 0,o=this.safeFloat(e,"last"),u=this.safeFloat(e,"percentChange");return-1!==u&&(n=o/this.sum(1,u),a=o-n,s=this.sum(o,n)/2),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:n,close:o,last:o,previousClose:void 0,change:a,percentage:100*u,average:s,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetReturnTicker(l);case 4:for(t=e.sent,r=(0,o.default)(t),i={},n=0;n<r.length;n++)a=r[n],s=this.markets_by_id[a],u=s.symbol,c=t[a],i[u]=this.parseTicker(c,s);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetReturnCurrencies(f);case 2:for(t=e.sent,r=(0,o.default)(t),i={},n=0;n<r.length;n++)a=r[n],s=t[a],u=8,c=this.commonCurrencyCode(a),l=0===s.delisted,h=s.disabled?"disabled":"ok","ok"!==h&&(l=!1),i[c]={id:a,code:c,info:s,name:s.name,active:l,status:h,fee:this.safeFloat(s,"txFee"),precision:u,limits:{amount:{min:Math.pow(10,-u),max:Math.pow(10,u)},price:{min:Math.pow(10,-u),max:Math.pow(10,u)},cost:{min:void 0,max:void 0},withdraw:{min:s.txFee,max:Math.pow(10,u)}}};return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetReturnTicker(a);case 5:return i=e.sent,n=i[r.id],e.abrupt("return",this.parseTicker(n,r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),i=void 0,n=void 0,a=void 0;if(!t&&"currencyPair"in e){var s=e.currencyPair;if(s in this.markets_by_id)t=this.markets_by_id[s];else{var o=s.split("_");a=o[0],n=o[1],i=n+"/"+a}}t&&(i=t.symbol,n=t.base,a=t.quote);var u=e.type,d=void 0,c=this.safeFloat(e,"total"),l=this.safeFloat(e,"amount");if("fee"in e){var h=this.safeFloat(e,"fee"),f=void 0,p=void 0;"buy"===u?(p=n,f=l*h):(p=a,"undefined"!==typeof c&&(f=c*h)),d={type:void 0,rate:h,cost:f,currency:p}}return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,id:this.safeString(e,"tradeID"),order:this.safeString(e,"orderNumber"),type:"limit",side:u,price:this.safeFloat(e,"rate"),amount:l,cost:c,fee:d}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={currencyPair:r.id},"undefined"!==typeof a&&(i.start=parseInt(a/1e3),i.end=this.seconds()),e.next=7,this.publicGetReturnTradeHistory(this.extend(i,o));case 7:return n=e.sent,e.abrupt("return",this.parseTrades(n,r,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMyTrades",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,p&&(t=this.market(p)),r=t?t.id:"all",i={currencyPair:r},"undefined"!==typeof v&&(i.start=parseInt(v/1e3),i.end=this.seconds()),m&&(i.limit=parseInt(m)),e.next=10,this.privatePostReturnTradeHistory(this.extend(i,y));case 10:if(n=e.sent,a=[],t)a=this.parseTrades(n,t);else if(n)for(s=(0,o.default)(n),u=0;u<s.length;u++){c=s[u],l=void 0,c in this.markets_by_id&&(l=this.markets_by_id[c]),h=this.parseTrades(n[c],l);for(f=0;f<h.length;f++)a.push(h[f])}return e.abrupt("return",this.filterBySinceLimit(a,v,m));case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"timestamp");r||(r=this.parse8601(e.date));var i=void 0;"resultingTrades"in e&&(i=this.parseTrades(e.resultingTrades,t));var n=void 0;t&&(n=t.symbol);var a=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),o=this.safeFloat(e,"startingAmount",s),u=void 0,d=0;if("undefined"!==typeof o&&"undefined"!==typeof s&&(u=o-s,"undefined"!==typeof a&&(d=u*a)),"undefined"===typeof u&&"undefined"!==typeof i){u=0,d=0;for(var c=0;c<i.length;c++){var l=i[c],h=l.amount,f=l.price;u=this.sum(u,h),d+=f*h}}return{info:e,id:e.orderNumber,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:e.status,symbol:n,type:e.type,side:e.side,price:a,cost:d,amount:o,filled:u,remaining:s,trades:i,fee:void 0}}},{key:"parseOpenOrders",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=0;i<e.length;i++){var n=e[i],a=this.extend(n,{status:"open",type:"limit",side:n.type,price:n.rate});r.push(this.parseOrder(a,t))}return r}},{key:"fetchOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p,v,m,y,k,b,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,g&&(t=this.market(g)),r=t?t.id:"all",e.next=7,this.privatePostReturnOpenOrders(this.extend({currencyPair:r}));case 7:if(i=e.sent,n=[],t)n=this.parseOpenOrders(i,t,n);else for(a=(0,o.default)(i),s=0;s<a.length;s++)u=a[s],c=i[u],l=this.markets_by_id[u],n=this.parseOpenOrders(c,l,n);for(h=0;h<n.length;h++)this.orders[n[h].id]=n[h];for(f=this.indexBy(n,"id"),p=(0,o.default)(this.orders),v=[],m=0;m<p.length;m++)y=p[m],y in f?this.orders[y]=this.extend(this.orders[y],f[y]):(k=this.orders[y],"open"===k.status&&(k=this.extend(k,{status:"closed",cost:void 0,filled:k.amount,remaining:0}),"undefined"===typeof k.cost&&"undefined"!==typeof k.filled&&(k.cost=k.filled*k.price),this.orders[y]=k)),b=this.orders[y],t?b.symbol===g&&v.push(b):v.push(b);return e.abrupt("return",this.filterBySinceLimit(v,w,x));case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.safeValue(u,"since"),i=this.safeValue(u,"limit"),n=this.omit(u,["since","limit"]),e.next=5,this.fetchOrders(o,r,i,n);case 5:a=e.sent,s=0;case 7:if(!(s<a.length)){e.next=13;break}if(a[s].id!==t){e.next=10;break}return e.abrupt("return",a[s]);case 10:s++,e.next=7;break;case 13:throw new P(this.id+" order id "+t.toString()+' is not in "open" state and not found in cache');case 14:case"end":return e.stop()}},e,this)}));return e}()},{key:"filterOrdersByStatus",value:function(e,t){for(var r=[],i=0;i<e.length;i++)e[i].status===t&&r.push(e[i]);return r}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,a);case 2:return t=e.sent,e.abrupt("return",this.filterOrdersByStatus(t,"open"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchOrders(r,i,n,a);case 2:return t=e.sent,e.abrupt("return",this.filterOrdersByStatus(t,"closed"));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n){var a,s,o,u,c,l,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("market"!==r){e.next=2;break}throw new O(this.id+" allows limit orders only");case 2:return e.next=4,this.loadMarkets();case 4:return a="privatePost"+this.capitalize(i),s=this.market(t),h=parseFloat(h),n=parseFloat(n),e.next=10,this[a](this.extend({currencyPair:s.id,rate:this.priceToPrecision(t,h),amount:this.amountToPrecision(t,n)},f));case 10:return o=e.sent,u=this.milliseconds(),c=this.parseOrder(this.extend({timestamp:u,status:"open",type:r,side:i,price:h,amount:n},o),s),l=c.id,this.orders[l]=c,e.abrupt("return",this.extend({info:o},c));case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"editOrder",value:function(){function e(e,r,i,n,a){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n,a){var s,o,u,c,l,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return h=parseFloat(h),s={orderNumber:t,rate:this.priceToPrecision(r,h)},"undefined"!==typeof a&&(a=parseFloat(a),s.amount=this.amountToPrecision(r,a)),e.next=7,this.privatePostMoveOrder(this.extend(s,f));case 7:return o=e.sent,u=void 0,t in this.orders?(this.orders[t].status="canceled",c=o.orderNumber,this.orders[c]=this.extend(this.orders[t],{id:c,price:h,status:"open"}),"undefined"!==typeof a&&(this.orders[c].amount=a),u=this.extend(this.orders[c],{info:o})):(l=void 0,r&&(l=this.market(r)),u=this.parseOrder(o,l),this.orders[u.id]=u),e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=void 0,e.prev=3,e.next=6,this.privatePostCancelOrder(this.extend({orderNumber:t},i));case 6:r=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),e.t0 instanceof D&&t in this.orders&&(this.orders[t].status="canceled"),e.t0;case 13:return t in this.orders&&(this.orders[t].status="canceled"),e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this,[[3,9]])}));return e}()},{key:"fetchOrderStatus",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.fetchOpenOrders(n);case 4:return r=e.sent,i=this.indexBy(r,"id"),e.abrupt("return",t in i?"open":"closed");case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostReturnOrderTrades(this.extend({orderNumber:t},i));case 4:return r=e.sent,e.abrupt("return",this.parseTrades(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.currency(t),e.next=3,this.privatePostGenerateNewAddress({currency:r.id});case 3:return i=e.sent,n=void 0,1===i.success&&(n=this.safeString(i,"response")),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:"ok",info:i});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.currency(t),e.next=3,this.privatePostReturnDepositAddresses();case 3:return i=e.sent,n=r.id,a=this.safeString(i,n),this.checkAddress(a),s=a?"ok":"none",e.abrupt("return",{currency:t,address:a,status:s,info:i});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i){var n,a,s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),a={currency:n.id,amount:r,address:i},o&&(a.paymentId=o),e.next=8,this.privatePostWithdraw(this.extend(a,u));case 8:return s=e.sent,e.abrupt("return",{info:s,id:s.response});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t],o=this.extend({command:e},i);return"public"===t?s+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o.nonce=this.nonce(),a=this.urlencode(o),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){var s=void 0;try{s=JSON.parse(a)}catch(e){return}if("error"in s){var o=s.error,u=this.id+" "+this.json(s);throw"Invalid order number, or you are not the person who placed the order."===o?new F(u):"Connection timed out. Please try again."===o?new S(u):"Internal error. Please try again."===o?new B(u):"Order not found, or you are not the person who placed it."===o?new F(u):"Invalid API key/secret pair."===o?new M(u):"Please do not make more than 8 API calls per second."===o?new I(u):o.indexOf("Total must be at least")>=0?new A(u):o.indexOf("This account is frozen.")>=0?new G(u):o.indexOf("Not enough")>=0?new E(u):o.indexOf("Nonce must be greater")>=0?new R(u):o.indexOf("You have already called cancelOrder or moveOrder on this order.")>=0?new D(u):new O(this.id+": unknown error: "+this.json(s))}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"quadrigacx",name:"QuadrigaCX",countries:"CA",rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,CORS:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766825-98a6d0de-5ee7-11e7-9fa4-38e11a2c6f52.jpg",api:"https://api.quadrigacx.com",www:"https://www.quadrigacx.com",doc:"https://www.quadrigacx.com/api_info"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book","ticker","transactions"]},private:{post:["balance","bitcoin_deposit_address","bitcoin_withdrawal","bitcoincash_deposit_address","bitcoincash_withdrawal","bitcoingold_deposit_address","bitcoingold_withdrawal","buy","cancel_order","ether_deposit_address","ether_withdrawal","litecoin_deposit_address","litecoin_withdrawal","lookup_order","open_orders","sell","user_transactions"]}},markets:{"BTC/CAD":{id:"btc_cad",symbol:"BTC/CAD",base:"BTC",quote:"CAD",maker:.005,taker:.005},"BTC/USD":{id:"btc_usd",symbol:"BTC/USD",base:"BTC",quote:"USD",maker:.005,taker:.005},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",maker:.002,taker:.002},"ETH/CAD":{id:"eth_cad",symbol:"ETH/CAD",base:"ETH",quote:"CAD",maker:.005,taker:.005},"LTC/CAD":{id:"ltc_cad",symbol:"LTC/CAD",base:"LTC",quote:"CAD",maker:.005,taker:.005},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",maker:.005,taker:.005},"BCH/CAD":{id:"bch_cad",symbol:"BCH/CAD",base:"BCH",quote:"CAD",maker:.005,taker:.005},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",maker:.005,taker:.005},"BTG/CAD":{id:"btg_cad",symbol:"BTG/CAD",base:"BTG",quote:"CAD",maker:.005,taker:.005},"BTG/BTC":{id:"btg_btc",symbol:"BTG/BTC",base:"BTG",quote:"BTC",maker:.005,taker:.005}}})}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostBalance();case 2:for(t=e.sent,r={info:t},i=(0,o.default)(this.currencies),n=0;n<i.length;n++)s=i[n],u=s.toLowerCase(),d={free:parseFloat(t[u+"_available"]),used:parseFloat(t[u+"_reserved"]),total:parseFloat(t[u+"_balance"])},r[s]=d;return e.abrupt("return",this.parseBalance(r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetOrderBook(this.extend({book:this.marketId(t)},n));case 2:return r=e.sent,i=1e3*parseInt(r.timestamp),e.abrupt("return",this.parseOrderBook(r,i));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetTicker(this.extend({book:this.marketId(t)},d));case 2:return r=e.sent,i=1e3*parseInt(r.timestamp),n=this.safeFloat(r,"vwap"),s=this.safeFloat(r,"volume"),o=s*n,u=this.safeFloat(r,"last"),e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:o,info:r});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*parseInt(e.date);return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:e.tid.toString(),order:void 0,type:void 0,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.market(t),e.next=3,this.publicGetTransactions(this.extend({book:r.id},o));case 3:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="privatePost"+this.capitalize(i),o={amount:n,book:this.marketId(t)},"limit"===r&&(o.price=d),e.next=5,this[s](this.extend(o,c));case 5:return u=e.sent,e.abrupt("return",{info:u,id:u.id.toString()});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder(this.extend({id:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="privatePost"+this.getCurrencyName(t)+"DepositAddress",e.next=3,this[r](o);case 3:return i=e.sent,n=void 0,s=void 0,i.indexOf("rror")>=0?s="error":(n=i,s="ok"),this.checkAddress(n),e.abrupt("return",{currency:t,address:n,status:s,info:this.last_http_response});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"getCurrencyName",value:function(e){return{ETH:"Ether",BTC:"Bitcoin",LTC:"Litecoin",BCH:"Bitcoincash",BTG:"Bitcoingold"}[e]}},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o,u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n={amount:r,address:i},s="privatePost"+this.getCurrencyName(t)+"Withdrawal",e.next=7,this[s](this.extend(n,u));case 7:return o=e.sent,e.abrupt("return",{info:o,id:void 0});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.version+"/"+e;if("public"===t)s+="?"+this.urlencode(i);else{this.checkRequiredCredentials();var o=this.nonce(),u=[o.toString(),this.uid,this.apiKey].join(""),d=this.hmac(this.encode(u),this.encode(this.secret)),c=this.extend({key:this.apiKey,nonce:o,signature:d},i);a=this.json(c),n={"Content-Type":"application/json"}}return{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if("string"===typeof a&&!(a.length<2)&&200===e&&a.indexOf("Invalid API Code or Invalid Signature")>=0)throw new _(this.id+" "+a)}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,s,o,u);case 2:if("string"!==typeof(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:if(!("error"in r)){e.next=7;break}throw new C(this.id+" "+this.json(r));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(738);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"quoinex",name:"QUOINEX",countries:["JP","SG","VN"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/35047114-0e24ad4a-fbaa-11e7-96a9-69c1a756083b.jpg",api:"https://api.quoine.com",www:"https://quoinex.com/",doc:["https://developers.quoine.com","https://developers.quoine.com/v2"],fees:"https://news.quoinex.com/fees/"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"southxchange",name:"SouthXchange",countries:"AR",rateLimit:1e3,has:{CORS:!0,createDepositAddress:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg",api:"https://www.southxchange.com/api",www:"https://www.southxchange.com",doc:"https://www.southxchange.com/Home/Api"},api:{public:{get:["markets","price/{symbol}","prices","book/{symbol}","trades/{symbol}"]},private:{post:["cancelMarketOrders","cancelOrder","generatenewaddress","listOrders","listBalances","placeOrder","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},commonCurrencies:{SMT:"SmartNode"}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetMarkets();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n[0],s=n[1],u=this.commonCurrencyCode(a),d=this.commonCurrencyCode(s),c=u+"/"+d,l=c,r.push({id:l,symbol:c,base:u,quote:d,baseId:a,quoteId:s,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f,p,v;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostListBalances();case 4:if(t=e.sent){e.next=7;break}throw new C(this.id+" fetchBalance got an unrecognized response");case 7:for(r={info:t},i=0;i<t.length;i++)n=t[i],a=n.Currency,s=a.toUpperCase(),u=this.currencies_by_id[s],d=u.code,c=parseFloat(n.Available),l=parseFloat(n.Deposited),h=parseFloat(n.Unconfirmed),f=this.sum(l,h),p=f-c,v={free:c,used:p,total:f},r[d]=v;return e.abrupt("return",this.parseBalance(r));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetBookSymbol(this.extend({symbol:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r,void 0,"BuyOrders","SellOrders","Price","Amount"));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.milliseconds(),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"Last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:this.safeFloat(e,"Variation24Hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24Hr"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetPrices(h);case 4:for(t=e.sent,r=this.indexBy(t,"Market"),i=(0,a.default)(r),n={},s=0;s<i.length;s++)u=i[s],d=u,c=void 0,u in this.markets_by_id&&(c=this.markets_by_id[u],d=c.symbol),l=r[u],n[d]=this.parseTicker(l,c);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetPriceSymbol(this.extend({symbol:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=1e3*e.At;return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,id:void 0,order:void 0,type:void 0,side:e.Type,price:e.Price,amount:e.Amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradesSymbol(this.extend({symbol:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.ListingCurrency+"/"+e.ReferenceCurrency),r=this.safeFloat(e,"LimitPrice"),i=this.safeFloat(e,"OriginalAmount"),n=this.safeFloat(e,"Amount"),a=void 0,s=void 0;"undefined"!==typeof i&&(s=r*i,"undefined"!==typeof n&&(a=i-n));var o=e.Type.toLowerCase();return{info:e,id:e.Code.toString(),timestamp:void 0,datetime:this.iso8601(void 0),lastTradeTimestamp:void 0,symbol:t,type:"limit",side:o,price:r,amount:i,cost:s,filled:a,remaining:n,status:"open",fee:void 0}}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,"undefined"!==typeof i&&(t=this.market(i)),e.next=6,this.privatePostListOrders();case 6:return r=e.sent,e.abrupt("return",this.parseOrders(r,t,n,a));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a=this.market(t),s={listingCurrency:a.base,referenceCurrency:a.quote,type:i,amount:n},"limit"===r&&(s.limitPrice=d),e.next=7,this.privatePostPlaceOrder(this.extend(s,c));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.toString()});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelOrder(this.extend({orderCode:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privatePostGeneratenewaddress(this.extend({currency:r.id},d));case 5:return i=e.sent,n=i.split("|"),a=n.length,s=n[0],this.checkAddress(s),u=void 0,a>1&&(u=n[1]),e.abrupt("return",{currency:t,address:s,tag:u,status:"ok",info:i});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i){var n,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),n={currency:t,address:i,amount:r},"undefined"!==typeof s&&(n.address=i+"|"+s),e.next=5,this.privatePostWithdraw(this.extend(n,u));case 5:return a=e.sent,e.abrupt("return",{info:a,id:void 0});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/"+this.implodeParams(e,i),o=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var u=this.nonce();o=this.extend({key:this.apiKey,nonce:u},o),a=this.json(o),n={"Content-Type":"application/json",Hash:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(506);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"surbitcoin",name:"SurBitcoin",countries:"VE",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991511-f0a50194-6481-11e7-99b5-8f02932424cc.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://surbitcoin.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"1"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"therock",name:"TheRockTrading",countries:"MT",rateLimit:1e3,version:"v1",has:{CORS:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetFundsTickers();case 2:for(t=e.sent,r=[],i=0;i<t.tickers.length;i++)n=t.tickers[i],a=n.fund_id,s=a.slice(0,3),u=a.slice(3),d=s+"/"+u,r.push({id:a,symbol:d,base:s,quote:u,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalances();case 4:for(t=e.sent,r=t.balances,i={info:t},n=0;n<r.length;n++)a=r[n],s=a.currency,u=a.trading_balance,d=a.balance,c=d-u,l={free:u,used:c,total:d},i[s]=l;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetFundsIdOrderbook(this.extend({id:this.marketId(t)},n));case 4:return r=e.sent,i=this.parse8601(r.date),e.abrupt("return",this.parseOrderBook(r,i,"bids","asks","price","amount"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.date),i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:n,last:n,previousClose:this.safeFloat(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_traded"),quoteVolume:this.safeFloat(e,"volume"),info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetFundsTickers(h);case 4:for(t=e.sent,r=this.indexBy(t.tickers,"fund_id"),i=(0,a.default)(r),n={},s=0;s<i.length;s++)u=i[s],d=this.markets_by_id[u],c=d.symbol,l=r[u],n[c]=this.parseTicker(l,d);return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetFundsIdTicker(this.extend({id:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t||(t=this.markets_by_id[e.fund_id]);var r=this.parse8601(e.date);return{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:e.side,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetFundsIdTrades(this.extend({id:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i.trades,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return"market"===r&&(s=0),e.next=5,this.privatePostFundsFundIdOrders(this.extend({fund_id:this.marketId(t),side:i,amount:n,price:s},u));case 5:return a=e.sent,e.abrupt("return",{info:a,id:a.id.toString()});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateDeleteFundsFundIdOrdersId(this.extend({id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,i),u=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var d=this.nonce().toString(),c=d+o;n={"X-TRT-KEY":this.apiKey,"X-TRT-NONCE":d,"X-TRT-SIGN":this.hmac(this.encode(c),this.encode(this.secret),"sha512")},(0,a.default)(u).length&&(s=this.json(u),n["Content-Type"]="application/json")}return{url:o,method:r,body:s,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("errors"in(r=e.sent))){e.next=5;break}throw new C(this.id+" "+this.json(r));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(439),o=i(s),u=r(19),d=i(u),c=r(435),l=i(c),h=r(429),f=i(h),p=r(430),v=i(p),m=r(431),y=i(m),k=r(432),b=i(k),g=r(434),w=i(g),x=r(433),T=i(x),C=r(438),_=r(437),O=_.InsufficientFunds,B=_.OrderNotFound;e.exports=function(e){function t(){return(0,v.default)(this,t),(0,b.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,y.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,w.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"describe",this).call(this),{id:"tidebit",name:"TideBit",countries:"HK",rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39034921-e3acf016-4480-11e8-9945-a6086a1082fe.jpg",api:"https://www.tidebit.com/api",www:"https://www.tidebit.com",doc:"https://www.tidebit.com/documents/api_v2"},api:{public:{get:["v2/markets","v2/tickers","v2/tickers/{market}","v2/trades","v2/trades/{market}","v2/order_book","v2/order","v2/k_with_pending_trades","v2/k","v2/depth"],post:[]},private:{get:["v2/deposits","v2/deposit_address","v2/deposit","v2/members/me","v2/addresses/{address}"],post:["v2/order/delete","v2/order","v2/order/multi","v2/order/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:O,2003:B}})}},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),e.next=5,this.privateGetV2DepositAddress(this.extend({currency:r.id},s));case 5:if(!("success"in(i=e.sent))){e.next=11;break}if(!i.success){e.next=11;break}return n=this.safeString(i,"address"),a=this.safeString(i,"addressTag"),e.abrupt("return",{currency:t,address:this.checkAddress(n),tag:a,status:"ok",info:i});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,u,c,l,h,f,p;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetV2Markets();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.id,s=n.name,u=s.split("/"),c=(0,o.default)(u,2),l=c[0],h=c[1],f=this.commonCurrencyCode(l),p=this.commonCurrencyCode(h),r.push({id:a,symbol:s,base:f,quote:p,baseId:l,quoteId:h,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,a,s,o,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetV2Deposits();case 4:for(t=e.sent,r=t.accounts,i={info:r},n=0;n<r.length;n++)a=r[n],s=a.currency,o=s.toUpperCase(),s in this.currencies_by_id&&(o=this.currencies_by_id[s].code),u={free:parseFloat(a.balance),used:parseFloat(a.locked),total:0},u.total=this.sum(u.free,u.used),i[o]=u;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),i={market:r.id},"undefined"===typeof s&&(i.limit=s),i.market=r.id,e.next=8,this.publicGetV2Depth(this.extend(i,o));case 8:return n=e.sent,a=1e3*n.timestamp,e.abrupt("return",this.parseOrderBook(n,a));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.at;e=e.ticker;var i=void 0;"undefined"!==typeof t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(){var t,r,i,n,s,o,u,c,l,h,f=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetV2Tickers(f);case 4:for(t=e.sent,r=(0,a.default)(t),i={},n=0;n<r.length;n++)s=r[n],o=void 0,u=s,s in this.markets_by_id?(o=this.markets_by_id[s],u=o.symbol):(c=s.slice(0,3),l=s.slice(3,6),c=c.toUpperCase(),l=l.toUpperCase(),c=this.commonCurrencyCode(c),l=this.commonCurrencyCode(l),u=c+"/"+l),h=t[s],i[u]=this.parseTicker(h,o);return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetV2TickersMarket(this.extend({market:r.id},n));case 5:return i=e.sent,e.abrupt("return",this.parseTicker(i,r));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.parse8601(e.created_at);return{id:e.id.toString(),timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetV2Trades(this.extend({market:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1m",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),o||(o=30),i={market:r.id,period:this.timeframes[a],limit:o},i.timestamp="undefined"!==typeof s?s:18e5,e.next=8,this.publicGetV2K(this.extend(i,u));case 8:return n=e.sent,e.abrupt("return",this.parseOHLCVs(n,r,a,s,o));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=void 0;if(t)r=t.symbol;else{var i=e.market;r=this.markets_by_id[i].symbol}var n=this.parse8601(e.created_at),a=e.state,s=void 0;return"done"===a?s="closed":"wait"===a?s="open":"cancel"===a&&(s="canceled"),{id:e.id.toString(),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,status:s,symbol:r,type:e.ord_type,side:e.side,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i,n){var a,s,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return a={market:this.marketId(t),side:i,volume:n.toString(),ord_type:r},"limit"===r&&(a.price=u.toString()),e.next=6,this.privatePostV2Order(this.extend(a,c));case 6:return s=e.sent,o=this.markets_by_id[s.market],e.abrupt("return",this.parseOrder(s,o));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t){var r,i,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostV2OrderDelete({id:t});case 4:if(r=e.sent,i=this.parseOrder(r),"closed"!==(n=i.status)&&"canceled"!==n){e.next=9;break}throw new B(this.id+" "+this.json(i));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,l.default)(d.default.mark(function e(t,r,i){var n,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return e.next=5,this.privatePostWithdraw(this.extend({currency:t.toLowerCase(),sum:r,address:i},a));case 5:return n=e.sent,e.abrupt("return",{info:n,id:void 0});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"encodeParams",value:function(e){return this.urlencode(this.keysort(e))}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.implodeParams(e,i)+".json",u=this.omit(i,this.extractParams(e)),d=this.urls.api+"/"+o;if("public"===t)(0,a.default)(u).length&&(d+="?"+this.urlencode(u));else{this.checkRequiredCredentials();var c=this.nonce().toString(),l=this.urlencode(this.extend({access_key:this.apiKey,tonce:c},i)),h=r+"|"+o+"|"+l,f=this.hmac(this.encode(h),this.encode(this.secret)),p=l+"&signature="+f;"GET"===r?d+="?"+p:(s=p,n={"Content-Type":"application/x-www-form-urlencoded"})}return{url:d,method:r,body:s,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(400===e){var s=JSON.parse(a),o=this.safeValue(s,"error"),u=this.safeString(o,"code"),d=this.id+" "+this.json(s),c=this.exceptions;if(u in c)throw new c[u](d)}}}]),t}(C)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(507);e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"tidex",name:"Tidex",countries:"UK",rateLimit:2e3,version:"3",has:{fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://web.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{MGO:"WMGO",EMGO:"MGO"}})}},{key:"fetchCurrencies",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d,c,l,h,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.webGetCurrency(f);case 2:for(t=e.sent,r={},i=0;i<t.length;i++)n=t[i],a=n.symbol,s=n.amountPoint,u=a.toUpperCase(),u=this.commonCurrencyCode(u),d=!0===n.visible,c="ok",d||(c="disabled"),l=!0===n.withdrawEnable,h=!0===n.depositEnable,l&&h||(d=!1),r[u]={id:a,code:u,name:n.name,active:d,status:c,precision:s,funding:{withdraw:{active:l,fee:n.withdrawFee},deposit:{active:h,fee:0}},limits:{amount:{min:void 0,max:Math.pow(10,s)},price:{min:Math.pow(10,-s),max:Math.pow(10,s)},cost:{min:void 0,max:void 0},withdraw:{min:n.withdrawMinAmout,max:void 0},deposit:{min:n.depositMinAmount,max:void 0}},info:n};return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"getVersionString",value:function(){return""}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=this.urls.api[t],u=this.omit(i,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();var d=this.nonce();s=this.urlencode(this.extend({nonce:d,method:e},u));var c=this.signBodyWithSecret(s);n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:c}}else"public"===t?(o+=this.getVersionString()+"/"+this.implodeParams(e,i),(0,a.default)(u).length&&(o+="?"+this.urlencode(u))):(o+="/"+this.implodeParams(e,i),"GET"===r?(0,a.default)(u).length&&(o+="?"+this.urlencode(u)):(0,a.default)(u).length&&(s=this.urlencode(u),n={"Content-Type":"application/x-www-form-urlencoded"}));return{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(506);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"urdubit",name:"UrduBit",countries:"PK",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991453-156bf3ae-6480-11e7-82eb-7295fe1b5bb4.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://urdubit.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"8"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(438);e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"vaultoro",name:"Vaultoro",countries:"CH",rateLimit:1e3,version:"1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766880-f205e870-5ee9-11e7-8fe2-0d5b15880752.jpg",api:"https://api.vaultoro.com",www:"https://www.vaultoro.com",doc:"https://api.vaultoro.com"},commonCurrencies:{GLD:"Gold"},api:{public:{get:["bidandask","buyorders","latest","latesttrades","markets","orderbook","sellorders","transactions/day","transactions/hour","transactions/month"]},private:{get:["balance","mytrades","orders"],post:["buy/{symbol}/{type}","cancel/{id}","sell/{symbol}/{type}","withdraw"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.publicGetMarkets();case 3:return r=e.sent,i=r.data,n=i.BaseCurrency,s=i.MarketCurrency,o=this.commonCurrencyCode(n),u=this.commonCurrencyCode(s),d=o+"/"+u,c=i.MarketName,t.push({id:c,symbol:d,base:o,quote:u,baseId:n,quoteId:s,info:i}),e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d,c,l,h;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetBalance();case 4:for(t=e.sent,r=t.data,i={info:r},n=0;n<r.length;n++)s=r[n],o=s.currency_code.toUpperCase(),u=o,o in this.currencies_by_id[o]&&(u=this.currencies_by_id[o].code),d=s.cash,c=s.reserved,l=this.sum(d,c),h={free:d,used:c,total:l},i[u]=h;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetOrderbook(n);case 4:return r=e.sent,i={bids:r.data[0].b,asks:r.data[1].s},e.abrupt("return",this.parseOrderBook(i,void 0,"bids","asks","Gold_Price","Gold_Amount"));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n,s,o,u,d,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetBidandask(l);case 4:return r=e.sent,i=r.bids.length,n=r.bids[i-1],s=r.asks[0],e.next=10,this.publicGetMarkets(l);case 10:return o=e.sent,u=o.data,d=this.milliseconds(),c=this.safeFloat(u,"LastPrice"),e.abrupt("return",{symbol:t,timestamp:d,datetime:this.iso8601(d),high:this.safeFloat(u,"24hHigh"),low:this.safeFloat(u,"24hLow"),bid:n[0],bidVolume:void 0,ask:s[0],askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(u,"24hVolume"),info:u});case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e,t){var r=this.parse8601(e.Time);return{id:void 0,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,order:void 0,type:void 0,side:void 0,price:e.Gold_Price,amount:e.Gold_Amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTransactionsDay(o);case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,s));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=this.market(t),o="privatePost"+this.capitalize(i)+"SymbolType",e.next=6,this[o](this.extend({symbol:s.quoteId.toLowerCase(),type:r,gld:n,price:d||1},c));case 6:return u=e.sent,e.abrupt("return",{info:u,id:u.data.Order_ID});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostCancelId(this.extend({id:t},r));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/";if("public"===t)s+=e;else{this.checkRequiredCredentials();var o=this.nonce();s+=this.version+"/"+this.implodeParams(e,i);var u=this.extend({nonce:o,apikey:this.apiKey},this.omit(i,this.extractParams(e)));s+="?"+this.urlencode(u),n={"Content-Type":"application/json","X-Signature":this.hmac(this.encode(s),this.encode(this.secret))}}return{url:s,method:r,body:a,headers:n}}}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(506);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"vbtc",name:"VBTC",countries:"VN",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991481-1f53d1d8-6481-11e7-884e-21d17e7939db.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://vbtc.exchange",doc:"https://blinktrade.com/docs"},options:{brokerId:"3"}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"virwox",name:"VirWoX",countries:["AT","EU"],rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766894-6da9d360-5eea-11e7-90aa-41f2711b7405.jpg",api:{public:"http://api.virwox.com/api/json.php",private:"https://www.virwox.com/api/trading.php"},www:"https://www.virwox.com",doc:"https://www.virwox.com/developers.php"},requiredCredentials:{apiKey:!0,secret:!1,login:!0,password:!0},api:{public:{get:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"],post:["getInstruments","getBestPrices","getMarketDepth","estimateMarketOrder","getTradedPriceVolume","getRawTradeData","getStatistics","getTerminalList","getGridList","getGridStatistics"]},private:{get:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"],post:["cancelOrder","getBalances","getCommissionDiscount","getOrders","getTransactions","placeOrder"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetGetInstruments();case 2:for(t=e.sent,r=(0,o.default)(t.result),i=[],n=0;n<r.length;n++)s=t.result[r[n]],u=s.instrumentID,d=s.symbol,c=s.longCurrency,l=s.shortCurrency,i.push({id:u,symbol:d,base:c,quote:l,info:s});return e.abrupt("return",i);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,o,u,d;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetBalances();case 4:for(t=e.sent,r=t.result.accountList,i={info:r},n=0;n<r.length;n++)s=r[n],o=s.currency,u=s.balance,d={free:u,used:0,total:u},i[o]=d;return e.abrupt("return",this.parseBalance(i));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchMarketPrice",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicPostGetBestPrices(this.extend({symbols:[t]},n));case 4:return r=e.sent,i=r.result,e.abrupt("return",{bid:this.safeFloat(i[0],"bestBuyPrice"),ask:this.safeFloat(i[0],"bestSellPrice")});case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r={symbols:[t]},"undefined"!==typeof s&&(r.buyDepth=s,r.sellDepth=s),e.next=6,this.publicPostGetMarketDepth(this.extend(r,o));case 6:return i=e.sent,n=i.result[0],e.abrupt("return",this.parseOrderBook(n,void 0,"buy","sell","price","volume"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,u,d,c,l,h,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.milliseconds(),i=r-864e5,e.next=6,this.publicGetGetTradedPriceVolume(this.extend({instrument:t,endDate:this.ymdhms(r),startDate:this.ymdhms(i),HLOC:1},p));case 6:return n=e.sent,s=n.result.priceVolumeList,u=(0,o.default)(s),d=u.length,c=u[d-1],l=s[c],h=this.milliseconds(),f=this.safeFloat(l,"close"),e.abrupt("return",{symbol:t,timestamp:h,datetime:this.iso8601(h),high:this.safeFloat(l,"high"),low:this.safeFloat(l,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(l,"open"),close:f,last:f,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(l,"longVolume"),quoteVolume:this.safeFloat(l,"shortVolume"),info:l});case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.safeInteger(e,"time"),i=1e3*r;return{id:e.tid,timestamp:i,datetime:this.iso8601(i),order:void 0,symbol:t,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"vol"),fee:void 0,info:e}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetGetRawTradeData(this.extend({instrument:t,timespan:3600},o));case 5:return i=e.sent,n=i.result,s=n.data,e.abrupt("return",this.parseTrades(s,r));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i,n){var s,o,u,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return s=this.market(t),o={instrument:s.symbol,orderType:i.toUpperCase(),amount:n},"limit"===r&&(o.price=d),e.next=7,this.privatePostPlaceOrder(this.extend(o,c));case 7:return u=e.sent,e.abrupt("return",{info:u,id:u.result.orderID.toString()});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder(this.extend({orderID:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api[t],o={};"private"===t&&(this.checkRequiredCredentials(),o.key=this.apiKey,o.user=this.login,o.pass=this.password);var u=this.nonce();return"GET"===r?s+="?"+this.urlencode(this.extend({method:e,id:u},o,i)):(n={"Content-Type":"application/json"},a=this.json({method:e,params:this.extend(o,i),id:u})),{url:s,method:r,body:a,headers:n}}},{key:"handleErrors",value:function(e,t,r,i,n,a){if(200===e){if("{"!==a[0]&&"["!==a[0])throw new C(this.id+" returned a non-JSON reply: "+a);var s=JSON.parse(a);if(!("result"in s))throw new C(this.id+" malformed response: no result in response: "+a);var o=s.result;if("errorCode"in o){if("OK"!==o.errorCode)throw new C(this.id+" error returned: "+a)}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(435),o=i(s),u=r(429),d=i(u),c=r(430),l=i(c),h=r(431),f=i(h),p=r(432),v=i(p),m=r(434),y=i(m),k=r(433),b=i(k),g=r(507),w=r(437),x=w.ExchangeError,T=w.InsufficientFunds,C=w.OrderNotFound,_=w.DDoSProtection;e.exports=function(e){function t(){return(0,l.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,f.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,y.default)(t.prototype.__proto__||(0,d.default)(t.prototype),"describe",this).call(this),{id:"wex",name:"WEX",countries:"NZ",version:"3",has:{CORS:!1,fetchTickers:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30652751-d74ec8f8-9e31-11e7-98c5-71469fcef03e.jpg",api:{public:"https://wex.nz/api",private:"https://wex.nz/tapi"},www:"https://wex.nz",doc:["https://wex.nz/api/3/docs","https://wex.nz/tapi/docs"],fees:"https://wex.nz/fees"},api:{public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","TransHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001,LTC:.001,NMC:.1,NVC:.1,PPC:.1,DASH:.001,ETH:.003,BCH:.001,ZEC:.001}}},exceptions:{messages:{"bad status":C,"Requests too often":_,"not available":_,"external service unavailable":_}},commonCurrencies:{RUR:"RUB"}})}},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=1e3*e.updated,i=void 0;t&&(i=t.symbol);var n=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"sell"),bidVolume:void 0,ask:this.safeFloat(e,"buy"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={coinName:this.commonCurrencyCode(t)},e.next=3,this.privatePostCoinDepositAddress(this.extend(r,n));case 3:return i=e.sent,e.abrupt("return",{currency:t,address:i.return.address,tag:void 0,status:"ok",info:i});case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleErrors",value:function(e,t,r,i,n,a){if(200===e){if("{"!==a[0])return;var s=JSON.parse(a);if("success"in s&&!s.success){var o=this.safeString(s,"error");if(!o)throw new x(this.id+" returned a malformed error: "+a);if("no orders"===o)return;var u=this.id+" "+this.json(s),d=this.exceptions.messages;if(o in d)throw new d[o](u);throw o.indexOf("It is not enough")>=0?new T(u):new x(u)}}}}]),t}(g)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(438),T=r(437),C=T.ExchangeError,_=T.NotSupported,O=T.AuthenticationError;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"xbtce",name:"xBTCe",countries:"RU",rateLimit:2e3,version:"v1",has:{publicAPI:!1,CORS:!1,fetchTickers:!0,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28059414-e235970c-662c-11e7-8c3a-08e31f78684b.jpg",api:"https://cryptottlivewebapi.xbtce.net:8443/api",www:"https://www.xbtce.com",doc:["https://www.xbtce.com/tradeapi","https://support.xbtce.info/Knowledgebase/Article/View/52/25/xbtce-exchange-api"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency","currency/{filter}","level2","level2/{filter}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/level2","quotehistory/{symbol}/ticks","symbol","symbol/{filter}","tick","tick/{filter}","ticker","ticker/{filter}","tradesession"]},private:{get:["tradeserverinfo","tradesession","currency","currency/{filter}","level2","level2/{filter}","symbol","symbol/{filter}","tick","tick/{filter}","account","asset","asset/{id}","position","position/{id}","trade","trade/{id}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/ask/info","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/{periodicity}/bars/bid/info","quotehistory/{symbol}/level2","quotehistory/{symbol}/level2/info","quotehistory/{symbol}/periodicities","quotehistory/{symbol}/ticks","quotehistory/{symbol}/ticks/info","quotehistory/cache/{symbol}/{periodicity}/bars/ask","quotehistory/cache/{symbol}/{periodicity}/bars/bid","quotehistory/cache/{symbol}/level2","quotehistory/cache/{symbol}/ticks","quotehistory/symbols","quotehistory/version"],post:["trade","tradehistory"],put:["trade"],delete:["trade"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateGetSymbol();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.Symbol,s=n.MarginCurrency,u=n.ProfitCurrency,"DSH"===s&&(s="DASH"),d=s+"/"+u,d=n.IsTradeAllowed?d:a,r.push({id:a,symbol:d,base:s,quote:u,info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,a,s,u;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetAsset();case 4:for(t=e.sent,r={info:t},i=0;i<t.length;i++)n=t[i],a=n.Currency,s=a.toUpperCase(),"DSH"===s&&(s="DASH"),u={free:n.FreeAmount,used:n.LockedAmount,total:n.Amount},r[s]=u;return e.abrupt("return",this.parseBalance(r));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.privateGetLevel2Filter(this.extend({filter:r.id},a));case 5:return i=e.sent,i=i[0],n=i.Timestamp,e.abrupt("return",this.parseOrderBook(i,n,"Bids","Asks","Price","Volume"));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTicker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=0,i=void 0;"LastBuyTimestamp"in e&&r<e.LastBuyTimestamp&&(r=e.LastBuyTimestamp,i=e.LastBuyPrice),"LastSellTimestamp"in e&&r<e.LastSellTimestamp&&(r=e.LastSellTimestamp,i=e.LastSellPrice),r||(r=this.milliseconds());var n=void 0;return t&&(n=t.symbol),{symbol:n,timestamp:r,datetime:this.iso8601(r),high:e.DailyBestBuyPrice,low:e.DailyBestSellPrice,bid:e.BestBid,bidVolume:void 0,ask:e.BestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:i,last:i,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.DailyTradedTotalVolume,quoteVolume:void 0,info:e}}},{key:"fetchTickers",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTicker(f);case 4:for(t=e.sent,t=this.indexBy(t,"Symbol"),r=(0,a.default)(t),i={},n=0;n<r.length;n++)s=r[n],u=void 0,d=void 0,s in this.markets_by_id?(u=this.markets_by_id[s],d=u.symbol):(c=s.slice(0,3),l=s.slice(3,6),"DSH"===c&&(c="DASH"),"DSH"===l&&(l="DASH"),d=c+"/"+l),h=t[s],i[d]=this.parseTicker(h,u);return e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r,i,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTickerFilter(this.extend({filter:r.id},s));case 5:if(i=e.sent,!((n=i.length)<1)){e.next=9;break}throw new C(this.id+" fetchTicker returned empty response, xBTCe public API error");case 9:return i=this.indexBy(i,"Symbol"),a=i[r.id],e.abrupt("return",this.parseTicker(a,r));case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privateGetTrade(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOHLCV",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return[e.Timestamp,e.Open,e.High,e.Low,e.Close,e.Volume]}},{key:"fetchOHLCV",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new _(this.id+" fetchOHLCV is disabled by the exchange");case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t,r,i,n){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("market"!==r){e.next=4;break}throw new C(this.id+" allows limit orders only");case 4:return e.next=6,this.privatePostTrade(this.extend({pair:this.marketId(t),type:i,amount:n,rate:s},u));case 6:return a=e.sent,e.abrupt("return",{info:a,id:a.Id.toString()});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privateDeleteTrade(this.extend({Type:"Cancel",Id:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return this.milliseconds()}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(!this.apiKey)throw new O(this.id+" requires apiKey for all requests, their public API is always busy");if(!this.uid)throw new O(this.id+" requires uid property for authentication and trading, their public API is always busy");var o=this.urls.api+"/"+this.version;"public"===t&&(o+="/"+t),o+="/"+this.implodeParams(e,i);var u=this.omit(i,this.extractParams(e));if("public"===t)(0,a.default)(u).length&&(o+="?"+this.urlencode(u));else{this.checkRequiredCredentials(),n={"Accept-Encoding":"gzip, deflate"};var d=this.nonce().toString();"POST"===r&&((0,a.default)(u).length?(n["Content-Type"]="application/json",s=this.json(u)):o+="?"+this.urlencode(u));var c=d+this.uid+this.apiKey+r+o;s&&(c+=s);var l=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64"),h=this.uid+":"+this.apiKey+":"+d+":"+this.binaryToString(l);n.Authorization="HMAC "+h}return{url:o,method:r,body:s,headers:n}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(19),a=i(n),s=r(436),o=i(s),u=r(435),d=i(u),c=r(429),l=i(c),h=r(430),f=i(h),p=r(431),v=i(p),m=r(432),y=i(m),k=r(434),b=i(k),g=r(433),w=i(g),x=r(507),T=r(437),C=T.ExchangeError,_=T.InsufficientFunds,O=T.DDoSProtection;e.exports=function(e){function t(){return(0,f.default)(this,t),(0,y.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,v.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,b.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"describe",this).call(this),{id:"yobit",name:"YoBit",countries:"RU",rateLimit:3e3,version:"3",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BLN:"Bulleon",BTS:"Bitshares2",CAT:"BitClave",COV:"Coven Coin",CPC:"Capricoin",CS:"CryptoSpots",DCT:"Discount",DGD:"DarkGoldCoin",DROP:"FaucetCoin",ERT:"Eristica Token",ICN:"iCoin",KNC:"KingN Coin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUN:"LunarCoin",MDT:"Midnight",NAV:"NavajoCoin",OMG:"OMGame",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",REP:"Republicoin",RUR:"RUB",XIN:"XINCoin"},options:{fetchOrdersRequiresSymbol:!0}})}},{key:"parseOrderStatus",value:function(e){var t={0:"open",1:"closed",2:"canceled",3:"open"};return e in t?t[e]:e}},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(){var t,r,i,n,s,u,d,c,l,h,f,p,v,m;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetInfo();case 4:for(t=e.sent,r=t.return,i={info:r},n={free:"funds",total:"funds_incl_orders"},s=(0,o.default)(n),u=0;u<s.length;u++)if(d=s[u],(c=n[d])in r)for(l=(0,o.default)(r[c]),h=0;h<l.length;h++)f=l[h],p=f.toUpperCase(),v=this.commonCurrencyCode(p),m=void 0,m=v in i?i[v]:this.account(),m[d]=r[c][f],"undefined"!==typeof m.total&&"undefined"!==typeof m.free&&(m.used=m.total-m.free),i[v]=m;return e.abrupt("return",this.parseBalance(i));case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"createDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchDepositAddress(t,this.extend({need_new:1},n));case 2:return r=e.sent,i=this.safeString(r,"address"),this.checkAddress(i),e.abrupt("return",{currency:t,address:i,status:"ok",info:r.info});case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchDepositAddress",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t){var r,i,n,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.currency(t),i={coinName:r.id,need_new:0},e.next=6,this.privatePostGetDepositAddress(this.extend(i,o));case 6:return n=e.sent,s=this.safeString(n.return,"address"),this.checkAddress(s),e.abrupt("return",{currency:t,address:s,status:"ok",info:n});case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,d.default)(a.default.mark(function e(t,r,i){var n,s,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:return n=this.currency(t),e.next=6,this.privatePostWithdrawCoinsToAddress(this.extend({coinName:n.id,amount:r,address:i},o));case 6:return s=e.sent,e.abrupt("return",{info:s,id:void 0});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"handleErrors",value:function(e,t,r,i,n,a){if("{"===a[0]){var s=JSON.parse(a);if("success"in s&&!s.success){if("error_log"in s){if(s.error_log.indexOf("Insufficient funds")>=0)throw new _(this.id+" "+this.json(s));if("Requests too often"===s.error_log)throw new O(this.id+" "+this.json(s));if("not available"===s.error_log||"external service unavailable"===s.error_log)throw new O(this.id+" "+this.json(s))}throw new C(this.id+" "+this.json(s))}}}}]),t}(x)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(429),a=i(n),s=r(430),o=i(s),u=r(431),d=i(u),c=r(432),l=i(c),h=r(434),f=i(h),p=r(433),v=i(p),m=r(620);e.exports=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,f.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"describe",this).call(this),{id:"yunbi",name:"YUNBI",countries:"CN",rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28570548-4d646c40-7147-11e7-9cf6-839b93e6d622.jpg",extension:".json",api:"https://yunbi.com",www:"https://yunbi.com",doc:["https://yunbi.com/documents/api/guide","https://yunbi.com/swagger/"]},api:{public:{get:["tickers","tickers/{market}","markets","order_book","k","depth","trades","k_with_pending_trades","timestamp","addresses/{address}","partners/orders/{id}/trades"]},private:{get:["deposits","members/me","deposit","deposit_address","order","orders","trades/my"],post:["order/delete","orders","orders/multi","orders/clear"]}}})}}]),t}(m)},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(436),a=i(n),s=r(19),o=i(s),u=r(505),d=i(u),c=r(439),l=i(c),h=r(435),f=i(h),p=r(429),v=i(p),m=r(430),y=i(m),k=r(431),b=i(k),g=r(432),w=i(g),x=r(434),T=i(x),C=r(433),_=i(C),O=r(438),B=r(437),S=B.ExchangeError;e.exports=function(e){function t(){return(0,y.default)(this,t),(0,w.default)(this,(t.__proto__||(0,v.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,b.default)(t,[{key:"describe",value:function(){return this.deepExtend((0,T.default)(t.prototype.__proto__||(0,v.default)(t.prototype),"describe",this).call(this),{id:"zaif",name:"Zaif",countries:"JP",rateLimit:2e3,version:"1",has:{CORS:!1,createMarketOrder:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["http://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:-1e-4,maker:-5e-4}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}}})}},{key:"fetchMarkets",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,a,s,u,c,h,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.publicGetCurrencyPairsAll();case 2:for(t=e.sent,r=[],i=0;i<t.length;i++)n=t[i],a=n.currency_pair,s=n.name,u=s.split("/"),c=(0,l.default)(u,2),h=c[0],f=c[1],p={amount:-(0,d.default)(n.item_unit_step),price:n.aux_unit_point},r.push({id:a,symbol:s,base:h,quote:f,active:!0,precision:p,limits:{amount:{min:this.safeFloat(n,"item_unit_min"),max:void 0},price:{min:this.safeFloat(n,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:n});return e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchBalance",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n,s,u,d,c,l;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.privatePostGetInfo();case 4:for(t=e.sent,r=t.return,i={info:r},n=(0,a.default)(r.funds),s=0;s<n.length;s++)u=n[s],d=r.funds[u],c=u.toUpperCase(),l={free:d,used:0,total:d},"deposit"in r&&u in r.deposit&&(l.total=r.deposit[u],l.used=l.total-l.free),i[c]=l;return e.abrupt("return",this.parseBalance(i));case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchOrderBook",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetDepthPair(this.extend({pair:this.marketId(t)},i));case 4:return r=e.sent,e.abrupt("return",this.parseOrderBook(r));case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchTicker",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n,a,s,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return e.next=4,this.publicGetTickerPair(this.extend({pair:this.marketId(t)},d));case 4:return r=e.sent,i=this.milliseconds(),n=r.vwap,a=r.volume,s=a*n,u=r.last,e.abrupt("return",{symbol:t,timestamp:i,datetime:this.iso8601(i),high:r.high,low:r.low,bid:r.bid,bidVolume:void 0,ask:r.ask,askVolume:void 0,vwap:n,open:void 0,close:u,last:u,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:s,info:r});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseTrade",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.trade_type?"buy":"sell",i=1e3*e.date,n=this.safeString(e,"id");return n=this.safeString(e,"tid",n),t||(t=this.markets_by_id[e.currency_pair]),{id:n.toString(),info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,type:void 0,side:r,price:e.price,amount:e.amount}}},{key:"fetchTrades",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return r=this.market(t),e.next=5,this.publicGetTradesPair(this.extend({pair:r.id},s));case 5:return i=e.sent,e.abrupt("return",this.parseTrades(i,r,n,a));case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"createOrder",value:function(){function e(e,r,i,n){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t,r,i,n){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:if("market"!==r){e.next=4;break}throw new S(this.id+" allows limit orders only");case 4:return e.next=6,this.privatePostTrade(this.extend({currency_pair:this.marketId(t),action:"buy"===i?"bid":"ask",amount:n,price:s},u));case 6:return a=e.sent,e.abrupt("return",{info:a,id:a.return.order_id.toString()});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"cancelOrder",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.privatePostCancelOrder(this.extend({order_id:t},r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"parseOrder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r="bid"===e.action?"buy":"sell",i=1e3*parseInt(e.timestamp);t||(t=this.markets_by_id[e.currency_pair]);var n=e.price,a=e.amount;return{id:e.id.toString(),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:"open",symbol:t.symbol,type:"limit",side:r,price:n,cost:n*a,amount:a,filled:void 0,remaining:void 0,trades:void 0,fee:void 0}}},{key:"parseOrders",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=(0,a.default)(e),s=[],o=0;o<n.length;o++){var u=n[o],d=e[u],c=this.extend(d,{id:u});s.push(this.parseOrder(c,t))}return this.filterBySinceLimit(s,r,i)}},{key:"fetchOpenOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},n&&(t=this.market(n),r.currency_pair=t.id),e.next=7,this.privatePostActiveOrders(this.extend(r,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.return,t,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"fetchClosedOrders",value:function(){function e(){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(){var t,r,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkets();case 2:return t=void 0,r={},n&&(t=this.market(n),r.currency_pair=t.id),e.next=7,this.privatePostTradeHistory(this.extend(r,u));case 7:return i=e.sent,e.abrupt("return",this.parseOrders(i.return,t,a,s));case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"withdraw",value:function(){function e(e,r,i){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t,r,i){var n,a=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkAddress(i),e.next=3,this.loadMarkets();case 3:if("JPY"!==t){e.next=5;break}throw new S(this.id+" does not allow "+t+" withdrawals");case 5:return e.next=7,this.privatePostWithdraw(this.extend({currency:t,amount:r,address:i},a));case 7:return n=e.sent,e.abrupt("return",{info:n,id:n.return.txid,fee:n.return.fee});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"nonce",value:function(){return parseFloat(this.milliseconds()/1e3).toFixed(8)}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,s=this.urls.api+"/";if("public"===t)s+="api/"+this.version+"/"+this.implodeParams(e,i);else if("fapi"===t)s+="fapi/"+this.version+"/"+this.implodeParams(e,i);else{this.checkRequiredCredentials(),s+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";var o=this.nonce();a=this.urlencode(this.extend({method:e,nonce:o},i)),n={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:s,method:r,body:a,headers:n}}},{key:"request",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,f.default)(o.default.mark(function e(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch2(t,i,n,a,s,u);case 2:if(!("error"in(r=e.sent))){e.next=5;break}throw new S(this.id+" "+r.error);case 5:if(!("success"in r)){e.next=8;break}if(r.success){e.next=8;break}throw new S(this.id+" "+this.json(r));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return e}()}]),t}(O)}]));
//# sourceMappingURL=1.05939b20.chunk.js.map